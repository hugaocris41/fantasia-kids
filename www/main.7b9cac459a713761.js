(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{2844:(_n,vt,k)=>{"use strict";k.d(vt,{O:()=>l});var l=function(U){return U.NOT_REQUIRED="NOT_REQUIRED",U.OBTAINED="OBTAINED",U.REQUIRED="REQUIRED",U.UNKNOWN="UNKNOWN",U}(l||{})},9942:(_n,vt,k)=>{"use strict";k.d(vt,{IW:()=>Me,zz:()=>ie,Jb:()=>me});var l=k(5083),ie=function(le){return le.TOP_CENTER="TOP_CENTER",le.CENTER="CENTER",le.BOTTOM_CENTER="BOTTOM_CENTER",le}(ie||{}),me=function(le){return le.BANNER="BANNER",le.FULL_BANNER="FULL_BANNER",le.LARGE_BANNER="LARGE_BANNER",le.MEDIUM_RECTANGLE="MEDIUM_RECTANGLE",le.LEADERBOARD="LEADERBOARD",le.ADAPTIVE_BANNER="ADAPTIVE_BANNER",le.SMART_BANNER="SMART_BANNER",le}(me||{});k(2844);const Me=(0,l.F3)("AdMob",{web:()=>k.e(6077).then(k.bind(k,6077)).then(le=>new le.AdMobWeb)})},5083:(_n,vt,k)=>{"use strict";k.d(vt,{E_:()=>st,F3:()=>Ue});var l=k(467);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var $e=function(mt){return mt.Unimplemented="UNIMPLEMENTED",mt.Unavailable="UNAVAILABLE",mt}($e||{});class Ke extends Error{constructor(Ye,Et,It){super(Ye),this.message=Ye,this.code=Et,this.data=It}}const le=mt=>{var Ye,Et,It,rn,Qe;const Ce=mt.CapacitorCustomPlatform||null,q=mt.Capacitor||{},ne=q.Plugins=q.Plugins||{},ae=mt.CapacitorPlatforms,Tt=(null===(Ye=ae?.currentPlatform)||void 0===Ye?void 0:Ye.getPlatform)||(()=>null!==Ce?Ce.name:(mt=>{var Ye,Et;return mt?.androidBridge?"android":null!==(Et=null===(Ye=mt?.webkit)||void 0===Ye?void 0:Ye.messageHandlers)&&void 0!==Et&&Et.bridge?"ios":"web"})(mt)),Ht=(null===(Et=ae?.currentPlatform)||void 0===Et?void 0:Et.isNativePlatform)||(()=>"web"!==Tt()),Hn=(null===(It=ae?.currentPlatform)||void 0===It?void 0:It.isPluginAvailable)||(dn=>{const On=Zn.get(dn);return!(!On?.platforms.has(Tt())&&!Bn(dn))}),Bn=(null===(rn=ae?.currentPlatform)||void 0===rn?void 0:rn.getPluginHeader)||(dn=>{var On;return null===(On=q.PluginHeaders)||void 0===On?void 0:On.find(zt=>zt.name===dn)}),Zn=new Map,Gn=(null===(Qe=ae?.currentPlatform)||void 0===Qe?void 0:Qe.registerPlugin)||((dn,On={})=>{const zt=Zn.get(dn);if(zt)return console.warn(`Capacitor plugin "${dn}" already registered. Cannot register plugins twice.`),zt.proxy;const kt=Tt(),Bt=Bn(dn);let pn;const Un=function(){var qn=(0,l.A)(function*(){return!pn&&kt in On?pn=pn="function"==typeof On[kt]?yield On[kt]():On[kt]:null!==Ce&&!pn&&"web"in On&&(pn=pn="function"==typeof On.web?yield On.web():On.web),pn});return function(){return qn.apply(this,arguments)}}(),gr=qn=>{let Jn;const Ir=(...pi)=>{const Kn=Un().then(oi=>{const Xn=((qn,Jn)=>{var Ir,pi;if(!Bt){if(qn)return null===(pi=qn[Jn])||void 0===pi?void 0:pi.bind(qn);throw new Ke(`"${dn}" plugin is not implemented on ${kt}`,$e.Unimplemented)}{const Kn=Bt?.methods.find(oi=>Jn===oi.name);if(Kn)return"promise"===Kn.rtype?oi=>q.nativePromise(dn,Jn.toString(),oi):(oi,Xn)=>q.nativeCallback(dn,Jn.toString(),oi,Xn);if(qn)return null===(Ir=qn[Jn])||void 0===Ir?void 0:Ir.bind(qn)}})(oi,qn);if(Xn){const cr=Xn(...pi);return Jn=cr?.remove,cr}throw new Ke(`"${dn}.${qn}()" is not implemented on ${kt}`,$e.Unimplemented)});return"addListener"===qn&&(Kn.remove=(0,l.A)(function*(){return Jn()})),Kn};return Ir.toString=()=>`${qn.toString()}() { [capacitor code] }`,Object.defineProperty(Ir,"name",{value:qn,writable:!1,configurable:!1}),Ir},Sn=gr("addListener"),qt=gr("removeListener"),Pr=(qn,Jn)=>{const Ir=Sn({eventName:qn},Jn),pi=function(){var oi=(0,l.A)(function*(){const Xn=yield Ir;qt({eventName:qn,callbackId:Xn},Jn)});return function(){return oi.apply(this,arguments)}}(),Kn=new Promise(oi=>Ir.then(()=>oi({remove:pi})));return Kn.remove=(0,l.A)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield pi()}),Kn},Sr=new Proxy({},{get(qn,Jn){switch(Jn){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Bt?Pr:Sn;case"removeListener":return qt;default:return gr(Jn)}}});return ne[dn]=Sr,Zn.set(dn,{name:dn,proxy:Sr,platforms:new Set([...Object.keys(On),...Bt?[kt]:[]])}),Sr});return q.convertFileSrc||(q.convertFileSrc=dn=>dn),q.getPlatform=Tt,q.handleError=dn=>mt.console.error(dn),q.isNativePlatform=Ht,q.isPluginAvailable=Hn,q.pluginMethodNoop=(dn,On,zt)=>Promise.reject(`${zt} does not have an implementation of "${On}".`),q.registerPlugin=Gn,q.Exception=Ke,q.DEBUG=!!q.DEBUG,q.isLoggingEnabled=!!q.isLoggingEnabled,q.platform=q.getPlatform(),q.isNative=q.isNativePlatform(),q},je=(mt=>mt.Capacitor=le(mt))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ue=je.registerPlugin;class st{constructor(Ye){this.listeners={},this.retainedEventArguments={},this.windowListeners={},Ye&&(console.warn(`Capacitor WebPlugin "${Ye.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=Ye)}addListener(Ye,Et){var It=this;let rn=!1;this.listeners[Ye]||(this.listeners[Ye]=[],rn=!0),this.listeners[Ye].push(Et);const Ce=this.windowListeners[Ye];Ce&&!Ce.registered&&this.addWindowListener(Ce),rn&&this.sendRetainedArgumentsForEvent(Ye);const q=function(){var ae=(0,l.A)(function*(){return It.removeListener(Ye,Et)});return function(){return ae.apply(this,arguments)}}();return Promise.resolve({remove:q})}removeAllListeners(){var Ye=this;return(0,l.A)(function*(){Ye.listeners={};for(const Et in Ye.windowListeners)Ye.removeWindowListener(Ye.windowListeners[Et]);Ye.windowListeners={}})()}notifyListeners(Ye,Et,It){const rn=this.listeners[Ye];if(rn)rn.forEach(Qe=>Qe(Et));else if(It){let Qe=this.retainedEventArguments[Ye];Qe||(Qe=[]),Qe.push(Et),this.retainedEventArguments[Ye]=Qe}}hasListeners(Ye){return!!this.listeners[Ye].length}registerWindowListener(Ye,Et){this.windowListeners[Et]={registered:!1,windowEventName:Ye,pluginEventName:Et,handler:It=>{this.notifyListeners(Et,It)}}}unimplemented(Ye="not implemented"){return new je.Exception(Ye,$e.Unimplemented)}unavailable(Ye="not available"){return new je.Exception(Ye,$e.Unavailable)}removeListener(Ye,Et){var It=this;return(0,l.A)(function*(){const rn=It.listeners[Ye];if(!rn)return;const Qe=rn.indexOf(Et);It.listeners[Ye].splice(Qe,1),It.listeners[Ye].length||It.removeWindowListener(It.windowListeners[Ye])})()}addWindowListener(Ye){window.addEventListener(Ye.windowEventName,Ye.handler),Ye.registered=!0}removeWindowListener(Ye){Ye&&(window.removeEventListener(Ye.windowEventName,Ye.handler),Ye.registered=!1)}sendRetainedArgumentsForEvent(Ye){const Et=this.retainedEventArguments[Ye];Et&&(delete this.retainedEventArguments[Ye],Et.forEach(It=>{this.notifyListeners(Ye,It)}))}}const wt=mt=>encodeURIComponent(mt).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),yt=mt=>mt.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class it extends st{getCookies(){return(0,l.A)(function*(){const Ye=document.cookie,Et={};return Ye.split(";").forEach(It=>{if(It.length<=0)return;let[rn,Qe]=It.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");rn=yt(rn).trim(),Qe=yt(Qe).trim(),Et[rn]=Qe}),Et})()}setCookie(Ye){return(0,l.A)(function*(){try{const Et=wt(Ye.key),It=wt(Ye.value),rn=`; expires=${(Ye.expires||"").replace("expires=","")}`,Qe=(Ye.path||"/").replace("path=",""),Ce=null!=Ye.url&&Ye.url.length>0?`domain=${Ye.url}`:"";document.cookie=`${Et}=${It||""}${rn}; path=${Qe}; ${Ce};`}catch(Et){return Promise.reject(Et)}})()}deleteCookie(Ye){return(0,l.A)(function*(){try{document.cookie=`${Ye.key}=; Max-Age=0`}catch(Et){return Promise.reject(Et)}})()}clearCookies(){return(0,l.A)(function*(){try{const Ye=document.cookie.split(";")||[];for(const Et of Ye)document.cookie=Et.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(Ye){return Promise.reject(Ye)}})()}clearAllCookies(){var Ye=this;return(0,l.A)(function*(){try{yield Ye.clearCookies()}catch(Et){return Promise.reject(Et)}})()}}Ue("CapacitorCookies",{web:()=>new it});const _e=function(){var mt=(0,l.A)(function*(Ye){return new Promise((Et,It)=>{const rn=new FileReader;rn.onload=()=>{const Qe=rn.result;Et(Qe.indexOf(",")>=0?Qe.split(",")[1]:Qe)},rn.onerror=Qe=>It(Qe),rn.readAsDataURL(Ye)})});return function(Et){return mt.apply(this,arguments)}}();class Nt extends st{request(Ye){return(0,l.A)(function*(){const Et=((mt,Ye={})=>{const Et=Object.assign({method:mt.method||"GET",headers:mt.headers},Ye),rn=((mt={})=>{const Ye=Object.keys(mt);return Object.keys(mt).map(rn=>rn.toLocaleLowerCase()).reduce((rn,Qe,Ce)=>(rn[Qe]=mt[Ye[Ce]],rn),{})})(mt.headers)["content-type"]||"";if("string"==typeof mt.data)Et.body=mt.data;else if(rn.includes("application/x-www-form-urlencoded")){const Qe=new URLSearchParams;for(const[Ce,q]of Object.entries(mt.data||{}))Qe.set(Ce,q);Et.body=Qe.toString()}else if(rn.includes("multipart/form-data")||mt.data instanceof FormData){const Qe=new FormData;if(mt.data instanceof FormData)mt.data.forEach((q,ne)=>{Qe.append(ne,q)});else for(const q of Object.keys(mt.data))Qe.append(q,mt.data[q]);Et.body=Qe;const Ce=new Headers(Et.headers);Ce.delete("content-type"),Et.headers=Ce}else(rn.includes("application/json")||"object"==typeof mt.data)&&(Et.body=JSON.stringify(mt.data));return Et})(Ye,Ye.webFetchExtra),It=((mt,Ye=!0)=>mt?Object.entries(mt).reduce((It,rn)=>{const[Qe,Ce]=rn;let q,ne;return Array.isArray(Ce)?(ne="",Ce.forEach(ae=>{q=Ye?encodeURIComponent(ae):ae,ne+=`${Qe}=${q}&`}),ne.slice(0,-1)):(q=Ye?encodeURIComponent(Ce):Ce,ne=`${Qe}=${q}`),`${It}&${ne}`},"").substr(1):null)(Ye.params,Ye.shouldEncodeUrlParams),rn=It?`${Ye.url}?${It}`:Ye.url,Qe=yield fetch(rn,Et),Ce=Qe.headers.get("content-type")||"";let ne,ae,{responseType:q="text"}=Qe.ok?Ye:{};switch(Ce.includes("application/json")&&(q="json"),q){case"arraybuffer":case"blob":ae=yield Qe.blob(),ne=yield _e(ae);break;case"json":ne=yield Qe.json();break;default:ne=yield Qe.text()}const be={};return Qe.headers.forEach((Tt,Ne)=>{be[Ne]=Tt}),{data:ne,headers:be,status:Qe.status,url:Qe.url}})()}get(Ye){var Et=this;return(0,l.A)(function*(){return Et.request(Object.assign(Object.assign({},Ye),{method:"GET"}))})()}post(Ye){var Et=this;return(0,l.A)(function*(){return Et.request(Object.assign(Object.assign({},Ye),{method:"POST"}))})()}put(Ye){var Et=this;return(0,l.A)(function*(){return Et.request(Object.assign(Object.assign({},Ye),{method:"PUT"}))})()}patch(Ye){var Et=this;return(0,l.A)(function*(){return Et.request(Object.assign(Object.assign({},Ye),{method:"PATCH"}))})()}delete(Ye){var Et=this;return(0,l.A)(function*(){return Et.request(Object.assign(Object.assign({},Ye),{method:"DELETE"}))})()}}Ue("CapacitorHttp",{web:()=>new Nt})},1076:(_n,vt,k)=>{"use strict";k.d(vt,{Am:()=>ri,Bd:()=>ke,FA:()=>Ht,Fy:()=>et,I9:()=>gr,Im:()=>zt,Ku:()=>ve,Ll:()=>Nt,T9:()=>it,Uj:()=>Ke,XA:()=>Re,ZQ:()=>at,bD:()=>Bt,cY:()=>_e,eX:()=>ae,g:()=>Ne,gR:()=>dn,hp:()=>Sn,jZ:()=>ze,lT:()=>rn,lV:()=>Et,nr:()=>q,p7:()=>mt,sr:()=>Ye,tD:()=>Pr,u:()=>Me,zW:()=>ne,zw:()=>Be});const ie=function(ge){const De=[];let qe=0;for(let Ut=0;Ut<ge.length;Ut++){let _t=ge.charCodeAt(Ut);_t<128?De[qe++]=_t:_t<2048?(De[qe++]=_t>>6|192,De[qe++]=63&_t|128):55296==(64512&_t)&&Ut+1<ge.length&&56320==(64512&ge.charCodeAt(Ut+1))?(_t=65536+((1023&_t)<<10)+(1023&ge.charCodeAt(++Ut)),De[qe++]=_t>>18|240,De[qe++]=_t>>12&63|128,De[qe++]=_t>>6&63|128,De[qe++]=63&_t|128):(De[qe++]=_t>>12|224,De[qe++]=_t>>6&63|128,De[qe++]=63&_t|128)}return De},Ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ge,De){if(!Array.isArray(ge))throw Error("encodeByteArray takes an array as a parameter");this.init_();const qe=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ut=[];for(let _t=0;_t<ge.length;_t+=3){const mn=ge[_t],Nn=_t+1<ge.length,er=Nn?ge[_t+1]:0,Ii=_t+2<ge.length,ai=Ii?ge[_t+2]:0;let fn=(15&er)<<2|ai>>6,ei=63&ai;Ii||(ei=64,Nn||(fn=64)),Ut.push(qe[mn>>2],qe[(3&mn)<<4|er>>4],qe[fn],qe[ei])}return Ut.join("")},encodeString(ge,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(ge):this.encodeByteArray(ie(ge),De)},decodeString(ge,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(ge):function(ge){const De=[];let qe=0,Ut=0;for(;qe<ge.length;){const _t=ge[qe++];if(_t<128)De[Ut++]=String.fromCharCode(_t);else if(_t>191&&_t<224){const mn=ge[qe++];De[Ut++]=String.fromCharCode((31&_t)<<6|63&mn)}else if(_t>239&&_t<365){const Ii=((7&_t)<<18|(63&ge[qe++])<<12|(63&ge[qe++])<<6|63&ge[qe++])-65536;De[Ut++]=String.fromCharCode(55296+(Ii>>10)),De[Ut++]=String.fromCharCode(56320+(1023&Ii))}else{const mn=ge[qe++],Nn=ge[qe++];De[Ut++]=String.fromCharCode((15&_t)<<12|(63&mn)<<6|63&Nn)}}return De.join("")}(this.decodeStringToByteArray(ge,De))},decodeStringToByteArray(ge,De){this.init_();const qe=De?this.charToByteMapWebSafe_:this.charToByteMap_,Ut=[];for(let _t=0;_t<ge.length;){const mn=qe[ge.charAt(_t++)],er=_t<ge.length?qe[ge.charAt(_t)]:0;++_t;const ai=_t<ge.length?qe[ge.charAt(_t)]:64;++_t;const _r=_t<ge.length?qe[ge.charAt(_t)]:64;if(++_t,null==mn||null==er||null==ai||null==_r)throw new Oe;Ut.push(mn<<2|er>>4),64!==ai&&(Ut.push(er<<4&240|ai>>2),64!==_r&&Ut.push(ai<<6&192|_r))}return Ut},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ge=0;ge<this.ENCODED_VALS.length;ge++)this.byteToCharMap_[ge]=this.ENCODED_VALS.charAt(ge),this.charToByteMap_[this.byteToCharMap_[ge]]=ge,this.byteToCharMapWebSafe_[ge]=this.ENCODED_VALS_WEBSAFE.charAt(ge),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ge]]=ge,ge>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ge)]=ge,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ge)]=ge)}}};class Oe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ke=function(ge){return function(ge){const De=ie(ge);return Ae.encodeByteArray(De,!0)}(ge).replace(/\./g,"")},Me=function(ge){try{return Ae.decodeString(ge,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function Be(ge,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===ge&&(ge={});break;case Array:ge=[];break;default:return De}for(const qe in De)!De.hasOwnProperty(qe)||!je(qe)||(ge[qe]=Be(ge[qe],De[qe]));return ge}function je(ge){return"__proto__"!==ge}const Ze=()=>{try{return function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const ge=process.env.__FIREBASE_DEFAULTS__;return ge?JSON.parse(ge):void 0})()||(()=>{if(typeof document>"u")return;let ge;try{ge=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const De=ge&&Me(ge[1]);return De&&JSON.parse(De)})()}catch(ge){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${ge}`)}},it=()=>{var ge;return null===(ge=Ze())||void 0===ge?void 0:ge.config},Re=ge=>{var De;return null===(De=Ze())||void 0===De?void 0:De[`_${ge}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,qe)=>{this.resolve=De,this.reject=qe})}wrapCallback(De){return(qe,Ut)=>{qe?this.reject(qe):this.resolve(Ut),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(qe):De(qe,Ut))}}}function et(ge,De){if(ge.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ut=De||"demo-project",_t=ge.iat||0,mn=ge.sub||ge.user_id;if(!mn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Nn=Object.assign({iss:`https://securetoken.google.com/${Ut}`,aud:Ut,iat:_t,exp:_t+3600,auth_time:_t,sub:mn,user_id:mn,firebase:{sign_in_provider:"custom",identities:{}}},ge);return[Ke(JSON.stringify({alg:"none",type:"JWT"})),Ke(JSON.stringify(Nn)),""].join(".")}function at(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ze(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function Nt(){var ge;const De=null===(ge=Ze())||void 0===ge?void 0:ge.forceEnvironment;if("node"===De)return!0;if("browser"===De)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ke(){return typeof window<"u"||mt()}function mt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Ye(){const ge="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ge&&void 0!==ge.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rn(){const ge=at();return ge.indexOf("MSIE ")>=0||ge.indexOf("Trident/")>=0}function q(){return!Nt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){try{return"object"==typeof indexedDB}catch{return!1}}function ae(){return new Promise((ge,De)=>{try{let qe=!0;const Ut="validate-browser-context-for-indexeddb-analytics-module",_t=self.indexedDB.open(Ut);_t.onsuccess=()=>{_t.result.close(),qe||self.indexedDB.deleteDatabase(Ut),ge(!0)},_t.onupgradeneeded=()=>{qe=!1},_t.onerror=()=>{var mn;De((null===(mn=_t.error)||void 0===mn?void 0:mn.message)||"")}}catch(qe){De(qe)}})}class Ne extends Error{constructor(De,qe,Ut){super(qe),this.code=De,this.customData=Ut,this.name="FirebaseError",Object.setPrototypeOf(this,Ne.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(De,qe,Ut){this.service=De,this.serviceName=qe,this.errors=Ut}create(De,...qe){const Ut=qe[0]||{},_t=`${this.service}/${De}`,mn=this.errors[De],Nn=mn?function an(ge,De){return ge.replace(Hn,(qe,Ut)=>{const _t=De[Ut];return null!=_t?String(_t):`<${Ut}?>`})}(mn,Ut):"Error";return new Ne(_t,`${this.serviceName}: ${Nn} (${_t}).`,Ut)}}const Hn=/\{\$([^}]+)}/g;function dn(ge,De){return Object.prototype.hasOwnProperty.call(ge,De)}function zt(ge){for(const De in ge)if(Object.prototype.hasOwnProperty.call(ge,De))return!1;return!0}function Bt(ge,De){if(ge===De)return!0;const qe=Object.keys(ge),Ut=Object.keys(De);for(const _t of qe){if(!Ut.includes(_t))return!1;const mn=ge[_t],Nn=De[_t];if(pn(mn)&&pn(Nn)){if(!Bt(mn,Nn))return!1}else if(mn!==Nn)return!1}for(const _t of Ut)if(!qe.includes(_t))return!1;return!0}function pn(ge){return null!==ge&&"object"==typeof ge}function ri(ge){const De=[];for(const[qe,Ut]of Object.entries(ge))Array.isArray(Ut)?Ut.forEach(_t=>{De.push(encodeURIComponent(qe)+"="+encodeURIComponent(_t))}):De.push(encodeURIComponent(qe)+"="+encodeURIComponent(Ut));return De.length?"&"+De.join("&"):""}function gr(ge){const De={};return ge.replace(/^\?/,"").split("&").forEach(Ut=>{if(Ut){const[_t,mn]=Ut.split("=");De[decodeURIComponent(_t)]=decodeURIComponent(mn)}}),De}function Sn(ge){const De=ge.indexOf("?");if(!De)return"";const qe=ge.indexOf("#",De);return ge.substring(De,qe>0?qe:void 0)}function Pr(ge,De){const qe=new Sr(ge,De);return qe.subscribe.bind(qe)}class Sr{constructor(De,qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=qe,this.task.then(()=>{De(this)}).catch(Ut=>{this.error(Ut)})}next(De){this.forEachObserver(qe=>{qe.next(De)})}error(De){this.forEachObserver(qe=>{qe.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,qe,Ut){let _t;if(void 0===De&&void 0===qe&&void 0===Ut)throw new Error("Missing Observer.");_t=function Jn(ge,De){if("object"!=typeof ge||null===ge)return!1;for(const qe of De)if(qe in ge&&"function"==typeof ge[qe])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:qe,complete:Ut},void 0===_t.next&&(_t.next=Ir),void 0===_t.error&&(_t.error=Ir),void 0===_t.complete&&(_t.complete=Ir);const mn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?_t.error(this.finalError):_t.complete()}catch{}}),this.observers.push(_t),mn}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let qe=0;qe<this.observers.length;qe++)this.sendOne(qe,De)}sendOne(De,qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{qe(this.observers[De])}catch(Ut){typeof console<"u"&&console.error&&console.error(Ut)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ir(){}function ve(ge){return ge&&ge._delegate?ge._delegate:ge}},4442:(_n,vt,k)=>{"use strict";k.d(vt,{L:()=>me,a:()=>Ae,b:()=>Oe,c:()=>$e,d:()=>Ke,g:()=>Qe}),k(5531);const me="ionViewWillEnter",Ae="ionViewDidEnter",Oe="ionViewWillLeave",$e="ionViewDidLeave",Ke="ionViewWillUnload",Qe=Ce=>Ce.classList.contains("ion-page")?Ce:Ce.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Ce},5531:(_n,vt,k)=>{"use strict";k.d(vt,{a:()=>Me,c:()=>U,g:()=>Ke});class l{constructor(){this.m=new Map}reset(Ce){this.m=new Map(Object.entries(Ce))}get(Ce,q){const ne=this.m.get(Ce);return void 0!==ne?ne:q}getBoolean(Ce,q=!1){const ne=this.m.get(Ce);return void 0===ne?q:"string"==typeof ne?"true"===ne:!!ne}getNumber(Ce,q){const ne=parseFloat(this.m.get(Ce));return isNaN(ne)?void 0!==q?q:NaN:ne}set(Ce,q){this.m.set(Ce,q)}}const U=new l,Ke=Qe=>le(Qe),Me=(Qe,Ce)=>("string"==typeof Qe&&(Ce=Qe,Qe=void 0),Ke(Qe).includes(Ce)),le=(Qe=window)=>{if(typeof Qe>"u")return[];Qe.Ionic=Qe.Ionic||{};let Ce=Qe.Ionic.platforms;return null==Ce&&(Ce=Qe.Ionic.platforms=Be(Qe),Ce.forEach(q=>Qe.document.documentElement.classList.add(`plt-${q}`))),Ce},Be=Qe=>{const Ce=U.get("platform");return Object.keys(Ye).filter(q=>{const ne=Ce?.[q];return"function"==typeof ne?ne(Qe):Ye[q](Qe)})},Ue=Qe=>!!(ke(Qe,/iPad/i)||ke(Qe,/Macintosh/i)&&it(Qe)),st=Qe=>ke(Qe,/android|sink/i),it=Qe=>mt(Qe,"(any-pointer:coarse)"),_e=Qe=>et(Qe)||at(Qe),et=Qe=>!!(Qe.cordova||Qe.phonegap||Qe.PhoneGap),at=Qe=>{const Ce=Qe.Capacitor;return!!Ce?.isNative},ke=(Qe,Ce)=>Ce.test(Qe.navigator.userAgent),mt=(Qe,Ce)=>{var q;return null===(q=Qe.matchMedia)||void 0===q?void 0:q.call(Qe,Ce).matches},Ye={ipad:Ue,iphone:Qe=>ke(Qe,/iPhone/i),ios:Qe=>ke(Qe,/iPhone|iPod/i)||Ue(Qe),android:st,phablet:Qe=>{const Ce=Qe.innerWidth,q=Qe.innerHeight,ne=Math.min(Ce,q),ae=Math.max(Ce,q);return ne>390&&ne<520&&ae>620&&ae<800},tablet:Qe=>{const Ce=Qe.innerWidth,q=Qe.innerHeight,ne=Math.min(Ce,q),ae=Math.max(Ce,q);return Ue(Qe)||(Qe=>st(Qe)&&!ke(Qe,/mobile/i))(Qe)||ne>460&&ne<820&&ae>780&&ae<1400},cordova:et,capacitor:at,electron:Qe=>ke(Qe,/electron/i),pwa:Qe=>{var Ce;return!!(null!==(Ce=Qe.matchMedia)&&void 0!==Ce&&Ce.call(Qe,"(display-mode: standalone)").matches||Qe.navigator.standalone)},mobile:it,mobileweb:Qe=>it(Qe)&&!_e(Qe),desktop:Qe=>!it(Qe),hybrid:_e}},9986:(_n,vt,k)=>{"use strict";k.d(vt,{c:()=>Ae});var l=k(8476);let U;const ie=(Oe,$e,Ke)=>{const Me=$e.startsWith("animation")?(Oe=>(void 0===U&&(U=void 0===Oe.style.animationName&&void 0!==Oe.style.webkitAnimationName?"-webkit-":""),U))(Oe):"";Oe.style.setProperty(Me+$e,Ke)},me=(Oe=[],$e)=>{if(void 0!==$e){const Ke=Array.isArray($e)?$e:[$e];return[...Oe,...Ke]}return Oe},Ae=Oe=>{let $e,Ke,Me,le,Be,je,Ze,ze,Nt,ke,It,Ue=[],ct=[],ut=[],st=!1,wt={},yt=[],it=[],Re={},_e=0,et=!1,at=!1,mt=!0,Ye=!1,Et=!0,rn=!1;const Qe=Oe,Ce=[],q=[],ne=[],ae=[],be=[],Tt=[],Ne=[],Ht=[],an=[],Hn=[],Kt=[],Bn="function"==typeof AnimationEffect||void 0!==l.w&&"function"==typeof l.w.AnimationEffect,zn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&Bn,Ot=()=>Kt,On=(Ie,dt)=>{const Vt=dt.findIndex(En=>En.c===Ie);Vt>-1&&dt.splice(Vt,1)},kt=(Ie,dt)=>((dt?.oneTimeCallback?q:Ce).push({c:Ie,o:dt}),It),pn=()=>{zn&&(Kt.forEach(Ie=>{Ie.cancel()}),Kt.length=0)},Un=()=>{Tt.forEach(Ie=>{Ie?.parentNode&&Ie.parentNode.removeChild(Ie)}),Tt.length=0},Xn=()=>void 0!==Be?Be:Ze?Ze.getFill():"both",cr=()=>void 0!==ze?ze:void 0!==je?je:Ze?Ze.getDirection():"normal",ms=()=>et?"linear":void 0!==Me?Me:Ze?Ze.getEasing():"linear",Xt=()=>at?0:void 0!==Nt?Nt:void 0!==Ke?Ke:Ze?Ze.getDuration():0,Lr=()=>void 0!==le?le:Ze?Ze.getIterations():1,ui=()=>void 0!==ke?ke:void 0!==$e?$e:Ze?Ze.getDelay():0,er=()=>{0!==_e&&(_e--,0===_e&&((()=>{an.forEach(Fn=>Fn()),Hn.forEach(Fn=>Fn());const Ie=mt?1:0,dt=yt,Vt=it,En=Re;ae.forEach(Fn=>{const vr=Fn.classList;dt.forEach(Ri=>vr.add(Ri)),Vt.forEach(Ri=>vr.remove(Ri));for(const Ri in En)En.hasOwnProperty(Ri)&&ie(Fn,Ri,En[Ri])}),Nt=void 0,ze=void 0,ke=void 0,Ce.forEach(Fn=>Fn.c(Ie,It)),q.forEach(Fn=>Fn.c(Ie,It)),q.length=0,Et=!0,mt&&(Ye=!0),mt=!0})(),Ze&&Ze.animationFinish()))},ai=()=>{(()=>{Ne.forEach(En=>En()),Ht.forEach(En=>En());const Ie=ct,dt=ut,Vt=wt;ae.forEach(En=>{const Fn=En.classList;Ie.forEach(vr=>Fn.add(vr)),dt.forEach(vr=>Fn.remove(vr));for(const vr in Vt)Vt.hasOwnProperty(vr)&&ie(En,vr,Vt[vr])})})(),Ue.length>0&&zn&&(ae.forEach(Ie=>{const dt=Ie.animate(Ue,{id:Qe,delay:ui(),duration:Xt(),easing:ms(),iterations:Lr(),fill:Xn(),direction:cr()});dt.pause(),Kt.push(dt)}),Kt.length>0&&(Kt[0].onfinish=()=>{er()})),st=!0},zr=Ie=>{Ie=Math.min(Math.max(Ie,0),.9999),zn&&Kt.forEach(dt=>{dt.currentTime=dt.effect.getComputedTiming().delay+Xt()*Ie,dt.pause()})},_r=Ie=>{Kt.forEach(dt=>{dt.effect.updateTiming({delay:ui(),duration:Xt(),easing:ms(),iterations:Lr(),fill:Xn(),direction:cr()})}),void 0!==Ie&&zr(Ie)},fn=(Ie=!1,dt=!0,Vt)=>(Ie&&be.forEach(En=>{En.update(Ie,dt,Vt)}),zn&&_r(Vt),It),xn=()=>{st&&(zn?Kt.forEach(Ie=>{Ie.pause()}):ae.forEach(Ie=>{ie(Ie,"animation-play-state","paused")}),rn=!0)},Q=Ie=>new Promise(dt=>{Ie?.sync&&(at=!0,kt(()=>at=!1,{oneTimeCallback:!0})),st||ai(),Ye&&(zn&&(zr(0),_r()),Ye=!1),Et&&(_e=be.length+1,Et=!1);const Vt=()=>{On(En,q),dt()},En=()=>{On(Vt,ne),dt()};kt(En,{oneTimeCallback:!0}),((Ie,dt)=>{ne.push({c:Ie,o:{oneTimeCallback:!0}})})(Vt),be.forEach(Fn=>{Fn.play()}),zn?(Kt.forEach(Ie=>{Ie.play()}),(0===Ue.length||0===ae.length)&&er()):er(),rn=!1}),z=(Ie,dt)=>{const Vt=Ue[0];return void 0===Vt||void 0!==Vt.offset&&0!==Vt.offset?Ue=[{offset:0,[Ie]:dt},...Ue]:Vt[Ie]=dt,It};return It={parentAnimation:Ze,elements:ae,childAnimations:be,id:Qe,animationFinish:er,from:z,to:(Ie,dt)=>{const Vt=Ue[Ue.length-1];return void 0===Vt||void 0!==Vt.offset&&1!==Vt.offset?Ue=[...Ue,{offset:1,[Ie]:dt}]:Vt[Ie]=dt,It},fromTo:(Ie,dt,Vt)=>z(Ie,dt).to(Ie,Vt),parent:Ie=>(Ze=Ie,It),play:Q,pause:()=>(be.forEach(Ie=>{Ie.pause()}),xn(),It),stop:()=>{be.forEach(Ie=>{Ie.stop()}),st&&(pn(),st=!1),et=!1,at=!1,Et=!0,ze=void 0,Nt=void 0,ke=void 0,_e=0,Ye=!1,mt=!0,rn=!1,ne.forEach(Ie=>Ie.c(0,It)),ne.length=0},destroy:Ie=>(be.forEach(dt=>{dt.destroy(Ie)}),(Ie=>{pn(),Ie&&Un()})(Ie),ae.length=0,be.length=0,Ue.length=0,Ce.length=0,q.length=0,st=!1,Et=!0,It),keyframes:Ie=>{const dt=Ue!==Ie;return Ue=Ie,dt&&(Ie=>{zn&&Ot().forEach(dt=>{const Vt=dt.effect;if(Vt.setKeyframes)Vt.setKeyframes(Ie);else{const En=new KeyframeEffect(Vt.target,Ie,Vt.getTiming());dt.effect=En}})})(Ue),It},addAnimation:Ie=>{if(null!=Ie)if(Array.isArray(Ie))for(const dt of Ie)dt.parent(It),be.push(dt);else Ie.parent(It),be.push(Ie);return It},addElement:Ie=>{if(null!=Ie)if(1===Ie.nodeType)ae.push(Ie);else if(Ie.length>=0)for(let dt=0;dt<Ie.length;dt++)ae.push(Ie[dt]);else console.error("Invalid addElement value");return It},update:fn,fill:Ie=>(Be=Ie,fn(!0),It),direction:Ie=>(je=Ie,fn(!0),It),iterations:Ie=>(le=Ie,fn(!0),It),duration:Ie=>(!zn&&0===Ie&&(Ie=1),Ke=Ie,fn(!0),It),easing:Ie=>(Me=Ie,fn(!0),It),delay:Ie=>($e=Ie,fn(!0),It),getWebAnimations:Ot,getKeyframes:()=>Ue,getFill:Xn,getDirection:cr,getDelay:ui,getIterations:Lr,getEasing:ms,getDuration:Xt,afterAddRead:Ie=>(an.push(Ie),It),afterAddWrite:Ie=>(Hn.push(Ie),It),afterClearStyles:(Ie=[])=>{for(const dt of Ie)Re[dt]="";return It},afterStyles:(Ie={})=>(Re=Ie,It),afterRemoveClass:Ie=>(it=me(it,Ie),It),afterAddClass:Ie=>(yt=me(yt,Ie),It),beforeAddRead:Ie=>(Ne.push(Ie),It),beforeAddWrite:Ie=>(Ht.push(Ie),It),beforeClearStyles:(Ie=[])=>{for(const dt of Ie)wt[dt]="";return It},beforeStyles:(Ie={})=>(wt=Ie,It),beforeRemoveClass:Ie=>(ut=me(ut,Ie),It),beforeAddClass:Ie=>(ct=me(ct,Ie),It),onFinish:kt,isRunning:()=>0!==_e&&!rn,progressStart:(Ie=!1,dt)=>(be.forEach(Vt=>{Vt.progressStart(Ie,dt)}),xn(),et=Ie,st||ai(),fn(!1,!0,dt),It),progressStep:Ie=>(be.forEach(dt=>{dt.progressStep(Ie)}),zr(Ie),It),progressEnd:(Ie,dt,Vt)=>(et=!1,be.forEach(En=>{En.progressEnd(Ie,dt,Vt)}),void 0!==Vt&&(Nt=Vt),Ye=!1,mt=!0,0===Ie?(ze="reverse"===cr()?"normal":"reverse","reverse"===ze&&(mt=!1),zn?(fn(),zr(1-dt)):(ke=(1-dt)*Xt()*-1,fn(!1,!1))):1===Ie&&(zn?(fn(),zr(dt)):(ke=dt*Xt()*-1,fn(!1,!1))),void 0!==Ie&&!Ze&&Q(),It)}}},464:(_n,vt,k)=>{"use strict";k.d(vt,{E:()=>Me,a:()=>l,s:()=>$e});const l=le=>{try{if(le instanceof Oe)return le.value;if(!ie()||"string"!=typeof le||""===le)return le;if(le.includes("onload="))return"";const Be=document.createDocumentFragment(),je=document.createElement("div");Be.appendChild(je),je.innerHTML=le,Ae.forEach(st=>{const Ze=Be.querySelectorAll(st);for(let wt=Ze.length-1;wt>=0;wt--){const yt=Ze[wt];yt.parentNode?yt.parentNode.removeChild(yt):Be.removeChild(yt);const it=Te(yt);for(let Re=0;Re<it.length;Re++)U(it[Re])}});const Ue=Te(Be);for(let st=0;st<Ue.length;st++)U(Ue[st]);const ct=document.createElement("div");ct.appendChild(Be);const ut=ct.querySelector("div");return null!==ut?ut.innerHTML:ct.innerHTML}catch(Be){return console.error(Be),""}},U=le=>{if(le.nodeType&&1!==le.nodeType)return;if(typeof NamedNodeMap<"u"&&!(le.attributes instanceof NamedNodeMap))return void le.remove();for(let je=le.attributes.length-1;je>=0;je--){const Ue=le.attributes.item(je),ct=Ue.name;if(!me.includes(ct.toLowerCase())){le.removeAttribute(ct);continue}const ut=Ue.value,st=le[ct];(null!=ut&&ut.toLowerCase().includes("javascript:")||null!=st&&st.toLowerCase().includes("javascript:"))&&le.removeAttribute(ct)}const Be=Te(le);for(let je=0;je<Be.length;je++)U(Be[je])},Te=le=>null!=le.children?le.children:le.childNodes,ie=()=>{var le;const Be=window,je=null===(le=Be?.Ionic)||void 0===le?void 0:le.config;return!je||(je.get?je.get("sanitizerEnabled",!0):!0===je.sanitizerEnabled||void 0===je.sanitizerEnabled)},me=["class","id","href","src","name","slot"],Ae=["script","style","iframe","meta","link","object","embed"];class Oe{constructor(Be){this.value=Be}}const $e=le=>{const Be=window,je=Be.Ionic;if(!je||!je.config||"Object"===je.config.constructor.name)return Be.Ionic=Be.Ionic||{},Be.Ionic.config=Object.assign(Object.assign({},Be.Ionic.config),le),Be.Ionic.config},Me=!1},8621:(_n,vt,k)=>{"use strict";k.d(vt,{C:()=>me,a:()=>Te,d:()=>ie});var l=k(467),U=k(4920);const Te=function(){var Ae=(0,l.A)(function*(Oe,$e,Ke,Me,le,Be){var je;if(Oe)return Oe.attachViewToDom($e,Ke,le,Me);if(!(Be||"string"==typeof Ke||Ke instanceof HTMLElement))throw new Error("framework delegate is missing");const Ue="string"==typeof Ke?null===(je=$e.ownerDocument)||void 0===je?void 0:je.createElement(Ke):Ke;return Me&&Me.forEach(ct=>Ue.classList.add(ct)),le&&Object.assign(Ue,le),$e.appendChild(Ue),yield new Promise(ct=>(0,U.c)(Ue,ct)),Ue});return function($e,Ke,Me,le,Be,je){return Ae.apply(this,arguments)}}(),ie=(Ae,Oe)=>{if(Oe){if(Ae)return Ae.removeViewFromDom(Oe.parentElement,Oe);Oe.remove()}return Promise.resolve()},me=()=>{let Ae,Oe;return{attachViewToDom:function(){var Me=(0,l.A)(function*(le,Be,je={},Ue=[]){var ct,ut;let st;if(Ae=le,Be){const wt="string"==typeof Be?null===(ct=Ae.ownerDocument)||void 0===ct?void 0:ct.createElement(Be):Be;Ue.forEach(yt=>wt.classList.add(yt)),Object.assign(wt,je),Ae.appendChild(wt),st=wt,yield new Promise(yt=>(0,U.c)(wt,yt))}else if(Ae.children.length>0&&("ION-MODAL"===Ae.tagName||"ION-POPOVER"===Ae.tagName)&&!(st=Ae.children[0]).classList.contains("ion-delegate-host")){const yt=null===(ut=Ae.ownerDocument)||void 0===ut?void 0:ut.createElement("div");yt.classList.add("ion-delegate-host"),Ue.forEach(it=>yt.classList.add(it)),yt.append(...Ae.children),Ae.appendChild(yt),st=yt}const Ze=document.querySelector("ion-app")||document.body;return Oe=document.createComment("ionic teleport"),Ae.parentNode.insertBefore(Oe,Ae),Ze.appendChild(Ae),st??Ae});return function(Be,je){return Me.apply(this,arguments)}}(),removeViewFromDom:()=>(Ae&&Oe&&(Oe.parentNode.insertBefore(Ae,Oe),Oe.remove()),Promise.resolve())}}},1970:(_n,vt,k)=>{"use strict";k.d(vt,{B:()=>ie,G:()=>me});class U{constructor(Oe,$e,Ke,Me,le){this.id=$e,this.name=Ke,this.disableScroll=le,this.priority=1e6*Me+$e,this.ctrl=Oe}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Oe=this.ctrl.capture(this.name,this.id,this.priority);return Oe&&this.disableScroll&&this.ctrl.disableScroll(this.id),Oe}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Te{constructor(Oe,$e,Ke,Me){this.id=$e,this.disable=Ke,this.disableScroll=Me,this.ctrl=Oe}block(){if(this.ctrl){if(this.disable)for(const Oe of this.disable)this.ctrl.disableGesture(Oe,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Oe of this.disable)this.ctrl.enableGesture(Oe,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ie="backdrop-no-scroll",me=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Oe){var $e;return new U(this,this.newID(),Oe.name,null!==($e=Oe.priority)&&void 0!==$e?$e:0,!!Oe.disableScroll)}createBlocker(Oe={}){return new Te(this,this.newID(),Oe.disable,!!Oe.disableScroll)}start(Oe,$e,Ke){return this.canStart(Oe)?(this.requestedStart.set($e,Ke),!0):(this.requestedStart.delete($e),!1)}capture(Oe,$e,Ke){if(!this.start(Oe,$e,Ke))return!1;const Me=this.requestedStart;let le=-1e4;if(Me.forEach(Be=>{le=Math.max(le,Be)}),le===Ke){this.capturedId=$e,Me.clear();const Be=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Oe}});return document.dispatchEvent(Be),!0}return Me.delete($e),!1}release(Oe){this.requestedStart.delete(Oe),this.capturedId===Oe&&(this.capturedId=void 0)}disableGesture(Oe,$e){let Ke=this.disabledGestures.get(Oe);void 0===Ke&&(Ke=new Set,this.disabledGestures.set(Oe,Ke)),Ke.add($e)}enableGesture(Oe,$e){const Ke=this.disabledGestures.get(Oe);void 0!==Ke&&Ke.delete($e)}disableScroll(Oe){this.disabledScroll.add(Oe),1===this.disabledScroll.size&&document.body.classList.add(ie)}enableScroll(Oe){this.disabledScroll.delete(Oe),0===this.disabledScroll.size&&document.body.classList.remove(ie)}canStart(Oe){return!(void 0!==this.capturedId||this.isDisabled(Oe))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Oe){const $e=this.disabledGestures.get(Oe);return!!($e&&$e.size>0)}newID(){return this.gestureId++,this.gestureId}}},8669:(_n,vt,k)=>{"use strict";k.r(vt),k.d(vt,{MENU_BACK_BUTTON_PRIORITY:()=>Ke,OVERLAY_BACK_BUTTON_PRIORITY:()=>$e,blockHardwareBackButton:()=>Ae,shouldUseCloseWatcher:()=>me,startHardwareBackButton:()=>Oe});var l=k(467),U=k(8476),Te=k(4921);k(8393);const me=()=>Te.c.get("experimentalCloseWatcher",!1)&&void 0!==U.w&&"CloseWatcher"in U.w,Ae=()=>{document.addEventListener("backbutton",()=>{})},Oe=()=>{const Me=document;let le=!1;const Be=()=>{if(le)return;let je=0,Ue=[];const ct=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(Ze,wt){Ue.push({priority:Ze,handler:wt,id:je++})}}});Me.dispatchEvent(ct);const ut=function(){var Ze=(0,l.A)(function*(wt){try{if(wt?.handler){const yt=wt.handler(st);null!=yt&&(yield yt)}}catch(yt){console.error(yt)}});return function(yt){return Ze.apply(this,arguments)}}(),st=()=>{if(Ue.length>0){let Ze={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ue.forEach(wt=>{wt.priority>=Ze.priority&&(Ze=wt)}),le=!0,Ue=Ue.filter(wt=>wt.id!==Ze.id),ut(Ze).then(()=>le=!1)}};st()};if(me()){let je;const Ue=()=>{je?.destroy(),je=new U.w.CloseWatcher,je.onclose=()=>{Be(),Ue()}};Ue()}else Me.addEventListener("backbutton",Be)},$e=100,Ke=99},4920:(_n,vt,k)=>{"use strict";k.d(vt,{a:()=>$e,b:()=>Ke,c:()=>Te,d:()=>Ue,e:()=>wt,f:()=>je,g:()=>Me,h:()=>me,i:()=>Oe,j:()=>ct,k:()=>ie,l:()=>Be,m:()=>ut,n:()=>Ze,o:()=>yt,p:()=>st,r:()=>le,s:()=>it,t:()=>l});const l=(Re,_e=0)=>new Promise(et=>{U(Re,_e,et)}),U=(Re,_e=0,et)=>{let at,ze;const Nt={passive:!0},mt=()=>{at&&at()},Ye=Et=>{(void 0===Et||Re===Et.target)&&(mt(),et(Et))};return Re&&(Re.addEventListener("webkitTransitionEnd",Ye,Nt),Re.addEventListener("transitionend",Ye,Nt),ze=setTimeout(Ye,_e+500),at=()=>{void 0!==ze&&(clearTimeout(ze),ze=void 0),Re.removeEventListener("webkitTransitionEnd",Ye,Nt),Re.removeEventListener("transitionend",Ye,Nt)}),mt},Te=(Re,_e)=>{Re.componentOnReady?Re.componentOnReady().then(et=>_e(et)):le(()=>_e(Re))},ie=Re=>void 0!==Re.componentOnReady,me=(Re,_e=[])=>{const et={};return _e.forEach(at=>{Re.hasAttribute(at)&&(null!==Re.getAttribute(at)&&(et[at]=Re.getAttribute(at)),Re.removeAttribute(at))}),et},Ae=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Oe=(Re,_e)=>{let et=Ae;return _e&&_e.length>0&&(et=et.filter(at=>!_e.includes(at))),me(Re,et)},$e=(Re,_e,et,at)=>{var ze;if(typeof window<"u"){const Nt=window,ke=null===(ze=Nt?.Ionic)||void 0===ze?void 0:ze.config;if(ke){const mt=ke.get("_ael");if(mt)return mt(Re,_e,et,at);if(ke._ael)return ke._ael(Re,_e,et,at)}}return Re.addEventListener(_e,et,at)},Ke=(Re,_e,et,at)=>{var ze;if(typeof window<"u"){const Nt=window,ke=null===(ze=Nt?.Ionic)||void 0===ze?void 0:ze.config;if(ke){const mt=ke.get("_rel");if(mt)return mt(Re,_e,et,at);if(ke._rel)return ke._rel(Re,_e,et,at)}}return Re.removeEventListener(_e,et,at)},Me=(Re,_e=Re)=>Re.shadowRoot||_e,le=Re=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Re):"function"==typeof requestAnimationFrame?requestAnimationFrame(Re):setTimeout(Re),Be=Re=>!!Re.shadowRoot&&!!Re.attachShadow,je=Re=>{if(Re.focus(),Re.classList.contains("ion-focusable")){const _e=Re.closest("ion-app");_e&&_e.setFocus([Re])}},Ue=(Re,_e,et,at,ze)=>{if(Re||Be(_e)){let Nt=_e.querySelector("input.aux-input");Nt||(Nt=_e.ownerDocument.createElement("input"),Nt.type="hidden",Nt.classList.add("aux-input"),_e.appendChild(Nt)),Nt.disabled=ze,Nt.name=et,Nt.value=at||""}},ct=(Re,_e,et)=>Math.max(Re,Math.min(_e,et)),ut=(Re,_e)=>{if(!Re){const et="ASSERT: "+_e;throw console.error(et),new Error(et)}},st=Re=>{if(Re){const _e=Re.changedTouches;if(_e&&_e.length>0){const et=_e[0];return{x:et.clientX,y:et.clientY}}if(void 0!==Re.pageX)return{x:Re.pageX,y:Re.pageY}}return{x:0,y:0}},Ze=Re=>{const _e="rtl"===document.dir;switch(Re){case"start":return _e;case"end":return!_e;default:throw new Error(`"${Re}" is not a valid value for [side]. Use "start" or "end" instead.`)}},wt=(Re,_e)=>{const et=Re._original||Re;return{_original:Re,emit:yt(et.emit.bind(et),_e)}},yt=(Re,_e=0)=>{let et;return(...at)=>{clearTimeout(et),et=setTimeout(Re,_e,...at)}},it=(Re,_e)=>{if(Re??(Re={}),_e??(_e={}),Re===_e)return!0;const et=Object.keys(Re);if(et.length!==Object.keys(_e).length)return!1;for(const at of et)if(!(at in _e)||Re[at]!==_e[at])return!1;return!0}},8607:(_n,vt,k)=>{"use strict";k.r(vt),k.d(vt,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>Ke});var l=k(1970);const U=(je,Ue,ct,ut)=>{const st=Te(je)?{capture:!!ut.capture,passive:!!ut.passive}:!!ut.capture;let Ze,wt;return je.__zone_symbol__addEventListener?(Ze="__zone_symbol__addEventListener",wt="__zone_symbol__removeEventListener"):(Ze="addEventListener",wt="removeEventListener"),je[Ze](Ue,ct,st),()=>{je[wt](Ue,ct,st)}},Te=je=>{if(void 0===ie)try{const Ue=Object.defineProperty({},"passive",{get:()=>{ie=!0}});je.addEventListener("optsTest",()=>{},Ue)}catch{ie=!1}return!!ie};let ie;const Oe=je=>je instanceof Document?je:je.ownerDocument,Ke=je=>{let Ue=!1,ct=!1,ut=!0,st=!1;const Ze=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},je),wt=Ze.canStart,yt=Ze.onWillStart,it=Ze.onStart,Re=Ze.onEnd,_e=Ze.notCaptured,et=Ze.onMove,at=Ze.threshold,ze=Ze.passive,Nt=Ze.blurOnStart,ke={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},mt=((je,Ue,ct)=>{const ut=ct*(Math.PI/180),st="x"===je,Ze=Math.cos(ut),wt=Ue*Ue;let yt=0,it=0,Re=!1,_e=0;return{start(et,at){yt=et,it=at,_e=0,Re=!0},detect(et,at){if(!Re)return!1;const ze=et-yt,Nt=at-it,ke=ze*ze+Nt*Nt;if(ke<wt)return!1;const mt=Math.sqrt(ke),Ye=(st?ze:Nt)/mt;return _e=Ye>Ze?1:Ye<-Ze?-1:0,Re=!1,!0},isGesture:()=>0!==_e,getDirection:()=>_e}})(Ze.direction,Ze.threshold,Ze.maxAngle),Ye=l.G.createGesture({name:je.gestureName,priority:je.gesturePriority,disableScroll:je.disableScroll}),rn=()=>{Ue&&(st=!1,et&&et(ke))},Qe=()=>!!Ye.capture()&&(Ue=!0,ut=!1,ke.startX=ke.currentX,ke.startY=ke.currentY,ke.startTime=ke.currentTime,yt?yt(ke).then(q):q(),!0),q=()=>{Nt&&(()=>{if(typeof document<"u"){const Ne=document.activeElement;Ne?.blur&&Ne.blur()}})(),it&&it(ke),ut=!0},ne=()=>{Ue=!1,ct=!1,st=!1,ut=!0,Ye.release()},ae=Ne=>{const Ht=Ue,an=ut;if(ne(),an){if(Me(ke,Ne),Ht)return void(Re&&Re(ke));_e&&_e(ke)}},be=((je,Ue,ct,ut,st)=>{let Ze,wt,yt,it,Re,_e,et,at=0;const ze=Ce=>{at=Date.now()+2e3,Ue(Ce)&&(!wt&&ct&&(wt=U(je,"touchmove",ct,st)),yt||(yt=U(Ce.target,"touchend",ke,st)),it||(it=U(Ce.target,"touchcancel",ke,st)))},Nt=Ce=>{at>Date.now()||Ue(Ce)&&(!_e&&ct&&(_e=U(Oe(je),"mousemove",ct,st)),et||(et=U(Oe(je),"mouseup",mt,st)))},ke=Ce=>{Ye(),ut&&ut(Ce)},mt=Ce=>{Et(),ut&&ut(Ce)},Ye=()=>{wt&&wt(),yt&&yt(),it&&it(),wt=yt=it=void 0},Et=()=>{_e&&_e(),et&&et(),_e=et=void 0},It=()=>{Ye(),Et()},rn=(Ce=!0)=>{Ce?(Ze||(Ze=U(je,"touchstart",ze,st)),Re||(Re=U(je,"mousedown",Nt,st))):(Ze&&Ze(),Re&&Re(),Ze=Re=void 0,It())};return{enable:rn,stop:It,destroy:()=>{rn(!1),ut=ct=Ue=void 0}}})(Ze.el,Ne=>{const Ht=Be(Ne);return!(ct||!ut||(le(Ne,ke),ke.startX=ke.currentX,ke.startY=ke.currentY,ke.startTime=ke.currentTime=Ht,ke.velocityX=ke.velocityY=ke.deltaX=ke.deltaY=0,ke.event=Ne,wt&&!1===wt(ke))||(Ye.release(),!Ye.start()))&&(ct=!0,0===at?Qe():(mt.start(ke.startX,ke.startY),!0))},Ne=>{Ue?!st&&ut&&(st=!0,Me(ke,Ne),requestAnimationFrame(rn)):(Me(ke,Ne),mt.detect(ke.currentX,ke.currentY)&&(!mt.isGesture()||!Qe())&&Tt())},ae,{capture:!1,passive:ze}),Tt=()=>{ne(),be.stop(),_e&&_e(ke)};return{enable(Ne=!0){Ne||(Ue&&ae(void 0),ne()),be.enable(Ne)},destroy(){Ye.destroy(),be.destroy()}}},Me=(je,Ue)=>{if(!Ue)return;const ct=je.currentX,ut=je.currentY,st=je.currentTime;le(Ue,je);const Ze=je.currentX,wt=je.currentY,it=(je.currentTime=Be(Ue))-st;if(it>0&&it<100){const _e=(wt-ut)/it;je.velocityX=(Ze-ct)/it*.7+.3*je.velocityX,je.velocityY=.7*_e+.3*je.velocityY}je.deltaX=Ze-je.startX,je.deltaY=wt-je.startY,je.event=Ue},le=(je,Ue)=>{let ct=0,ut=0;if(je){const st=je.changedTouches;if(st&&st.length>0){const Ze=st[0];ct=Ze.clientX,ut=Ze.clientY}else void 0!==je.pageX&&(ct=je.pageX,ut=je.pageY)}Ue.currentX=ct,Ue.currentY=ut},Be=je=>je.timeStamp||Date.now()},6073:(_n,vt,k)=>{"use strict";k.d(vt,{m:()=>je});var l=k(467),U=k(8476),Te=k(8669),ie=k(4929),me=k(4920),Ae=k(4921),Oe=k(9986);const $e=Ue=>(0,Oe.c)().duration(Ue?400:300),Ke=Ue=>{let ct,ut;const st=Ue.width+8,Ze=(0,Oe.c)(),wt=(0,Oe.c)();Ue.isEndSide?(ct=st+"px",ut="0px"):(ct=-st+"px",ut="0px"),Ze.addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${ct})`,`translateX(${ut})`);const it="ios"===(0,Ae.b)(Ue),Re=it?.2:.25;return wt.addElement(Ue.backdropEl).fromTo("opacity",.01,Re),$e(it).addAnimation([Ze,wt])},Me=Ue=>{let ct,ut;const st=(0,Ae.b)(Ue),Ze=Ue.width;Ue.isEndSide?(ct=-Ze+"px",ut=Ze+"px"):(ct=Ze+"px",ut=-Ze+"px");const wt=(0,Oe.c)().addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${ut})`,"translateX(0px)"),yt=(0,Oe.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${ct})`),it=(0,Oe.c)().addElement(Ue.backdropEl).fromTo("opacity",.01,.32);return $e("ios"===st).addAnimation([wt,yt,it])},le=Ue=>{const ct=(0,Ae.b)(Ue),ut=Ue.width*(Ue.isEndSide?-1:1)+"px",st=(0,Oe.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${ut})`);return $e("ios"===ct).addAnimation(st)},je=(()=>{const Ue=new Map,ct=[],ut=function(){var ne=(0,l.A)(function*(ae){const be=yield _e(ae,!0);return!!be&&be.open()});return function(be){return ne.apply(this,arguments)}}(),st=function(){var ne=(0,l.A)(function*(ae){const be=yield void 0!==ae?_e(ae,!0):et();return void 0!==be&&be.close()});return function(be){return ne.apply(this,arguments)}}(),Ze=function(){var ne=(0,l.A)(function*(ae){const be=yield _e(ae,!0);return!!be&&be.toggle()});return function(be){return ne.apply(this,arguments)}}(),wt=function(){var ne=(0,l.A)(function*(ae,be){const Tt=yield _e(be);return Tt&&(Tt.disabled=!ae),Tt});return function(be,Tt){return ne.apply(this,arguments)}}(),yt=function(){var ne=(0,l.A)(function*(ae,be){const Tt=yield _e(be);return Tt&&(Tt.swipeGesture=ae),Tt});return function(be,Tt){return ne.apply(this,arguments)}}(),it=function(){var ne=(0,l.A)(function*(ae){if(null!=ae){const be=yield _e(ae);return void 0!==be&&be.isOpen()}return void 0!==(yield et())});return function(be){return ne.apply(this,arguments)}}(),Re=function(){var ne=(0,l.A)(function*(ae){const be=yield _e(ae);return!!be&&!be.disabled});return function(be){return ne.apply(this,arguments)}}(),_e=function(){var ne=(0,l.A)(function*(ae,be=!1){if(yield q(),"start"===ae||"end"===ae){const Ne=ct.filter(an=>an.side===ae&&!an.disabled);if(Ne.length>=1)return Ne.length>1&&be&&(0,ie.p)(`menuController queried for a menu on the "${ae}" side, but ${Ne.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ne.map(an=>an.el)),Ne[0].el;const Ht=ct.filter(an=>an.side===ae);if(Ht.length>=1)return Ht.length>1&&be&&(0,ie.p)(`menuController queried for a menu on the "${ae}" side, but ${Ht.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ht.map(an=>an.el)),Ht[0].el}else if(null!=ae)return Ce(Ne=>Ne.menuId===ae);return Ce(Ne=>!Ne.disabled)||(ct.length>0?ct[0].el:void 0)});return function(be){return ne.apply(this,arguments)}}(),et=function(){var ne=(0,l.A)(function*(){return yield q(),It()});return function(){return ne.apply(this,arguments)}}(),at=function(){var ne=(0,l.A)(function*(){return yield q(),rn()});return function(){return ne.apply(this,arguments)}}(),ze=function(){var ne=(0,l.A)(function*(){return yield q(),Qe()});return function(){return ne.apply(this,arguments)}}(),Nt=(ne,ae)=>{Ue.set(ne,ae)},Ye=function(){var ne=(0,l.A)(function*(ae,be,Tt){if(Qe())return!1;if(be){const Ne=yield et();Ne&&ae.el!==Ne&&(yield Ne.setOpen(!1,!1))}return ae._setOpen(be,Tt)});return function(be,Tt,Ne){return ne.apply(this,arguments)}}(),It=()=>Ce(ne=>ne._isOpen),rn=()=>ct.map(ne=>ne.el),Qe=()=>ct.some(ne=>ne.isAnimating),Ce=ne=>{const ae=ct.find(ne);if(void 0!==ae)return ae.el},q=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ne=>new Promise(ae=>(0,me.c)(ne,ae))));return Nt("reveal",le),Nt("push",Me),Nt("overlay",Ke),null==U.d||U.d.addEventListener("ionBackButton",ne=>{const ae=It();ae&&ne.detail.register(Te.MENU_BACK_BUTTON_PRIORITY,()=>ae.close())}),{registerAnimation:Nt,get:_e,getMenus:at,getOpen:et,isEnabled:Re,swipeGesture:yt,isAnimating:ze,isOpen:it,enable:wt,toggle:Ze,close:st,open:ut,_getOpenSync:It,_createAnimation:(ne,ae)=>{const be=Ue.get(ne);if(!be)throw new Error("animation not registered");return be(ae)},_register:ne=>{ct.indexOf(ne)<0&&ct.push(ne)},_unregister:ne=>{const ae=ct.indexOf(ne);ae>-1&&ct.splice(ae,1)},_setOpen:Ye}})()},8393:(_n,vt,k)=>{"use strict";k.d(vt,{B:()=>Ae,a:()=>Et,b:()=>x,c:()=>Xn,d:()=>Lr,e:()=>an,f:()=>qt,g:()=>cr,h:()=>gr,i:()=>Xt,j:()=>Rs,k:()=>Kt,r:()=>Ke,w:()=>Hn});var l=k(467);var ie=Object.defineProperty,Ae={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Oe=new WeakMap,$e=G=>Oe.get(G),Ke=(G,de)=>Oe.set(de.$lazyInstance$=G,de),le=(G,de)=>de in G,Be=(G,de)=>(0,console.error)(G,de),je=new Map,ct=new Map,ut=[],it="s-id",Re="sty-id",at="slot-fb{display:contents}slot-fb[hidden]{display:none}",ze="http://www.w3.org/1999/xlink",Nt=typeof window<"u"?window:{},ke=Nt.document||{head:{}},Ye={$flags$:0,$resourcesUrl$:"",jmp:G=>G(),raf:G=>requestAnimationFrame(G),ael:(G,de,xe,We)=>G.addEventListener(de,xe,We),rel:(G,de,xe,We)=>G.removeEventListener(de,xe,We),ce:(G,de)=>new CustomEvent(G,de)},Et=G=>{Object.assign(Ye,G)},rn=(()=>{let G=!1;try{ke.addEventListener("e",null,Object.defineProperty({},"passive",{get(){G=!0}}))}catch{}return G})(),Ce=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),q=!1,ne=[],ae=[],be=(G,de)=>xe=>{G.push(xe),q||(q=!0,de&&4&Ye.$flags$?Ht(Ne):Ye.raf(Ne))},Tt=G=>{for(let de=0;de<G.length;de++)try{G[de](performance.now())}catch(xe){Be(xe)}G.length=0},Ne=()=>{Tt(ne),Tt(ae),(q=ne.length>0)&&Ye.raf(Ne)},Ht=G=>Promise.resolve(void 0).then(G),an=be(ne,!1),Hn=be(ae,!0),Kt=G=>{const de=new URL(G,Ye.$resourcesUrl$);return de.origin!==Nt.location.origin?de.href:de.pathname},Bn={},pr=G=>"object"==(G=typeof G)||"function"===G;function Gn(G){var de,xe,We;return null!=(We=null==(xe=null==(de=G.head)?void 0:de.querySelector('meta[name="csp-nonce"]'))?void 0:xe.getAttribute("content"))?We:void 0}((G,de)=>{for(var xe in de)ie(G,xe,{get:de[xe],enumerable:!0})})({},{err:()=>zt,map:()=>kt,ok:()=>On,unwrap:()=>Bt,unwrapErr:()=>pn});var On=G=>({isOk:!0,isErr:!1,value:G}),zt=G=>({isOk:!1,isErr:!0,value:G});function kt(G,de){if(G.isOk){const xe=de(G.value);return xe instanceof Promise?xe.then(We=>On(We)):On(xe)}if(G.isErr)return zt(G.value);throw"should never get here"}var Bt=G=>{if(G.isOk)return G.value;throw G.value},pn=G=>{if(G.isErr)return G.value;throw G.value},gr=(G,de,...xe)=>{let We=null,pt=null,ft=null,Yt=!1,tn=!1;const Zt=[],Wt=An=>{for(let rr=0;rr<An.length;rr++)We=An[rr],Array.isArray(We)?Wt(We):null!=We&&"boolean"!=typeof We&&((Yt="function"!=typeof G&&!pr(We))&&(We=String(We)),Yt&&tn?Zt[Zt.length-1].$text$+=We:Zt.push(Yt?Sn(null,We):We),tn=Yt)};if(Wt(xe),de){de.key&&(pt=de.key),de.name&&(ft=de.name);{const An=de.className||de.class;An&&(de.class="object"!=typeof An?An:Object.keys(An).filter(rr=>An[rr]).join(" "))}}if("function"==typeof G)return G(null===de?{}:de,Zt,Sr);const Cn=Sn(G,null);return Cn.$attrs$=de,Zt.length>0&&(Cn.$children$=Zt),Cn.$key$=pt,Cn.$name$=ft,Cn},Sn=(G,de)=>({$flags$:0,$tag$:G,$text$:de,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),qt={},Sr={forEach:(G,de)=>G.map(qn).forEach(de),map:(G,de)=>G.map(qn).map(de).map(Jn)},qn=G=>({vattrs:G.$attrs$,vchildren:G.$children$,vkey:G.$key$,vname:G.$name$,vtag:G.$tag$,vtext:G.$text$}),Jn=G=>{if("function"==typeof G.vtag){const xe={...G.vattrs};return G.vkey&&(xe.key=G.vkey),G.vname&&(xe.name=G.vname),gr(G.vtag,xe,...G.vchildren||[])}const de=Sn(G.vtag,G.vtext);return de.$attrs$=G.vattrs,de.$children$=G.vchildren,de.$key$=G.vkey,de.$name$=G.vname,de},pi=(G,de,xe,We,pt,ft,Yt)=>{let tn,Zt,Wt,Cn;if(1===ft.nodeType){for(tn=ft.getAttribute("c-id"),tn&&(Zt=tn.split("."),(Zt[0]===Yt||"0"===Zt[0])&&(Wt={$flags$:0,$hostId$:Zt[0],$nodeId$:Zt[1],$depth$:Zt[2],$index$:Zt[3],$tag$:ft.tagName.toLowerCase(),$elm$:ft,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},de.push(Wt),ft.removeAttribute("c-id"),G.$children$||(G.$children$=[]),G.$children$[Wt.$index$]=Wt,G=Wt,We&&"0"===Wt.$depth$&&(We[Wt.$index$]=Wt.$elm$))),Cn=ft.childNodes.length-1;Cn>=0;Cn--)pi(G,de,xe,We,pt,ft.childNodes[Cn],Yt);if(ft.shadowRoot)for(Cn=ft.shadowRoot.childNodes.length-1;Cn>=0;Cn--)pi(G,de,xe,We,pt,ft.shadowRoot.childNodes[Cn],Yt)}else if(8===ft.nodeType)Zt=ft.nodeValue.split("."),(Zt[1]===Yt||"0"===Zt[1])&&(tn=Zt[0],Wt={$flags$:0,$hostId$:Zt[1],$nodeId$:Zt[2],$depth$:Zt[3],$index$:Zt[4],$elm$:ft,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===tn?(Wt.$elm$=ft.nextSibling,Wt.$elm$&&3===Wt.$elm$.nodeType&&(Wt.$text$=Wt.$elm$.textContent,de.push(Wt),ft.remove(),G.$children$||(G.$children$=[]),G.$children$[Wt.$index$]=Wt,We&&"0"===Wt.$depth$&&(We[Wt.$index$]=Wt.$elm$))):Wt.$hostId$===Yt&&("s"===tn?(Wt.$tag$="slot",ft["s-sn"]=Zt[5]?Wt.$name$=Zt[5]:"",ft["s-sr"]=!0,We&&(Wt.$elm$=ke.createElement(Wt.$tag$),Wt.$name$&&Wt.$elm$.setAttribute("name",Wt.$name$),ft.parentNode.insertBefore(Wt.$elm$,ft),ft.remove(),"0"===Wt.$depth$&&(We[Wt.$index$]=Wt.$elm$)),xe.push(Wt),G.$children$||(G.$children$=[]),G.$children$[Wt.$index$]=Wt):"r"===tn&&(We?ft.remove():(pt["s-cr"]=ft,ft["s-cn"]=!0))));else if(G&&"style"===G.$tag$){const An=Sn(null,ft.textContent);An.$elm$=ft,An.$index$="0",G.$children$=[An]}},Kn=(G,de)=>{if(1===G.nodeType){let xe=0;for(;xe<G.childNodes.length;xe++)Kn(G.childNodes[xe],de);if(G.shadowRoot)for(xe=0;xe<G.shadowRoot.childNodes.length;xe++)Kn(G.shadowRoot.childNodes[xe],de)}else if(8===G.nodeType){const xe=G.nodeValue.split(".");"o"===xe[0]&&(de.set(xe[1]+"."+xe[2],G),G.nodeValue="",G["s-en"]=xe[3])}},Xn=G=>ut.push(G),cr=G=>$e(G).$modeName$,Xt=G=>$e(G).$hostElement$,Lr=(G,de,xe)=>{const We=Xt(G);return{emit:pt=>ui(We,de,{bubbles:!!(4&xe),composed:!!(2&xe),cancelable:!!(1&xe),detail:pt})}},ui=(G,de,xe)=>{const We=Ye.ce(de,xe);return G.dispatchEvent(We),We},Di=new WeakMap,In=(G,de,xe)=>{let We=ct.get(G);Ce&&xe?(We=We||new CSSStyleSheet,"string"==typeof We?We=de:We.replaceSync(de)):We=de,ct.set(G,We)},Rn=(G,de,xe)=>{var We;const pt=He(de,xe),ft=ct.get(pt);if(G=11===G.nodeType?G:ke,ft)if("string"==typeof ft){let tn,Yt=Di.get(G=G.head||G);if(Yt||Di.set(G,Yt=new Set),!Yt.has(pt)){if(G.host&&(tn=G.querySelector(`[${Re}="${pt}"]`)))tn.innerHTML=ft;else{tn=ke.createElement("style"),tn.innerHTML=ft;const Zt=null!=(We=Ye.$nonce$)?We:Gn(ke);null!=Zt&&tn.setAttribute("nonce",Zt),G.insertBefore(tn,G.querySelector("link"))}4&de.$flags$&&(tn.innerHTML+=at),Yt&&Yt.add(pt)}}else G.adoptedStyleSheets.includes(ft)||(G.adoptedStyleSheets=[...G.adoptedStyleSheets,ft]);return pt},He=(G,de)=>"sc-"+(de&&32&G.$flags$?G.$tagName$+"-"+de:G.$tagName$),se=G=>G.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),ve=(G,de,xe,We,pt,ft)=>{if(xe!==We){let Yt=le(G,de),tn=de.toLowerCase();if("class"===de){const Zt=G.classList,Wt=De(xe),Cn=De(We);Zt.remove(...Wt.filter(An=>An&&!Cn.includes(An))),Zt.add(...Cn.filter(An=>An&&!Wt.includes(An)))}else if("style"===de){for(const Zt in xe)(!We||null==We[Zt])&&(Zt.includes("-")?G.style.removeProperty(Zt):G.style[Zt]="");for(const Zt in We)(!xe||We[Zt]!==xe[Zt])&&(Zt.includes("-")?G.style.setProperty(Zt,We[Zt]):G.style[Zt]=We[Zt])}else if("key"!==de)if("ref"===de)We&&We(G);else if(Yt||"o"!==de[0]||"n"!==de[1]){const Zt=pr(We);if((Yt||Zt&&null!==We)&&!pt)try{if(G.tagName.includes("-"))G[de]=We;else{const Cn=We??"";"list"===de?Yt=!1:(null==xe||G[de]!=Cn)&&(G[de]=Cn)}}catch{}let Wt=!1;tn!==(tn=tn.replace(/^xlink\:?/,""))&&(de=tn,Wt=!0),null==We||!1===We?(!1!==We||""===G.getAttribute(de))&&(Wt?G.removeAttributeNS(ze,de):G.removeAttribute(de)):(!Yt||4&ft||pt)&&!Zt&&(We=!0===We?"":We,Wt?G.setAttributeNS(ze,de,We):G.setAttribute(de,We))}else if(de="-"===de[2]?de.slice(3):le(Nt,tn)?tn.slice(2):tn[2]+de.slice(3),xe||We){const Zt=de.endsWith(qe);de=de.replace(Ut,""),xe&&Ye.rel(G,de,xe,Zt),We&&Ye.ael(G,de,We,Zt)}}},ge=/\s/,De=G=>G?G.split(ge):[],qe="Capture",Ut=new RegExp(qe+"$"),_t=(G,de,xe)=>{const We=11===de.$elm$.nodeType&&de.$elm$.host?de.$elm$.host:de.$elm$,pt=G&&G.$attrs$||Bn,ft=de.$attrs$||Bn;for(const Yt of mn(Object.keys(pt)))Yt in ft||ve(We,Yt,pt[Yt],void 0,xe,de.$flags$);for(const Yt of mn(Object.keys(ft)))ve(We,Yt,pt[Yt],ft[Yt],xe,de.$flags$)};function mn(G){return G.includes("ref")?[...G.filter(de=>"ref"!==de),"ref"]:G}var Nn,er,Ii,ai=!1,zr=!1,_r=!1,fn=!1,ei=(G,de,xe,We)=>{var pt;const ft=de.$children$[xe];let tn,Zt,Wt,Yt=0;if(ai||(_r=!0,"slot"===ft.$tag$&&(Nn&&We.classList.add(Nn+"-s"),ft.$flags$|=ft.$children$?2:1)),null!==ft.$text$)tn=ft.$elm$=ke.createTextNode(ft.$text$);else if(1&ft.$flags$)tn=ft.$elm$=ke.createTextNode("");else{if(fn||(fn="svg"===ft.$tag$),tn=ft.$elm$=ke.createElementNS(fn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!ai&&2&ft.$flags$?"slot-fb":ft.$tag$),fn&&"foreignObject"===ft.$tag$&&(fn=!1),_t(null,ft,fn),(G=>null!=G)(Nn)&&tn["s-si"]!==Nn&&tn.classList.add(tn["s-si"]=Nn),Fn(tn,We),ft.$children$)for(Yt=0;Yt<ft.$children$.length;++Yt)Zt=ei(G,ft,Yt,tn),Zt&&tn.appendChild(Zt);"svg"===ft.$tag$?fn=!1:"foreignObject"===tn.tagName&&(fn=!0)}return tn["s-hn"]=Ii,3&ft.$flags$&&(tn["s-sr"]=!0,tn["s-cr"]=er,tn["s-sn"]=ft.$name$||"",tn["s-rf"]=null==(pt=ft.$attrs$)?void 0:pt.ref,Wt=G&&G.$children$&&G.$children$[xe],Wt&&Wt.$tag$===ft.$tag$&&G.$elm$&&ys(G.$elm$)),tn},ys=G=>{Ye.$flags$|=1;const de=G.closest(Ii.toLowerCase());if(null!=de){const xe=Array.from(de.childNodes).find(pt=>pt["s-cr"]),We=Array.from(G.childNodes);for(const pt of xe?We.reverse():We)null!=pt["s-sh"]&&(Vt(de,pt,xe??null),pt["s-sh"]=void 0,_r=!0)}Ye.$flags$&=-2},wr=(G,de)=>{Ye.$flags$|=1;const xe=Array.from(G.childNodes);if(G["s-sr"]){let We=G;for(;We=We.nextSibling;)We&&We["s-sn"]===G["s-sn"]&&We["s-sh"]===Ii&&xe.push(We)}for(let We=xe.length-1;We>=0;We--){const pt=xe[We];pt["s-hn"]!==Ii&&pt["s-ol"]&&(Vt(Q(pt),pt,Mr(pt)),pt["s-ol"].remove(),pt["s-ol"]=void 0,pt["s-sh"]=void 0,_r=!0),de&&wr(pt,de)}Ye.$flags$&=-2},xn=(G,de,xe,We,pt,ft)=>{let tn,Yt=G["s-cr"]&&G["s-cr"].parentNode||G;for(Yt.shadowRoot&&Yt.tagName===Ii&&(Yt=Yt.shadowRoot);pt<=ft;++pt)We[pt]&&(tn=ei(null,xe,pt,G),tn&&(We[pt].$elm$=tn,Vt(Yt,tn,Mr(de))))},Si=(G,de,xe)=>{for(let We=de;We<=xe;++We){const pt=G[We];if(pt){const ft=pt.$elm$;dt(pt),ft&&(zr=!0,ft["s-ol"]?ft["s-ol"].remove():wr(ft,!0),ft.remove())}}},Is=(G,de,xe=!1)=>G.$tag$===de.$tag$&&("slot"===G.$tag$?G.$name$===de.$name$:!!xe||G.$key$===de.$key$),Mr=G=>G&&G["s-ol"]||G,Q=G=>(G["s-ol"]?G["s-ol"]:G).parentNode,re=(G,de,xe=!1)=>{const We=de.$elm$=G.$elm$,pt=G.$children$,ft=de.$children$,Yt=de.$tag$,tn=de.$text$;let Zt;null===tn?(fn="svg"===Yt||"foreignObject"!==Yt&&fn,"slot"!==Yt||ai?_t(G,de,fn):G.$name$!==de.$name$&&(de.$elm$["s-sn"]=de.$name$||"",ys(de.$elm$.parentElement)),null!==pt&&null!==ft?((G,de,xe,We,pt=!1)=>{let Fi,Or,ft=0,Yt=0,tn=0,Zt=0,Wt=de.length-1,Cn=de[0],An=de[Wt],rr=We.length-1,tr=We[0],mr=We[rr];for(;ft<=Wt&&Yt<=rr;)if(null==Cn)Cn=de[++ft];else if(null==An)An=de[--Wt];else if(null==tr)tr=We[++Yt];else if(null==mr)mr=We[--rr];else if(Is(Cn,tr,pt))re(Cn,tr,pt),Cn=de[++ft],tr=We[++Yt];else if(Is(An,mr,pt))re(An,mr,pt),An=de[--Wt],mr=We[--rr];else if(Is(Cn,mr,pt))("slot"===Cn.$tag$||"slot"===mr.$tag$)&&wr(Cn.$elm$.parentNode,!1),re(Cn,mr,pt),Vt(G,Cn.$elm$,An.$elm$.nextSibling),Cn=de[++ft],mr=We[--rr];else if(Is(An,tr,pt))("slot"===Cn.$tag$||"slot"===mr.$tag$)&&wr(An.$elm$.parentNode,!1),re(An,tr,pt),Vt(G,An.$elm$,Cn.$elm$),An=de[--Wt],tr=We[++Yt];else{for(tn=-1,Zt=ft;Zt<=Wt;++Zt)if(de[Zt]&&null!==de[Zt].$key$&&de[Zt].$key$===tr.$key$){tn=Zt;break}tn>=0?(Or=de[tn],Or.$tag$!==tr.$tag$?Fi=ei(de&&de[Yt],xe,tn,G):(re(Or,tr,pt),de[tn]=void 0,Fi=Or.$elm$),tr=We[++Yt]):(Fi=ei(de&&de[Yt],xe,Yt,G),tr=We[++Yt]),Fi&&Vt(Q(Cn.$elm$),Fi,Mr(Cn.$elm$))}ft>Wt?xn(G,null==We[rr+1]?null:We[rr+1].$elm$,xe,We,Yt,rr):Yt>rr&&Si(de,ft,Wt)})(We,pt,de,ft,xe):null!==ft?(null!==G.$text$&&(We.textContent=""),xn(We,null,de,ft,0,ft.length-1)):null!==pt&&Si(pt,0,pt.length-1),fn&&"svg"===Yt&&(fn=!1)):(Zt=We["s-cr"])?Zt.parentNode.textContent=tn:G.$text$!==tn&&(We.data=tn)},z=G=>{const de=G.childNodes;for(const xe of de)if(1===xe.nodeType){if(xe["s-sr"]){const We=xe["s-sn"];xe.hidden=!1;for(const pt of de)if(pt!==xe)if(pt["s-hn"]!==xe["s-hn"]||""!==We){if(1===pt.nodeType&&(We===pt.getAttribute("slot")||We===pt["s-sn"])||3===pt.nodeType&&We===pt["s-sn"]){xe.hidden=!0;break}}else if(1===pt.nodeType||3===pt.nodeType&&""!==pt.textContent.trim()){xe.hidden=!0;break}}z(xe)}},ce=[],Ge=G=>{let de,xe,We;for(const pt of G.childNodes){if(pt["s-sr"]&&(de=pt["s-cr"])&&de.parentNode){xe=de.parentNode.childNodes;const ft=pt["s-sn"];for(We=xe.length-1;We>=0;We--)if(de=xe[We],!(de["s-cn"]||de["s-nr"]||de["s-hn"]===pt["s-hn"]||de["s-sh"]&&de["s-sh"]===pt["s-hn"]))if(Ie(de,ft)){let Yt=ce.find(tn=>tn.$nodeToRelocate$===de);zr=!0,de["s-sn"]=de["s-sn"]||ft,Yt?(Yt.$nodeToRelocate$["s-sh"]=pt["s-hn"],Yt.$slotRefNode$=pt):(de["s-sh"]=pt["s-hn"],ce.push({$slotRefNode$:pt,$nodeToRelocate$:de})),de["s-sr"]&&ce.map(tn=>{Ie(tn.$nodeToRelocate$,de["s-sn"])&&(Yt=ce.find(Zt=>Zt.$nodeToRelocate$===de),Yt&&!tn.$slotRefNode$&&(tn.$slotRefNode$=Yt.$slotRefNode$))})}else ce.some(Yt=>Yt.$nodeToRelocate$===de)||ce.push({$nodeToRelocate$:de})}1===pt.nodeType&&Ge(pt)}},Ie=(G,de)=>1===G.nodeType?null===G.getAttribute("slot")&&""===de||G.getAttribute("slot")===de:G["s-sn"]===de||""===de,dt=G=>{G.$attrs$&&G.$attrs$.ref&&G.$attrs$.ref(null),G.$children$&&G.$children$.map(dt)},Vt=(G,de,xe)=>{const We=G?.insertBefore(de,xe);return Fn(de,G),We},En=G=>{const de=[];return G&&de.push(...G["s-scs"]||[],G["s-si"],G["s-sc"],...En(G.parentElement)),de},Fn=(G,de,xe=!1)=>{var We;if(G&&de&&1===G.nodeType){const pt=new Set(En(de).filter(Boolean));if(pt.size&&(null==(We=G.classList)||We.add(...G["s-scs"]=[...pt]),G["s-ol"]||xe))for(const ft of Array.from(G.childNodes))Fn(ft,G,!0)}},Ri=(G,de)=>{de&&!G.$onRenderResolve$&&de["s-p"]&&de["s-p"].push(new Promise(xe=>G.$onRenderResolve$=xe))},Ur=(G,de)=>{if(G.$flags$|=16,!(4&G.$flags$))return Ri(G,G.$ancestorComponent$),Hn(()=>Ui(G,de));G.$flags$|=512},Ui=(G,de)=>{const pt=G.$lazyInstance$;if(!pt)throw new Error(`Can't render component <${G.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let ft;return de&&(G.$flags$|=256,G.$queuedListeners$&&(G.$queuedListeners$.map(([Yt,tn])=>wi(pt,Yt,tn)),G.$queuedListeners$=void 0),ft=wi(pt,"componentWillLoad")),ft=hr(ft,()=>wi(pt,"componentWillRender")),hr(ft,()=>bt(G,pt,de))},hr=(G,de)=>Hi(G)?G.then(de).catch(xe=>{console.error(xe),de()}):de(),Hi=G=>G instanceof Promise||G&&G.then&&"function"==typeof G.then,bt=function(){var G=(0,l.A)(function*(de,xe,We){var pt;const ft=de.$hostElement$,tn=ft["s-rc"];We&&(G=>{const de=G.$cmpMeta$,xe=G.$hostElement$,We=de.$flags$,ft=Rn(xe.shadowRoot?xe.shadowRoot:xe.getRootNode(),de,G.$modeName$);10&We&&(xe["s-sc"]=ft,xe.classList.add(ft+"-h"),2&We&&xe.classList.add(ft+"-s"))})(de);Bi(de,xe,ft,We),tn&&(tn.map(Wt=>Wt()),ft["s-rc"]=void 0);{const Wt=null!=(pt=ft["s-p"])?pt:[],Cn=()=>qr(de);0===Wt.length?Cn():(Promise.all(Wt).then(Cn),de.$flags$|=4,Wt.length=0)}});return function(xe,We,pt){return G.apply(this,arguments)}}(),Bi=(G,de,xe,We)=>{try{de=de.render&&de.render(),G.$flags$&=-17,G.$flags$|=2,((G,de,xe=!1)=>{var We,pt,ft,Yt,tn;const Zt=G.$hostElement$,Wt=G.$cmpMeta$,Cn=G.$vnode$||Sn(null,null),An=(G=>G&&G.$tag$===qt)(de)?de:gr(null,null,de);if(Ii=Zt.tagName,Wt.$attrsToReflect$&&(An.$attrs$=An.$attrs$||{},Wt.$attrsToReflect$.map(([rr,tr])=>An.$attrs$[tr]=Zt[rr])),xe&&An.$attrs$)for(const rr of Object.keys(An.$attrs$))Zt.hasAttribute(rr)&&!["key","ref","style","class"].includes(rr)&&(An.$attrs$[rr]=Zt[rr]);if(An.$tag$=null,An.$flags$|=4,G.$vnode$=An,An.$elm$=Cn.$elm$=Zt.shadowRoot||Zt,Nn=Zt["s-sc"],ai=!!(1&Wt.$flags$),er=Zt["s-cr"],zr=!1,re(Cn,An,xe),Ye.$flags$|=1,_r){Ge(An.$elm$);for(const rr of ce){const tr=rr.$nodeToRelocate$;if(!tr["s-ol"]){const mr=ke.createTextNode("");mr["s-nr"]=tr,Vt(tr.parentNode,tr["s-ol"]=mr,tr)}}for(const rr of ce){const tr=rr.$nodeToRelocate$,mr=rr.$slotRefNode$;if(mr){const Fi=mr.parentNode;let Or=mr.nextSibling;if(Or&&1===Or.nodeType){let en=null==(We=tr["s-ol"])?void 0:We.previousSibling;for(;en;){let Pi=null!=(pt=en["s-nr"])?pt:null;if(Pi&&Pi["s-sn"]===tr["s-sn"]&&Fi===Pi.parentNode){for(Pi=Pi.nextSibling;Pi===tr||Pi?.["s-sr"];)Pi=Pi?.nextSibling;if(!Pi||!Pi["s-nr"]){Or=Pi;break}}en=en.previousSibling}}(!Or&&Fi!==tr.parentNode||tr.nextSibling!==Or)&&tr!==Or&&(Vt(Fi,tr,Or),1===tr.nodeType&&(tr.hidden=null!=(ft=tr["s-ih"])&&ft)),tr&&"function"==typeof mr["s-rf"]&&mr["s-rf"](tr)}else 1===tr.nodeType&&(xe&&(tr["s-ih"]=null!=(Yt=tr.hidden)&&Yt),tr.hidden=!0)}}if(zr&&z(An.$elm$),Ye.$flags$&=-2,ce.length=0,2&Wt.$flags$)for(const rr of An.$elm$.childNodes)rr["s-hn"]!==Ii&&!rr["s-sh"]&&(xe&&null==rr["s-ih"]&&(rr["s-ih"]=null!=(tn=rr.hidden)&&tn),rr.hidden=!0);er=void 0})(G,de,We)}catch(pt){Be(pt,G.$hostElement$)}return null},qr=G=>{const xe=G.$hostElement$,pt=G.$lazyInstance$,ft=G.$ancestorComponent$;wi(pt,"componentDidRender"),64&G.$flags$?wi(pt,"componentDidUpdate"):(G.$flags$|=64,js(xe),wi(pt,"componentDidLoad"),G.$onReadyResolve$(xe),ft||Ts()),G.$onInstanceResolve$(xe),G.$onRenderResolve$&&(G.$onRenderResolve$(),G.$onRenderResolve$=void 0),512&G.$flags$&&Ht(()=>Ur(G,!1)),G.$flags$&=-517},Rs=G=>{{const de=$e(G),xe=de.$hostElement$.isConnected;return xe&&2==(18&de.$flags$)&&Ur(de,!1),xe}},Ts=G=>{js(ke.documentElement),Ht(()=>ui(Nt,"appload",{detail:{namespace:"ionic"}}))},wi=(G,de,xe)=>{if(G&&G[de])try{return G[de](xe)}catch(We){Be(We)}},js=G=>G.classList.add(("hydrated","hydrated")),jo=(G,de,xe)=>{var We,pt;const ft=G.prototype;if(de.$members$||de.$watchers$||G.watchers){G.watchers&&!de.$watchers$&&(de.$watchers$=G.watchers);const Yt=Object.entries(null!=(We=de.$members$)?We:{});if(Yt.map(([tn,[Zt]])=>{31&Zt||2&xe&&32&Zt?Object.defineProperty(ft,tn,{get(){return((G,de)=>$e(this).$instanceValues$.get(de))(0,tn)},set(Wt){((G,de,xe,We)=>{const pt=$e(G);if(!pt)throw new Error(`Couldn't find host element for "${We.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const ft=pt.$hostElement$,Yt=pt.$instanceValues$.get(de),tn=pt.$flags$,Zt=pt.$lazyInstance$;xe=((G,de)=>null==G||pr(G)?G:4&de?"false"!==G&&(""===G||!!G):2&de?parseFloat(G):1&de?String(G):G)(xe,We.$members$[de][0]);const Wt=Number.isNaN(Yt)&&Number.isNaN(xe);if((!(8&tn)||void 0===Yt)&&xe!==Yt&&!Wt&&(pt.$instanceValues$.set(de,xe),Zt)){if(We.$watchers$&&128&tn){const An=We.$watchers$[de];An&&An.map(rr=>{try{Zt[rr](xe,Yt,de)}catch(tr){Be(tr,ft)}})}2==(18&tn)&&Ur(pt,!1)}})(this,tn,Wt,de)},configurable:!0,enumerable:!0}):1&xe&&64&Zt&&Object.defineProperty(ft,tn,{value(...Wt){var Cn;const An=$e(this);return null==(Cn=An?.$onInstancePromise$)?void 0:Cn.then(()=>{var rr;return null==(rr=An.$lazyInstance$)?void 0:rr[tn](...Wt)})}})}),1&xe){const tn=new Map;ft.attributeChangedCallback=function(Zt,Wt,Cn){Ye.jmp(()=>{var An;const rr=tn.get(Zt);if(this.hasOwnProperty(rr))Cn=this[rr],delete this[rr];else{if(ft.hasOwnProperty(rr)&&"number"==typeof this[rr]&&this[rr]==Cn)return;if(null==rr){const tr=$e(this),mr=tr?.$flags$;if(mr&&!(8&mr)&&128&mr&&Cn!==Wt){const Fi=tr.$lazyInstance$,Or=null==(An=de.$watchers$)?void 0:An[Zt];Or?.forEach(en=>{null!=Fi[en]&&Fi[en].call(Fi,Cn,Wt,Zt)})}return}}this[rr]=(null!==Cn||"boolean"!=typeof this[rr])&&Cn})},G.observedAttributes=Array.from(new Set([...Object.keys(null!=(pt=de.$watchers$)?pt:{}),...Yt.filter(([Zt,Wt])=>15&Wt[0]).map(([Zt,Wt])=>{var Cn;const An=Wt[1]||Zt;return tn.set(An,Zt),512&Wt[0]&&(null==(Cn=de.$attrsToReflect$)||Cn.push([Zt,An])),An})]))}}return G},uo=function(){var G=(0,l.A)(function*(de,xe,We,pt){let ft;if(!(32&xe.$flags$)){if(xe.$flags$|=32,We.$lazyBundleId$){const Wt=((G,de,xe)=>{const We=G.$tagName$.replace(/-/g,"_"),pt=G.$lazyBundleId$;if(!pt)return;const ft=je.get(pt);return ft?ft[We]:k(8996)(`./${pt}.entry.js`).then(Yt=>(je.set(pt,Yt),Yt[We]),Be)})(We);if(Wt&&"then"in Wt){const An=()=>{};ft=yield Wt,An()}else ft=Wt;if(!ft)throw new Error(`Constructor for "${We.$tagName$}#${xe.$modeName$}" was not found`);ft.isProxied||(We.$watchers$=ft.watchers,jo(ft,We,2),ft.isProxied=!0);const Cn=()=>{};xe.$flags$|=8;try{new ft(xe)}catch(An){Be(An)}xe.$flags$&=-9,xe.$flags$|=128,Cn(),Li(xe.$lazyInstance$)}else ft=de.constructor,customElements.whenDefined(de.localName).then(()=>xe.$flags$|=128);if(ft&&ft.style){let Wt;"string"==typeof ft.style?Wt=ft.style:"string"!=typeof ft.style&&(xe.$modeName$=(G=>ut.map(de=>de(G)).find(de=>!!de))(de),xe.$modeName$&&(Wt=ft.style[xe.$modeName$]));const Cn=He(We,xe.$modeName$);if(!ct.has(Cn)){const An=()=>{};In(Cn,Wt,!!(1&We.$flags$)),An()}}}const Yt=xe.$ancestorComponent$,tn=()=>Ur(xe,!0);Yt&&Yt["s-rc"]?Yt["s-rc"].push(tn):tn()});return function(xe,We,pt,ft){return G.apply(this,arguments)}}(),Li=G=>{wi(G,"connectedCallback")},hi=G=>{const de=G["s-cr"]=ke.createComment("");de["s-cn"]=!0,Vt(G,de,G.firstChild)},Hs=G=>{wi(G,"disconnectedCallback")},no=function(){var G=(0,l.A)(function*(de){if(!(1&Ye.$flags$)){const xe=$e(de);xe.$rmListeners$&&(xe.$rmListeners$.map(We=>We()),xe.$rmListeners$=void 0),xe?.$lazyInstance$?Hs(xe.$lazyInstance$):xe?.$onReadyPromise$&&xe.$onReadyPromise$.then(()=>Hs(xe.$lazyInstance$))}});return function(xe){return G.apply(this,arguments)}}(),cs=G=>{const de=G.cloneNode;G.cloneNode=function(xe){const We=this,pt=We.shadowRoot&&true,ft=de.call(We,!!pt&&xe);if(!pt&&xe){let tn,Zt,Yt=0;const Wt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Yt<We.childNodes.length;Yt++)tn=We.childNodes[Yt]["s-nr"],Zt=Wt.every(Cn=>!We.childNodes[Yt][Cn]),tn&&(ft.__appendChild?ft.__appendChild(tn.cloneNode(!0)):ft.appendChild(tn.cloneNode(!0))),Zt&&ft.appendChild(We.childNodes[Yt].cloneNode(!0))}return ft}},ks=G=>{G.__appendChild=G.appendChild,G.appendChild=function(de){const xe=de["s-sn"]=J(de),We=Rr(this.childNodes,xe,this.tagName);if(We){const pt=te(We,xe),ft=pt[pt.length-1],Yt=Vt(ft.parentNode,de,ft.nextSibling);return z(this),Yt}return this.__appendChild(de)}},Ao=G=>{G.__removeChild=G.removeChild,G.removeChild=function(de){if(de&&typeof de["s-sn"]<"u"){const xe=Rr(this.childNodes,de["s-sn"],this.tagName);if(xe){const pt=te(xe,de["s-sn"]).find(ft=>ft===de);if(pt)return pt.remove(),void z(this)}}return this.__removeChild(de)}},vs=G=>{const de=G.prepend;G.prepend=function(...xe){xe.forEach(We=>{"string"==typeof We&&(We=this.ownerDocument.createTextNode(We));const pt=We["s-sn"]=J(We),ft=Rr(this.childNodes,pt,this.tagName);if(ft){const Yt=document.createTextNode("");Yt["s-nr"]=We,ft["s-cr"].parentNode.__appendChild(Yt),We["s-ol"]=Yt;const Zt=te(ft,pt)[0];return Vt(Zt.parentNode,We,Zt.nextSibling)}return 1===We.nodeType&&We.getAttribute("slot")&&(We.hidden=!0),de.call(this,We)})}},Ho=G=>{G.append=function(...de){de.forEach(xe=>{"string"==typeof xe&&(xe=this.ownerDocument.createTextNode(xe)),this.appendChild(xe)})}},oa=G=>{const de=G.insertAdjacentHTML;G.insertAdjacentHTML=function(xe,We){if("afterbegin"!==xe&&"beforeend"!==xe)return de.call(this,xe,We);const pt=this.ownerDocument.createElement("_");let ft;if(pt.innerHTML=We,"afterbegin"===xe)for(;ft=pt.firstChild;)this.prepend(ft);else if("beforeend"===xe)for(;ft=pt.firstChild;)this.append(ft)}},Aa=G=>{G.insertAdjacentText=function(de,xe){this.insertAdjacentHTML(de,xe)}},Do=G=>{const de=G.insertAdjacentElement;G.insertAdjacentElement=function(xe,We){return"afterbegin"!==xe&&"beforeend"!==xe?de.call(this,xe,We):"afterbegin"===xe?(this.prepend(We),We):("beforeend"===xe&&this.append(We),We)}},aa=G=>{const de=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(G,"__textContent",de),Object.defineProperty(G,"textContent",{get(){return" "+vo(this.childNodes).map(pt=>{var ft,Yt;const tn=[];let Zt=pt.nextSibling;for(;Zt&&Zt["s-sn"]===pt["s-sn"];)(3===Zt.nodeType||1===Zt.nodeType)&&tn.push(null!=(Yt=null==(ft=Zt.textContent)?void 0:ft.trim())?Yt:""),Zt=Zt.nextSibling;return tn.filter(Wt=>""!==Wt).join(" ")}).filter(pt=>""!==pt).join(" ")+" "},set(xe){vo(this.childNodes).forEach(pt=>{let ft=pt.nextSibling;for(;ft&&ft["s-sn"]===pt["s-sn"];){const Yt=ft;ft=ft.nextSibling,Yt.remove()}if(""===pt["s-sn"]){const Yt=this.ownerDocument.createTextNode(xe);Yt["s-sn"]="",Vt(pt.parentElement,Yt,pt.nextSibling)}else pt.remove()})}})},Rl=(G,de)=>{class xe extends Array{item(pt){return this[pt]}}if(8&de.$flags$){const We=G.__lookupGetter__("childNodes");Object.defineProperty(G,"children",{get(){return this.childNodes.map(pt=>1===pt.nodeType)}}),Object.defineProperty(G,"childElementCount",{get:()=>G.children.length}),Object.defineProperty(G,"childNodes",{get(){const pt=We.call(this);if(!(1&Ye.$flags$)&&2&$e(this).$flags$){const ft=new xe;for(let Yt=0;Yt<pt.length;Yt++){const tn=pt[Yt]["s-nr"];tn&&ft.push(tn)}return ft}return xe.from(pt)}})}},vo=G=>{const de=[];for(const xe of Array.from(G))xe["s-sr"]&&de.push(xe),de.push(...vo(xe.childNodes));return de},J=G=>G["s-sn"]||1===G.nodeType&&G.getAttribute("slot")||"",Rr=(G,de,xe)=>{let pt,We=0;for(;We<G.length;We++)if(pt=G[We],pt["s-sr"]&&pt["s-sn"]===de&&pt["s-hn"]===xe||(pt=Rr(pt.childNodes,de,xe),pt))return pt;return null},te=(G,de)=>{const xe=[G];for(;(G=G.nextSibling)&&G["s-sn"]===de;)xe.push(G);return xe},x=(G,de={})=>{var xe;const pt=[],ft=de.exclude||[],Yt=Nt.customElements,tn=ke.head,Zt=tn.querySelector("meta[charset]"),Wt=ke.createElement("style"),Cn=[],An=ke.querySelectorAll(`[${Re}]`);let rr,tr=!0,mr=0;for(Object.assign(Ye,de),Ye.$resourcesUrl$=new URL(de.resourcesUrl||"./",ke.baseURI).href,Ye.$flags$|=2;mr<An.length;mr++)In(An[mr].getAttribute(Re),se(An[mr].innerHTML),!0);let Fi=!1;if(G.map(Or=>{Or[1].map(en=>{var Pi;const mi={$flags$:en[0],$tagName$:en[1],$members$:en[2],$listeners$:en[3]};4&mi.$flags$&&(Fi=!0),mi.$members$=en[2],mi.$listeners$=en[3],mi.$attrsToReflect$=[],mi.$watchers$=null!=(Pi=en[4])?Pi:{};const ss=mi.$tagName$,la=class extends HTMLElement{constructor(us){if(super(us),this.hasRegisteredEventListeners=!1,((G,de)=>{const xe={$flags$:0,$hostElement$:G,$cmpMeta$:de,$instanceValues$:new Map};xe.$onInstancePromise$=new Promise(We=>xe.$onInstanceResolve$=We),xe.$onReadyPromise$=new Promise(We=>xe.$onReadyResolve$=We),G["s-p"]=[],G["s-rc"]=[],Oe.set(G,xe)})(us=this,mi),1&mi.$flags$)if(us.shadowRoot){if("open"!==us.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${mi.$tagName$}! Mode is set to ${us.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else us.attachShadow({mode:"open",delegatesFocus:!!(16&mi.$flags$)})}connectedCallback(){const us=$e(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,we(this,us,mi.$listeners$)),rr&&(clearTimeout(rr),rr=null),tr?Cn.push(this):Ye.jmp(()=>(G=>{if(!(1&Ye.$flags$)){const de=$e(G),xe=de.$cmpMeta$,We=()=>{};if(1&de.$flags$)we(G,de,xe.$listeners$),de?.$lazyInstance$?Li(de.$lazyInstance$):de?.$onReadyPromise$&&de.$onReadyPromise$.then(()=>Li(de.$lazyInstance$));else{let pt;if(de.$flags$|=1,pt=G.getAttribute(it),pt){if(1&xe.$flags$){const ft=Rn(G.shadowRoot,xe,G.getAttribute("s-mode"));G.classList.remove(ft+"-h",ft+"-s")}((G,de,xe,We)=>{const ft=G.shadowRoot,Yt=[],Zt=ft?[]:null,Wt=We.$vnode$=Sn(de,null);Ye.$orgLocNodes$||Kn(ke.body,Ye.$orgLocNodes$=new Map),G[it]=xe,G.removeAttribute(it),pi(Wt,Yt,[],Zt,G,G,xe),Yt.map(Cn=>{const An=Cn.$hostId$+"."+Cn.$nodeId$,rr=Ye.$orgLocNodes$.get(An),tr=Cn.$elm$;rr&&""===rr["s-en"]&&rr.parentNode.insertBefore(tr,rr.nextSibling),ft||(tr["s-hn"]=de,rr&&(tr["s-ol"]=rr,tr["s-ol"]["s-nr"]=tr)),Ye.$orgLocNodes$.delete(An)}),ft&&Zt.map(Cn=>{Cn&&ft.appendChild(Cn)})})(G,xe.$tagName$,pt,de)}pt||12&xe.$flags$&&hi(G);{let ft=G;for(;ft=ft.parentNode||ft.host;)if(1===ft.nodeType&&ft.hasAttribute("s-id")&&ft["s-p"]||ft["s-p"]){Ri(de,de.$ancestorComponent$=ft);break}}xe.$members$&&Object.entries(xe.$members$).map(([ft,[Yt]])=>{if(31&Yt&&G.hasOwnProperty(ft)){const tn=G[ft];delete G[ft],G[ft]=tn}}),uo(G,de,xe)}We()}})(this))}disconnectedCallback(){Ye.jmp(()=>no(this))}componentOnReady(){return $e(this).$onReadyPromise$}};2&mi.$flags$&&((G,de)=>{cs(G),ks(G),Ho(G),vs(G),Do(G),oa(G),Aa(G),aa(G),Rl(G,de),Ao(G)})(la.prototype,mi),mi.$lazyBundleId$=Or[0],!ft.includes(ss)&&!Yt.get(ss)&&(pt.push(ss),Yt.define(ss,jo(la,mi,1)))})}),pt.length>0&&(Fi&&(Wt.textContent+=at),Wt.textContent+=pt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Wt.innerHTML.length)){Wt.setAttribute("data-styles","");const Or=null!=(xe=Ye.$nonce$)?xe:Gn(ke);null!=Or&&Wt.setAttribute("nonce",Or),tn.insertBefore(Wt,Zt?Zt.nextSibling:tn.firstChild)}tr=!1,Cn.length?Cn.map(Or=>Or.connectedCallback()):Ye.jmp(()=>rr=setTimeout(Ts,30))},we=(G,de,xe,We)=>{xe&&xe.map(([pt,ft,Yt])=>{const tn=gi(G,pt),Zt=Nr(de,Yt),Wt=$i(pt);Ye.ael(tn,ft,Zt,Wt),(de.$rmListeners$=de.$rmListeners$||[]).push(()=>Ye.rel(tn,ft,Zt,Wt))})},Nr=(G,de)=>xe=>{var We;try{256&G.$flags$?null==(We=G.$lazyInstance$)||We[de](xe):(G.$queuedListeners$=G.$queuedListeners$||[]).push([de,xe])}catch(pt){Be(pt)}},gi=(G,de)=>4&de?ke:8&de?Nt:16&de?ke.body:G,$i=G=>rn?{passive:!!(1&G),capture:!!(2&G)}:!!(2&G)},1331:(_n,vt,k)=>{"use strict";k.d(vt,{b:()=>$e,c:()=>Ke,d:()=>Me,e:()=>It,g:()=>Ce,l:()=>Ye,s:()=>rn,t:()=>Ze,w:()=>Et});var l=k(467),U=k(4921),Te=k(8393),ie=k(4929),me=k(4920);const $e="ionViewWillLeave",Ke="ionViewDidLeave",Me="ionViewWillUnload",le=q=>{q.tabIndex=-1,q.focus()},Be=q=>null!==q.offsetParent,Ue="ion-last-focus",st_saveViewFocus=ae=>{if(U.c.get("focusManagerPriority",!1)){const Tt=document.activeElement;null!==Tt&&ae?.contains(Tt)&&Tt.setAttribute(Ue,"true")}},st_setViewFocus=ae=>{const be=U.c.get("focusManagerPriority",!1);if(Array.isArray(be)&&!ae.contains(document.activeElement)){const Tt=ae.querySelector(`[${Ue}]`);if(Tt&&Be(Tt))return void le(Tt);for(const Ne of be)switch(Ne){case"content":const Ht=ae.querySelector('main, [role="main"]');if(Ht&&Be(Ht))return void le(Ht);break;case"heading":const an=ae.querySelector('h1, [role="heading"][aria-level="1"]');if(an&&Be(an))return void le(an);break;case"banner":const Hn=ae.querySelector('header, [role="banner"]');if(Hn&&Be(Hn))return void le(Hn);break;default:(0,ie.p)(`Unrecognized focus manager priority value ${Ne}`)}le(ae)}},Ze=q=>new Promise((ne,ae)=>{(0,Te.w)(()=>{wt(q),yt(q).then(be=>{be.animation&&be.animation.destroy(),it(q),ne(be)},be=>{it(q),ae(be)})})}),wt=q=>{const ne=q.enteringEl,ae=q.leavingEl;st_saveViewFocus(ae),Qe(ne,ae,q.direction),q.showGoBack?ne.classList.add("can-go-back"):ne.classList.remove("can-go-back"),rn(ne,!1),ne.style.setProperty("pointer-events","none"),ae&&(rn(ae,!1),ae.style.setProperty("pointer-events","none"))},yt=function(){var q=(0,l.A)(function*(ne){const ae=yield Re(ne);return ae&&Te.B.isBrowser?_e(ae,ne):et(ne)});return function(ae){return q.apply(this,arguments)}}(),it=q=>{const ne=q.enteringEl,ae=q.leavingEl;ne.classList.remove("ion-page-invisible"),ne.style.removeProperty("pointer-events"),void 0!==ae&&(ae.classList.remove("ion-page-invisible"),ae.style.removeProperty("pointer-events")),st_setViewFocus(ne)},Re=function(){var q=(0,l.A)(function*(ne){return ne.leavingEl&&ne.animated&&0!==ne.duration?ne.animationBuilder?ne.animationBuilder:"ios"===ne.mode?(yield Promise.resolve().then(k.bind(k,9856))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,361))).mdTransitionAnimation:void 0});return function(ae){return q.apply(this,arguments)}}(),_e=function(){var q=(0,l.A)(function*(ne,ae){yield at(ae,!0);const be=ne(ae.baseEl,ae);ke(ae.enteringEl,ae.leavingEl);const Tt=yield Nt(be,ae);return ae.progressCallback&&ae.progressCallback(void 0),Tt&&mt(ae.enteringEl,ae.leavingEl),{hasCompleted:Tt,animation:be}});return function(ae,be){return q.apply(this,arguments)}}(),et=function(){var q=(0,l.A)(function*(ne){const ae=ne.enteringEl,be=ne.leavingEl,Tt=U.c.get("focusManagerPriority",!1);return yield at(ne,Tt),ke(ae,be),mt(ae,be),{hasCompleted:!0}});return function(ae){return q.apply(this,arguments)}}(),at=function(){var q=(0,l.A)(function*(ne,ae){(void 0!==ne.deepWait?ne.deepWait:ae)&&(yield Promise.all([It(ne.enteringEl),It(ne.leavingEl)])),yield ze(ne.viewIsReady,ne.enteringEl)});return function(ae,be){return q.apply(this,arguments)}}(),ze=function(){var q=(0,l.A)(function*(ne,ae){ne&&(yield ne(ae))});return function(ae,be){return q.apply(this,arguments)}}(),Nt=(q,ne)=>{const ae=ne.progressCallback,be=new Promise(Tt=>{q.onFinish(Ne=>Tt(1===Ne))});return ae?(q.progressStart(!0),ae(q)):q.play(),be},ke=(q,ne)=>{Ye(ne,$e),Ye(q,"ionViewWillEnter")},mt=(q,ne)=>{Ye(q,"ionViewDidEnter"),Ye(ne,Ke)},Ye=(q,ne)=>{if(q){const ae=new CustomEvent(ne,{bubbles:!1,cancelable:!1});q.dispatchEvent(ae)}},Et=()=>new Promise(q=>(0,me.r)(()=>(0,me.r)(()=>q()))),It=function(){var q=(0,l.A)(function*(ne){const ae=ne;if(ae){if(null!=ae.componentOnReady){if(null!=(yield ae.componentOnReady()))return}else if(null!=ae.__registerHost)return void(yield new Promise(Tt=>(0,me.r)(Tt)));yield Promise.all(Array.from(ae.children).map(It))}});return function(ae){return q.apply(this,arguments)}}(),rn=(q,ne)=>{ne?(q.setAttribute("aria-hidden","true"),q.classList.add("ion-page-hidden")):(q.hidden=!1,q.removeAttribute("aria-hidden"),q.classList.remove("ion-page-hidden"))},Qe=(q,ne,ae)=>{void 0!==q&&(q.style.zIndex="back"===ae?"99":"101"),void 0!==ne&&(ne.style.zIndex="100")},Ce=q=>q.classList.contains("ion-page")?q:q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||q},4929:(_n,vt,k)=>{"use strict";k.d(vt,{a:()=>U,b:()=>Te,p:()=>l});const l=(ie,...me)=>console.warn(`[Ionic Warning]: ${ie}`,...me),U=(ie,...me)=>console.error(`[Ionic Error]: ${ie}`,...me),Te=(ie,...me)=>console.error(`<${ie.tagName.toLowerCase()}> must be used inside ${me.join(" or ")}.`)},8476:(_n,vt,k)=>{"use strict";k.d(vt,{d:()=>U,w:()=>l});const l=typeof window<"u"?window:void 0,U=typeof document<"u"?document:void 0},4921:(_n,vt,k)=>{"use strict";k.d(vt,{a:()=>le,b:()=>rn,c:()=>Te,i:()=>Qe});var l=k(8393);class U{constructor(){this.m=new Map}reset(q){this.m=new Map(Object.entries(q))}get(q,ne){const ae=this.m.get(q);return void 0!==ae?ae:ne}getBoolean(q,ne=!1){const ae=this.m.get(q);return void 0===ae?ne:"string"==typeof ae?"true"===ae:!!ae}getNumber(q,ne){const ae=parseFloat(this.m.get(q));return isNaN(ae)?void 0!==ne?ne:NaN:ae}set(q,ne){this.m.set(q,ne)}}const Te=new U,Ke="ionic-persist-config",le=(Ce,q)=>("string"==typeof Ce&&(q=Ce,Ce=void 0),(Ce=>Be(Ce))(Ce).includes(q)),Be=(Ce=window)=>{if(typeof Ce>"u")return[];Ce.Ionic=Ce.Ionic||{};let q=Ce.Ionic.platforms;return null==q&&(q=Ce.Ionic.platforms=je(Ce),q.forEach(ne=>Ce.document.documentElement.classList.add(`plt-${ne}`))),q},je=Ce=>{const q=Te.get("platform");return Object.keys(Et).filter(ne=>{const ae=q?.[ne];return"function"==typeof ae?ae(Ce):Et[ne](Ce)})},ct=Ce=>!!(mt(Ce,/iPad/i)||mt(Ce,/Macintosh/i)&&Re(Ce)),Ze=Ce=>mt(Ce,/android|sink/i),Re=Ce=>Ye(Ce,"(any-pointer:coarse)"),et=Ce=>at(Ce)||ze(Ce),at=Ce=>!!(Ce.cordova||Ce.phonegap||Ce.PhoneGap),ze=Ce=>{const q=Ce.Capacitor;return!!q?.isNative},mt=(Ce,q)=>q.test(Ce.navigator.userAgent),Ye=(Ce,q)=>{var ne;return null===(ne=Ce.matchMedia)||void 0===ne?void 0:ne.call(Ce,q).matches},Et={ipad:ct,iphone:Ce=>mt(Ce,/iPhone/i),ios:Ce=>mt(Ce,/iPhone|iPod/i)||ct(Ce),android:Ze,phablet:Ce=>{const q=Ce.innerWidth,ne=Ce.innerHeight,ae=Math.min(q,ne),be=Math.max(q,ne);return ae>390&&ae<520&&be>620&&be<800},tablet:Ce=>{const q=Ce.innerWidth,ne=Ce.innerHeight,ae=Math.min(q,ne),be=Math.max(q,ne);return ct(Ce)||(Ce=>Ze(Ce)&&!mt(Ce,/mobile/i))(Ce)||ae>460&&ae<820&&be>780&&be<1400},cordova:at,capacitor:ze,electron:Ce=>mt(Ce,/electron/i),pwa:Ce=>{var q;return!!(null!==(q=Ce.matchMedia)&&void 0!==q&&q.call(Ce,"(display-mode: standalone)").matches||Ce.navigator.standalone)},mobile:Re,mobileweb:Ce=>Re(Ce)&&!et(Ce),desktop:Ce=>!Re(Ce),hybrid:et};let It;const rn=Ce=>Ce&&(0,l.g)(Ce)||It,Qe=(Ce={})=>{if(typeof window>"u")return;const q=window.document,ne=window,ae=ne.Ionic=ne.Ionic||{},be={};Ce._ael&&(be.ael=Ce._ael),Ce._rel&&(be.rel=Ce._rel),Ce._ce&&(be.ce=Ce._ce),(0,l.a)(be);const Tt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Ce=>{try{const q=Ce.sessionStorage.getItem(Ke);return null!==q?JSON.parse(q):{}}catch{return{}}})(ne)),{persistConfig:!1}),ae.config),(Ce=>{const q={};return Ce.location.search.slice(1).split("&").map(ne=>ne.split("=")).map(([ne,ae])=>{try{return[decodeURIComponent(ne),decodeURIComponent(ae)]}catch{return["",""]}}).filter(([ne])=>((Ce,q)=>Ce.substr(0,q.length)===q)(ne,"ionic:")).map(([ne,ae])=>[ne.slice(6),ae]).forEach(([ne,ae])=>{q[ne]=ae}),q})(ne)),Ce);Te.reset(Tt),Te.getBoolean("persistConfig")&&((Ce,q)=>{try{Ce.sessionStorage.setItem(Ke,JSON.stringify(q))}catch{return}})(ne,Tt),Be(ne),ae.config=Te,ae.mode=It=Te.get("mode",q.documentElement.getAttribute("mode")||(le(ne,"ios")?"ios":"md")),Te.set("mode",It),q.documentElement.setAttribute("mode",It),q.documentElement.classList.add(It),Te.getBoolean("_testing")&&Te.set("animated",!1);const Ne=an=>{var Hn;return null===(Hn=an.tagName)||void 0===Hn?void 0:Hn.startsWith("ION-")},Ht=an=>["ios","md"].includes(an);(0,l.c)(an=>{for(;an;){const Hn=an.mode||an.getAttribute("mode");if(Hn){if(Ht(Hn))return Hn;Ne(an)&&console.warn('Invalid ionic mode: "'+Hn+'", expected: "ios" or "md"')}an=an.parentElement}return It})}},9856:(_n,vt,k)=>{"use strict";k.r(vt),k.d(vt,{iosTransitionAnimation:()=>Ue,shadow:()=>$e});var l=k(9986),U=k(1331);k(8476),k(4921),k(8393);const Oe=ut=>document.querySelector(`${ut}.ion-cloned-element`),$e=ut=>ut.shadowRoot||ut,Ke=ut=>{const st="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs"),Ze="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=st){const wt=st.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=wt?wt.querySelector(Ze):null}return ut.querySelector(Ze)},Me=(ut,st)=>{const Ze="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs");let wt=[];if(null!=Ze){const yt=Ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=yt&&(wt=yt.querySelectorAll("ion-buttons"))}else wt=ut.querySelectorAll("ion-buttons");for(const yt of wt){const it=yt.closest("ion-header"),Re=it&&!it.classList.contains("header-collapse-condense-inactive"),_e=yt.querySelector("ion-back-button"),et=yt.classList.contains("buttons-collapse");if(null!==_e&&("start"===yt.slot||""===yt.slot)&&(et&&Re&&st||!et))return _e}return null},Be=(ut,st,Ze,wt,yt,it,Re,_e,et)=>{var at,ze;const Nt=st?`calc(100% - ${yt.right+4}px)`:yt.left-4+"px",ke=st?"right":"left",mt=st?"left":"right",Ye=st?"right":"left";let Et=1,It=1,rn=`scale(${It})`;const Qe="scale(1)";if(it&&Re){const Bt=(null===(at=it.textContent)||void 0===at?void 0:at.trim())===(null===(ze=_e.textContent)||void 0===ze?void 0:ze.trim());Et=et.width/Re.width,It=(et.height-ct)/Re.height,rn=Bt?`scale(${Et}, ${It})`:`scale(${It})`}const q=$e(wt).querySelector("ion-icon").getBoundingClientRect(),ne=st?q.width/2-(q.right-yt.right)+"px":yt.left-q.width/2+"px",ae=st?`-${window.innerWidth-yt.right}px`:`${yt.left}px`,be=`${et.top}px`,Tt=`${yt.top}px`,an=Ze?[{offset:0,transform:`translate3d(${ae}, ${Tt}, 0)`},{offset:1,transform:`translate3d(${ne}, ${be}, 0)`}]:[{offset:0,transform:`translate3d(${ne}, ${be}, 0)`},{offset:1,transform:`translate3d(${ae}, ${Tt}, 0)`}],Bn=Ze?[{offset:0,opacity:1,transform:Qe},{offset:1,opacity:0,transform:rn}]:[{offset:0,opacity:0,transform:rn},{offset:1,opacity:1,transform:Qe}],Zn=Ze?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],pr=(0,l.c)(),Gn=(0,l.c)(),dn=(0,l.c)(),On=Oe("ion-back-button"),zt=$e(On).querySelector(".button-text"),kt=$e(On).querySelector("ion-icon");On.text=wt.text,On.mode=wt.mode,On.icon=wt.icon,On.color=wt.color,On.disabled=wt.disabled,On.style.setProperty("display","block"),On.style.setProperty("position","fixed"),Gn.addElement(kt),pr.addElement(zt),dn.addElement(On),dn.beforeStyles({position:"absolute",top:"0px",[Ye]:"0px"}).beforeAddWrite(()=>{wt.style.setProperty("display","none"),On.style.setProperty(ke,Nt)}).afterAddWrite(()=>{wt.style.setProperty("display",""),On.style.setProperty("display","none"),On.style.removeProperty(ke)}).keyframes(an),pr.beforeStyles({"transform-origin":`${ke} top`}).keyframes(Bn),Gn.beforeStyles({"transform-origin":`${mt} center`}).keyframes(Zn),ut.addAnimation([pr,Gn,dn])},je=(ut,st,Ze,wt,yt,it,Re,_e,et)=>{var at,ze;const Nt=st?"right":"left",ke=st?`calc(100% - ${yt.right}px)`:`${yt.left}px`,Ye=`${yt.top}px`;let It=st?`-${window.innerWidth-Re.right-8}px`:`${Re.x+8}px`,rn=.5;const Qe="scale(1)";let Ce=`scale(${rn})`;if(_e&&et){It=st?`-${window.innerWidth-et.right-8}px`:et.x-8+"px";const Hn=(null===(at=_e.textContent)||void 0===at?void 0:at.trim())===(null===(ze=wt.textContent)||void 0===ze?void 0:ze.trim());rn=et.height/(it.height-ct),Ce=Hn?`scale(${et.width/it.width}, ${rn})`:`scale(${rn})`}const ae=Re.top+Re.height/2-yt.height*rn/2+"px",Ne=Ze?[{offset:0,opacity:0,transform:`translate3d(${It}, ${ae}, 0) ${Ce}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Ye}, 0) ${Qe}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Ye}, 0) ${Qe}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${It}, ${ae}, 0) ${Ce}`}],Ht=Oe("ion-title"),an=(0,l.c)();Ht.innerText=wt.innerText,Ht.size=wt.size,Ht.color=wt.color,an.addElement(Ht),an.beforeStyles({"transform-origin":`${Nt} top`,height:`${yt.height}px`,display:"",position:"relative",[Nt]:ke}).beforeAddWrite(()=>{wt.style.setProperty("opacity","0")}).afterAddWrite(()=>{wt.style.setProperty("opacity",""),Ht.style.setProperty("display","none")}).keyframes(Ne),ut.addAnimation(an)},Ue=(ut,st)=>{var Ze;try{const wt="cubic-bezier(0.32,0.72,0,1)",yt="opacity",it="transform",Re="0%",et="rtl"===ut.ownerDocument.dir,at=et?"-99.5%":"99.5%",ze=et?"33%":"-33%",Nt=st.enteringEl,ke=st.leavingEl,mt="back"===st.direction,Ye=Nt.querySelector(":scope > ion-content"),Et=Nt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),It=Nt.querySelectorAll(":scope > ion-header > ion-toolbar"),rn=(0,l.c)(),Qe=(0,l.c)();if(rn.addElement(Nt).duration((null!==(Ze=st.duration)&&void 0!==Ze?Ze:0)||540).easing(st.easing||wt).fill("both").beforeRemoveClass("ion-page-invisible"),ke&&null!=ut){const ae=(0,l.c)();ae.addElement(ut),rn.addAnimation(ae)}if(Ye||0!==It.length||0!==Et.length?(Qe.addElement(Ye),Qe.addElement(Et)):Qe.addElement(Nt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rn.addAnimation(Qe),mt?Qe.beforeClearStyles([yt]).fromTo("transform",`translateX(${ze})`,`translateX(${Re})`).fromTo(yt,.8,1):Qe.beforeClearStyles([yt]).fromTo("transform",`translateX(${at})`,`translateX(${Re})`),Ye){const ae=$e(Ye).querySelector(".transition-effect");if(ae){const be=ae.querySelector(".transition-cover"),Tt=ae.querySelector(".transition-shadow"),Ne=(0,l.c)(),Ht=(0,l.c)(),an=(0,l.c)();Ne.addElement(ae).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ht.addElement(be).beforeClearStyles([yt]).fromTo(yt,0,.1),an.addElement(Tt).beforeClearStyles([yt]).fromTo(yt,.03,.7),Ne.addAnimation([Ht,an]),Qe.addAnimation([Ne])}}const Ce=Nt.querySelector("ion-header.header-collapse-condense"),{forward:q,backward:ne}=((ut,st,Ze,wt,yt)=>{const it=Me(wt,Ze),Re=Ke(yt),_e=Ke(wt),et=Me(yt,Ze),at=null!==it&&null!==Re&&!Ze,ze=null!==_e&&null!==et&&Ze;if(at){const Nt=Re.getBoundingClientRect(),ke=it.getBoundingClientRect(),mt=$e(it).querySelector(".button-text"),Ye=mt?.getBoundingClientRect(),It=$e(Re).querySelector(".toolbar-title").getBoundingClientRect();je(ut,st,Ze,Re,Nt,It,ke,mt,Ye),Be(ut,st,Ze,it,ke,mt,Ye,Re,It)}else if(ze){const Nt=_e.getBoundingClientRect(),ke=et.getBoundingClientRect(),mt=$e(et).querySelector(".button-text"),Ye=mt?.getBoundingClientRect(),It=$e(_e).querySelector(".toolbar-title").getBoundingClientRect();je(ut,st,Ze,_e,Nt,It,ke,mt,Ye),Be(ut,st,Ze,et,ke,mt,Ye,_e,It)}return{forward:at,backward:ze}})(rn,et,mt,Nt,ke);if(It.forEach(ae=>{const be=(0,l.c)();be.addElement(ae),rn.addAnimation(be);const Tt=(0,l.c)();Tt.addElement(ae.querySelector("ion-title"));const Ne=(0,l.c)(),Ht=Array.from(ae.querySelectorAll("ion-buttons,[menuToggle]")),an=ae.closest("ion-header"),Hn=an?.classList.contains("header-collapse-condense-inactive");let Kt;Kt=Ht.filter(mt?pr=>{const Gn=pr.classList.contains("buttons-collapse");return Gn&&!Hn||!Gn}:pr=>!pr.classList.contains("buttons-collapse")),Ne.addElement(Kt);const Bn=(0,l.c)();Bn.addElement(ae.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const zn=(0,l.c)();zn.addElement($e(ae).querySelector(".toolbar-background"));const Ot=(0,l.c)(),Zn=ae.querySelector("ion-back-button");if(Zn&&Ot.addElement(Zn),be.addAnimation([Tt,Ne,Bn,zn,Ot]),Ne.fromTo(yt,.01,1),Bn.fromTo(yt,.01,1),mt)Hn||Tt.fromTo("transform",`translateX(${ze})`,`translateX(${Re})`).fromTo(yt,.01,1),Bn.fromTo("transform",`translateX(${ze})`,`translateX(${Re})`),Ot.fromTo(yt,.01,1);else if(Ce||Tt.fromTo("transform",`translateX(${at})`,`translateX(${Re})`).fromTo(yt,.01,1),Bn.fromTo("transform",`translateX(${at})`,`translateX(${Re})`),zn.beforeClearStyles([yt,"transform"]),an?.translucent?zn.fromTo("transform",et?"translateX(-100%)":"translateX(100%)","translateX(0px)"):zn.fromTo(yt,.01,"var(--opacity)"),q||Ot.fromTo(yt,.01,1),Zn&&!q){const Gn=(0,l.c)();Gn.addElement($e(Zn).querySelector(".button-text")).fromTo("transform",et?"translateX(-100px)":"translateX(100px)","translateX(0px)"),be.addAnimation(Gn)}}),ke){const ae=(0,l.c)(),be=ke.querySelector(":scope > ion-content"),Tt=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),Ne=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(be||0!==Tt.length||0!==Ne.length?(ae.addElement(be),ae.addElement(Ne)):ae.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),rn.addAnimation(ae),mt){ae.beforeClearStyles([yt]).fromTo("transform",`translateX(${Re})`,et?"translateX(-100%)":"translateX(100%)");const Ht=(0,U.g)(ke);rn.afterAddWrite(()=>{"normal"===rn.getDirection()&&Ht.style.setProperty("display","none")})}else ae.fromTo("transform",`translateX(${Re})`,`translateX(${ze})`).fromTo(yt,1,.8);if(be){const Ht=$e(be).querySelector(".transition-effect");if(Ht){const an=Ht.querySelector(".transition-cover"),Hn=Ht.querySelector(".transition-shadow"),Kt=(0,l.c)(),Bn=(0,l.c)(),zn=(0,l.c)();Kt.addElement(Ht).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Bn.addElement(an).beforeClearStyles([yt]).fromTo(yt,.1,0),zn.addElement(Hn).beforeClearStyles([yt]).fromTo(yt,.7,.03),Kt.addAnimation([Bn,zn]),ae.addAnimation([Kt])}}Tt.forEach(Ht=>{const an=(0,l.c)();an.addElement(Ht);const Hn=(0,l.c)();Hn.addElement(Ht.querySelector("ion-title"));const Kt=(0,l.c)(),Bn=Ht.querySelectorAll("ion-buttons,[menuToggle]"),zn=Ht.closest("ion-header"),Ot=zn?.classList.contains("header-collapse-condense-inactive"),Zn=Array.from(Bn).filter(kt=>{const Bt=kt.classList.contains("buttons-collapse");return Bt&&!Ot||!Bt});Kt.addElement(Zn);const pr=(0,l.c)(),Gn=Ht.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Gn.length>0&&pr.addElement(Gn);const dn=(0,l.c)();dn.addElement($e(Ht).querySelector(".toolbar-background"));const On=(0,l.c)(),zt=Ht.querySelector("ion-back-button");if(zt&&On.addElement(zt),an.addAnimation([Hn,Kt,pr,On,dn]),rn.addAnimation(an),On.fromTo(yt,.99,0),Kt.fromTo(yt,.99,0),pr.fromTo(yt,.99,0),mt){if(Ot||Hn.fromTo("transform",`translateX(${Re})`,et?"translateX(-100%)":"translateX(100%)").fromTo(yt,.99,0),pr.fromTo("transform",`translateX(${Re})`,et?"translateX(-100%)":"translateX(100%)"),dn.beforeClearStyles([yt,"transform"]),zn?.translucent?dn.fromTo("transform","translateX(0px)",et?"translateX(-100%)":"translateX(100%)"):dn.fromTo(yt,"var(--opacity)",0),zt&&!ne){const Bt=(0,l.c)();Bt.addElement($e(zt).querySelector(".button-text")).fromTo("transform",`translateX(${Re})`,`translateX(${(et?-124:124)+"px"})`),an.addAnimation(Bt)}}else Ot||Hn.fromTo("transform",`translateX(${Re})`,`translateX(${ze})`).fromTo(yt,.99,0).afterClearStyles([it,yt]),pr.fromTo("transform",`translateX(${Re})`,`translateX(${ze})`).afterClearStyles([it,yt]),On.afterClearStyles([yt]),Hn.afterClearStyles([yt]),Kt.afterClearStyles([yt])})}return rn}catch(wt){throw wt}},ct=10},361:(_n,vt,k)=>{"use strict";k.r(vt),k.d(vt,{mdTransitionAnimation:()=>Ae});var l=k(9986),U=k(1331);k(8476),k(4921),k(8393);const Ae=(Oe,$e)=>{var Ke,Me,le;const Ue="back"===$e.direction,ut=$e.leavingEl,st=(0,U.g)($e.enteringEl),Ze=st.querySelector("ion-toolbar"),wt=(0,l.c)();if(wt.addElement(st).fill("both").beforeRemoveClass("ion-page-invisible"),Ue?wt.duration((null!==(Ke=$e.duration)&&void 0!==Ke?Ke:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):wt.duration((null!==(Me=$e.duration)&&void 0!==Me?Me:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),Ze){const yt=(0,l.c)();yt.addElement(Ze),wt.addAnimation(yt)}if(ut&&Ue){wt.duration((null!==(le=$e.duration)&&void 0!==le?le:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const yt=(0,l.c)();yt.addElement((0,U.g)(ut)).onFinish(it=>{1===it&&yt.elements.length>0&&yt.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),wt.addAnimation(yt)}return wt}},1070:(_n,vt,k)=>{"use strict";k.d(vt,{B:()=>Bn,F:()=>On,G:()=>zn,O:()=>Ot,a:()=>st,b:()=>Ze,c:()=>Re,d:()=>Zn,e:()=>pr,f:()=>q,g:()=>ae,h:()=>Ne,i:()=>an,j:()=>et,k:()=>at,m:()=>yt,n:()=>Me,o:()=>Qe,q:()=>le,s:()=>Kt});var l=k(467),U=k(8476),Te=k(4920),ie=k(8669),me=k(4921),Ae=k(8621),Oe=k(1970),$e=k(4929);const Ke='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Me=(zt,kt)=>{const Bt=zt.querySelector(Ke);Be(Bt,kt??zt)},le=(zt,kt)=>{const Bt=Array.from(zt.querySelectorAll(Ke));Be(Bt.length>0?Bt[Bt.length-1]:null,kt??zt)},Be=(zt,kt)=>{let Bt=zt;const pn=zt?.shadowRoot;pn&&(Bt=pn.querySelector(Ke)||zt),Bt?(0,Te.f)(Bt):kt.focus()};let je=0,Ue=0;const ct=new WeakMap,ut=zt=>({create:kt=>ze(zt,kt),dismiss:(kt,Bt,pn)=>Et(document,kt,Bt,zt,pn),getTop:()=>(0,l.A)(function*(){return Qe(document,zt)})()}),st=ut("ion-alert"),Ze=ut("ion-action-sheet"),yt=ut("ion-modal"),Re=ut("ion-popover"),et=zt=>{typeof document<"u"&&Ye(document);const kt=je++;zt.overlayIndex=kt},at=zt=>(zt.hasAttribute("id")||(zt.id="ion-overlay-"+ ++Ue),zt.id),ze=(zt,kt)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(zt).then(()=>{const Bt=document.createElement(zt);return Bt.classList.add("overlay-hidden"),Object.assign(Bt,Object.assign(Object.assign({},kt),{hasController:!0})),be(document).appendChild(Bt),new Promise(pn=>(0,Te.c)(Bt,pn))}):Promise.resolve(),ke=(zt,kt)=>{let Bt=zt;const pn=zt?.shadowRoot;pn&&(Bt=pn.querySelector(Ke)||zt),Bt?(0,Te.f)(Bt):kt.focus()},Ye=zt=>{0===je&&(je=1,zt.addEventListener("focus",kt=>{((zt,kt)=>{const Bt=Qe(kt,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),pn=zt.target;Bt&&pn&&!Bt.classList.contains(On)&&(Bt.shadowRoot?(()=>{if(Bt.contains(pn))Bt.lastFocus=pn;else if("ION-TOAST"===pn.tagName)ke(Bt.lastFocus,Bt);else{const gr=Bt.lastFocus;Me(Bt),gr===kt.activeElement&&le(Bt),Bt.lastFocus=kt.activeElement}})():(()=>{if(Bt===pn)Bt.lastFocus=void 0;else if("ION-TOAST"===pn.tagName)ke(Bt.lastFocus,Bt);else{const gr=(0,Te.g)(Bt);if(!gr.contains(pn))return;const Sn=gr.querySelector(".ion-overlay-wrapper");if(!Sn)return;if(Sn.contains(pn)||pn===gr.querySelector("ion-backdrop"))Bt.lastFocus=pn;else{const qt=Bt.lastFocus;Me(Sn,Bt),qt===kt.activeElement&&le(Sn,Bt),Bt.lastFocus=kt.activeElement}}})())})(kt,zt)},!0),zt.addEventListener("ionBackButton",kt=>{const Bt=Qe(zt);Bt?.backdropDismiss&&kt.detail.register(ie.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Bt.dismiss(void 0,Bn)})}),(0,ie.shouldUseCloseWatcher)()||zt.addEventListener("keydown",kt=>{if("Escape"===kt.key){const Bt=Qe(zt);Bt?.backdropDismiss&&Bt.dismiss(void 0,Bn)}}))},Et=(zt,kt,Bt,pn,Un)=>{const ri=Qe(zt,pn,Un);return ri?ri.dismiss(kt,Bt):Promise.reject("overlay does not exist")},rn=(zt,kt)=>((zt,kt)=>(void 0===kt&&(kt="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(zt.querySelectorAll(kt)).filter(Bt=>Bt.overlayIndex>0)))(zt,kt).filter(Bt=>!(zt=>zt.classList.contains("overlay-hidden"))(Bt)),Qe=(zt,kt,Bt)=>{const pn=rn(zt,kt);return void 0===Bt?pn[pn.length-1]:pn.find(Un=>Un.id===Bt)},Ce=(zt=!1)=>{const Bt=be(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Bt&&(zt?Bt.setAttribute("aria-hidden","true"):Bt.removeAttribute("aria-hidden"))},q=function(){var zt=(0,l.A)(function*(kt,Bt,pn,Un,ri){var gr,Sn;if(kt.presented)return;Ce(!0),document.body.classList.add(Oe.B),Gn(kt.el),kt.presented=!0,kt.willPresent.emit(),null===(gr=kt.willPresentShorthand)||void 0===gr||gr.emit();const qt=(0,me.b)(kt),Pr=kt.enterAnimation?kt.enterAnimation:me.c.get(Bt,"ios"===qt?pn:Un);(yield Tt(kt,Pr,kt.el,ri))&&(kt.didPresent.emit(),null===(Sn=kt.didPresentShorthand)||void 0===Sn||Sn.emit()),"ION-TOAST"!==kt.el.tagName&&ne(kt.el),kt.keyboardClose&&(null===document.activeElement||!kt.el.contains(document.activeElement))&&kt.el.focus(),kt.el.removeAttribute("aria-hidden")});return function(Bt,pn,Un,ri,gr){return zt.apply(this,arguments)}}(),ne=function(){var zt=(0,l.A)(function*(kt){let Bt=document.activeElement;if(!Bt)return;const pn=Bt?.shadowRoot;pn&&(Bt=pn.querySelector(Ke)||Bt),yield kt.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Bt.focus()});return function(Bt){return zt.apply(this,arguments)}}(),ae=function(){var zt=(0,l.A)(function*(kt,Bt,pn,Un,ri,gr,Sn){var qt,Pr;if(!kt.presented)return!1;void 0!==U.d&&1===rn(U.d).length&&(Ce(!1),document.body.classList.remove(Oe.B)),kt.presented=!1;try{kt.el.style.setProperty("pointer-events","none"),kt.willDismiss.emit({data:Bt,role:pn}),null===(qt=kt.willDismissShorthand)||void 0===qt||qt.emit({data:Bt,role:pn});const qn=(0,me.b)(kt),Jn=kt.leaveAnimation?kt.leaveAnimation:me.c.get(Un,"ios"===qn?ri:gr);pn!==zn&&(yield Tt(kt,Jn,kt.el,Sn)),kt.didDismiss.emit({data:Bt,role:pn}),null===(Pr=kt.didDismissShorthand)||void 0===Pr||Pr.emit({data:Bt,role:pn}),(ct.get(kt)||[]).forEach(pi=>pi.destroy()),ct.delete(kt),kt.el.classList.add("overlay-hidden"),kt.el.style.removeProperty("pointer-events"),void 0!==kt.el.lastFocus&&(kt.el.lastFocus=void 0)}catch(qn){console.error(qn)}return kt.el.remove(),dn(),!0});return function(Bt,pn,Un,ri,gr,Sn,qt){return zt.apply(this,arguments)}}(),be=zt=>zt.querySelector("ion-app")||zt.body,Tt=function(){var zt=(0,l.A)(function*(kt,Bt,pn,Un){pn.classList.remove("overlay-hidden");const gr=Bt(kt.el,Un);(!kt.animated||!me.c.getBoolean("animated",!0))&&gr.duration(0),kt.keyboardClose&&gr.beforeAddWrite(()=>{const qt=pn.ownerDocument.activeElement;qt?.matches("input,ion-input, ion-textarea")&&qt.blur()});const Sn=ct.get(kt)||[];return ct.set(kt,[...Sn,gr]),yield gr.play(),!0});return function(Bt,pn,Un,ri){return zt.apply(this,arguments)}}(),Ne=(zt,kt)=>{let Bt;const pn=new Promise(Un=>Bt=Un);return Ht(zt,kt,Un=>{Bt(Un.detail)}),pn},Ht=(zt,kt,Bt)=>{const pn=Un=>{(0,Te.b)(zt,kt,pn),Bt(Un)};(0,Te.a)(zt,kt,pn)},an=zt=>"cancel"===zt||zt===Bn,Hn=zt=>zt(),Kt=(zt,kt)=>{if("function"==typeof zt)return me.c.get("_zoneGate",Hn)(()=>{try{return zt(kt)}catch(pn){throw pn}})},Bn="backdrop",zn="gesture",Ot=39,Zn=zt=>{let Bt,kt=!1;const pn=(0,Ae.C)(),Un=(Sn=!1)=>{if(Bt&&!Sn)return{delegate:Bt,inline:kt};const{el:qt,hasController:Pr,delegate:Sr}=zt;return kt=null!==qt.parentNode&&!Pr,Bt=kt?Sr||pn:Sr,{inline:kt,delegate:Bt}};return{attachViewToDom:function(){var Sn=(0,l.A)(function*(qt){const{delegate:Pr}=Un(!0);if(Pr)return yield Pr.attachViewToDom(zt.el,qt);const{hasController:Sr}=zt;if(Sr&&void 0!==qt)throw new Error("framework delegate is missing");return null});return function(Pr){return Sn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Sn}=Un();Sn&&void 0!==zt.el&&Sn.removeViewFromDom(zt.el.parentElement,zt.el)}}},pr=()=>{let zt;const kt=()=>{zt&&(zt(),zt=void 0)};return{addClickListener:(pn,Un)=>{kt();const ri=void 0!==Un?document.getElementById(Un):null;ri?zt=((Sn,qt)=>{const Pr=()=>{qt.present()};return Sn.addEventListener("click",Pr),()=>{Sn.removeEventListener("click",Pr)}})(ri,pn):(0,$e.p)(`A trigger element with the ID "${Un}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,pn)},removeClickListener:kt}},Gn=zt=>{var kt;if(void 0===U.d)return;const Bt=rn(U.d);for(let pn=Bt.length-1;pn>=0;pn--){const Un=Bt[pn],ri=null!==(kt=Bt[pn+1])&&void 0!==kt?kt:zt;(ri.hasAttribute("aria-hidden")||"ION-TOAST"!==ri.tagName)&&Un.setAttribute("aria-hidden","true")}},dn=()=>{if(void 0===U.d)return;const zt=rn(U.d);for(let kt=zt.length-1;kt>=0;kt--){const Bt=zt[kt];if(Bt.removeAttribute("aria-hidden"),"ION-TOAST"!==Bt.tagName)break}},On="ion-disable-focus-trap"},6916:(_n,vt,k)=>{"use strict";var l=k(345),U=k(4964),Te=k(2872),ie=k(9465),me=k(3953);let Ae=(()=>{class T{constructor(){}static#e=this.\u0275fac=function(A){return new(A||T)};static#t=this.\u0275cmp=me.VBU({type:T,selectors:[["app-root"]],decls:2,vars:0,template:function(A,L){1&A&&(me.j41(0,"ion-app"),me.nrm(1,"ion-router-outlet"),me.k0s())},dependencies:[ie.U1,ie.Rg]})}return T})();const Oe=[{path:"home",loadChildren:()=>Promise.all([k.e(2076),k.e(5075)]).then(k.bind(k,5075)).then(T=>T.HomePageModule)},{path:"",redirectTo:"home",pathMatch:"full"},{path:"lista",loadChildren:()=>k.e(7400).then(k.bind(k,7400)).then(T=>T.ListaPageModule)},{path:"acao",loadChildren:()=>Promise.all([k.e(2076),k.e(1541)]).then(k.bind(k,1541)).then(T=>T.AcaoPageModule)},{path:"aventura",loadChildren:()=>Promise.all([k.e(2076),k.e(6597)]).then(k.bind(k,6597)).then(T=>T.AventuraPageModule)},{path:"esporte",loadChildren:()=>Promise.all([k.e(2076),k.e(2017)]).then(k.bind(k,2017)).then(T=>T.EsportePageModule)},{path:"fantasia",loadChildren:()=>Promise.all([k.e(2076),k.e(9265)]).then(k.bind(k,9265)).then(T=>T.FantasiaPageModule)}];let $e=(()=>{class T{static#e=this.\u0275fac=function(A){return new(A||T)};static#t=this.\u0275mod=me.$C({type:T});static#n=this.\u0275inj=me.G2t({imports:[U.iI.forRoot(Oe,{preloadingStrategy:U.Kp}),U.iI]})}return T})();var Ke=k(9253),Me=k(5063),le=k(1825),Be=k(1985),je=k(7673),Ue=k(8455),ct=k(3236),ut=k(9974),st=k(4360),wt=k(6354),yt=k(5558),it=k(3345),Re=k(467),_e=k(7852),et=k(1076),at=k(1362);const ze="firebasestorage.googleapis.com",Nt="storageBucket";class Et extends et.g{constructor(f,v,A=0){super(rn(f),`Firebase Storage: ${v} (${rn(f)})`),this.status_=A,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(f){this.status_=f}_codeEquals(f){return rn(f)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(f){this.customData.serverResponse=f,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var It=function(T){return T.UNKNOWN="unknown",T.OBJECT_NOT_FOUND="object-not-found",T.BUCKET_NOT_FOUND="bucket-not-found",T.PROJECT_NOT_FOUND="project-not-found",T.QUOTA_EXCEEDED="quota-exceeded",T.UNAUTHENTICATED="unauthenticated",T.UNAUTHORIZED="unauthorized",T.UNAUTHORIZED_APP="unauthorized-app",T.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",T.INVALID_CHECKSUM="invalid-checksum",T.CANCELED="canceled",T.INVALID_EVENT_NAME="invalid-event-name",T.INVALID_URL="invalid-url",T.INVALID_DEFAULT_BUCKET="invalid-default-bucket",T.NO_DEFAULT_BUCKET="no-default-bucket",T.CANNOT_SLICE_BLOB="cannot-slice-blob",T.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",T.NO_DOWNLOAD_URL="no-download-url",T.INVALID_ARGUMENT="invalid-argument",T.INVALID_ARGUMENT_COUNT="invalid-argument-count",T.APP_DELETED="app-deleted",T.INVALID_ROOT_OPERATION="invalid-root-operation",T.INVALID_FORMAT="invalid-format",T.INTERNAL_ERROR="internal-error",T.UNSUPPORTED_ENVIRONMENT="unsupported-environment",T}(It||{});function rn(T){return"storage/"+T}function Qe(){return new Et(It.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Tt(){return new Et(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Ne(){return new Et(It.CANCELED,"User canceled the upload/download.")}function Kt(){return new Et(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Zn(T){return new Et(It.INVALID_ARGUMENT,T)}function pr(){return new Et(It.APP_DELETED,"The Firebase app was deleted.")}function Gn(T){return new Et(It.INVALID_ROOT_OPERATION,"The operation '"+T+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dn(T,f){return new Et(It.INVALID_FORMAT,"String does not match format '"+T+"': "+f)}function On(T){throw new Et(It.INTERNAL_ERROR,"Internal error: "+T)}class zt{constructor(f,v){this.bucket=f,this.path_=v}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const f=encodeURIComponent;return"/b/"+f(this.bucket)+"/o/"+f(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(f,v){let A;try{A=zt.makeFromUrl(f,v)}catch{return new zt(f,"")}if(""===A.path)return A;throw function an(T){return new Et(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+T+"'.")}(f)}static makeFromUrl(f,v){let A=null;const L="([A-Za-z0-9.\\-_]+)",Le=new RegExp("^gs://"+L+"(/(.*))?$","i");function Ct(Ci){Ci.path_=decodeURIComponent(Ci.path)}const wn=v.replace(/[.]/g,"\\."),xi=[{regex:Le,indices:{bucket:1,path:3},postModify:function ee(Ci){"/"===Ci.path.charAt(Ci.path.length-1)&&(Ci.path_=Ci.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${wn}/v[A-Za-z0-9_]+/b/${L}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Ct},{regex:new RegExp(`^https?://${v===ze?"(?:storage.googleapis.com|storage.cloud.google.com)":v}/${L}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Ct}];for(let Ci=0;Ci<xi.length;Ci++){const Va=xi[Ci],go=Va.regex.exec(f);if(go){let Zi=go[Va.indices.path];Zi||(Zi=""),A=new zt(go[Va.indices.bucket],Zi),Va.postModify(A);break}}if(null==A)throw function Ht(T){return new Et(It.INVALID_URL,"Invalid URL '"+T+"'.")}(f);return A}}class kt{constructor(f){this.promise_=Promise.reject(f)}getPromise(){return this.promise_}cancel(f=!1){}}function Sn(T){return"string"==typeof T||T instanceof String}function qt(T){return Pr()&&T instanceof Blob}function Pr(){return typeof Blob<"u"}function Sr(T,f,v,A){if(A<f)throw Zn(`Invalid value for '${T}'. Expected ${f} or greater.`);if(A>v)throw Zn(`Invalid value for '${T}'. Expected ${v} or less.`)}function qn(T,f,v){let A=f;return null==v&&(A=`https://${f}`),`${v}://${A}/v0${T}`}function Jn(T){const f=encodeURIComponent;let v="?";for(const A in T)T.hasOwnProperty(A)&&(v=v+(f(A)+"=")+f(T[A])+"&");return v=v.slice(0,-1),v}var Ir=function(T){return T[T.NO_ERROR=0]="NO_ERROR",T[T.NETWORK_ERROR=1]="NETWORK_ERROR",T[T.ABORT=2]="ABORT",T}(Ir||{});function pi(T,f){const v=T>=500&&T<600,L=-1!==[408,429].indexOf(T),ee=-1!==f.indexOf(T);return v||L||ee}class Kn{constructor(f,v,A,L,ee,Ee,Le,lt,Ct,gn,wn,yr=!0){this.url_=f,this.method_=v,this.headers_=A,this.body_=L,this.successCodes_=ee,this.additionalRetryCodes_=Ee,this.callback_=Le,this.errorCallback_=lt,this.timeout_=Ct,this.progressCallback_=gn,this.connectionFactory_=wn,this.retry=yr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ar,Wn)=>{this.resolve_=ar,this.reject_=Wn,this.start_()})}start_(){const v=(A,L)=>{const ee=this.resolve_,Ee=this.reject_,Le=L.connection;if(L.wasSuccessCode)try{const lt=this.callback_(Le,Le.getResponse());!function Un(T){return void 0!==T}(lt)?ee():ee(lt)}catch(lt){Ee(lt)}else if(null!==Le){const lt=Qe();lt.serverResponse=Le.getErrorText(),Ee(this.errorCallback_?this.errorCallback_(Le,lt):lt)}else Ee(L.canceled?this.appDelete_?pr():Ne():Tt())};this.canceled_?v(0,new oi(!1,null,!0)):this.backoffId_=function Bt(T,f,v){let A=1,L=null,ee=null,Ee=!1,Le=0;function lt(){return 2===Le}let Ct=!1;function gn(...Kr){Ct||(Ct=!0,f.apply(null,Kr))}function wn(Kr){L=setTimeout(()=>{L=null,T(ar,lt())},Kr)}function yr(){ee&&clearTimeout(ee)}function ar(Kr,...Yr){if(Ct)return void yr();if(Kr)return yr(),void gn.call(null,Kr,...Yr);if(lt()||Ee)return yr(),void gn.call(null,Kr,...Yr);let xi;A<64&&(A*=2),1===Le?(Le=2,xi=0):xi=1e3*(A+Math.random()),wn(xi)}let Wn=!1;function Tr(Kr){Wn||(Wn=!0,yr(),!Ct&&(null!==L?(Kr||(Le=2),clearTimeout(L),wn(0)):Kr||(Le=1)))}return wn(0),ee=setTimeout(()=>{Ee=!0,Tr(!0)},v),Tr}((A,L)=>{if(L)return void A(!1,new oi(!1,null,!0));const ee=this.connectionFactory_();this.pendingConnection_=ee;const Ee=Le=>{null!==this.progressCallback_&&this.progressCallback_(Le.loaded,Le.lengthComputable?Le.total:-1)};null!==this.progressCallback_&&ee.addUploadProgressListener(Ee),ee.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ee.removeUploadProgressListener(Ee),this.pendingConnection_=null;const Le=ee.getErrorCode()===Ir.NO_ERROR,lt=ee.getStatus();if(!Le||pi(lt,this.additionalRetryCodes_)&&this.retry){const gn=ee.getErrorCode()===Ir.ABORT;return void A(!1,new oi(!1,null,gn))}const Ct=-1!==this.successCodes_.indexOf(lt);A(!0,new oi(Ct,ee))})},v,this.timeout_)}getPromise(){return this.promise_}cancel(f){this.canceled_=!0,this.appDelete_=f||!1,null!==this.backoffId_&&function pn(T){T(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class oi{constructor(f,v,A){this.wasSuccessCode=f,this.connection=v,this.canceled=!!A}}function Di(...T){const f=function ui(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==f){const v=new f;for(let A=0;A<T.length;A++)v.append(T[A]);return v.getBlob()}if(Pr())return new Blob(T);throw new Et(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Rt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class He{constructor(f,v){this.data=f,this.contentType=v||null}}function se(T,f){switch(T){case Rt.RAW:return new He(ve(f));case Rt.BASE64:case Rt.BASE64URL:return new He(De(T,f));case Rt.DATA_URL:return new He(function Ut(T){const f=new qe(T);return f.base64?De(Rt.BASE64,f.rest):function ge(T){let f;try{f=decodeURIComponent(T)}catch{throw dn(Rt.DATA_URL,"Malformed data URL.")}return ve(f)}(f.rest)}(f),function _t(T){return new qe(T).contentType}(f))}throw Qe()}function ve(T){const f=[];for(let v=0;v<T.length;v++){let A=T.charCodeAt(v);A<=127?f.push(A):A<=2047?f.push(192|A>>6,128|63&A):55296==(64512&A)?v<T.length-1&&56320==(64512&T.charCodeAt(v+1))?(A=65536|(1023&A)<<10|1023&T.charCodeAt(++v),f.push(240|A>>18,128|A>>12&63,128|A>>6&63,128|63&A)):f.push(239,191,189):56320==(64512&A)?f.push(239,191,189):f.push(224|A>>12,128|A>>6&63,128|63&A)}return new Uint8Array(f)}function De(T,f){switch(T){case Rt.BASE64:{const L=-1!==f.indexOf("-"),ee=-1!==f.indexOf("_");if(L||ee)throw dn(T,"Invalid character '"+(L?"-":"_")+"' found: is it base64url encoded?");break}case Rt.BASE64URL:{const L=-1!==f.indexOf("+"),ee=-1!==f.indexOf("/");if(L||ee)throw dn(T,"Invalid character '"+(L?"+":"/")+"' found: is it base64 encoded?");f=f.replace(/-/g,"+").replace(/_/g,"/");break}}let v;try{v=function Rn(T){if(typeof atob>"u")throw function Ot(T){return new Et(It.UNSUPPORTED_ENVIRONMENT,`${T} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(T)}(f)}catch(L){throw L.message.includes("polyfill")?L:dn(T,"Invalid character found")}const A=new Uint8Array(v.length);for(let L=0;L<v.length;L++)A[L]=v.charCodeAt(L);return A}class qe{constructor(f){this.base64=!1,this.contentType=null;const v=f.match(/^data:([^,]+)?,/);if(null===v)throw dn(Rt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const A=v[1]||null;null!=A&&(this.base64=function mn(T,f){return T.length>=f.length&&T.substring(T.length-f.length)===f}(A,";base64"),this.contentType=this.base64?A.substring(0,A.length-7):A),this.rest=f.substring(f.indexOf(",")+1)}}class Nn{constructor(f,v){let A=0,L="";qt(f)?(this.data_=f,A=f.size,L=f.type):f instanceof ArrayBuffer?(v?this.data_=new Uint8Array(f):(this.data_=new Uint8Array(f.byteLength),this.data_.set(new Uint8Array(f))),A=this.data_.length):f instanceof Uint8Array&&(v?this.data_=f:(this.data_=new Uint8Array(f.length),this.data_.set(f)),A=f.length),this.size_=A,this.type_=L}size(){return this.size_}type(){return this.type_}slice(f,v){if(qt(this.data_)){const L=function In(T,f,v){return T.webkitSlice?T.webkitSlice(f,v):T.mozSlice?T.mozSlice(f,v):T.slice?T.slice(f,v):null}(this.data_,f,v);return null===L?null:new Nn(L)}{const A=new Uint8Array(this.data_.buffer,f,v-f);return new Nn(A,!0)}}static getBlob(...f){if(Pr()){const v=f.map(A=>A instanceof Nn?A.data_:A);return new Nn(Di.apply(null,v))}{const v=f.map(Ee=>Sn(Ee)?se(Rt.RAW,Ee).data:Ee.data_);let A=0;v.forEach(Ee=>{A+=Ee.byteLength});const L=new Uint8Array(A);let ee=0;return v.forEach(Ee=>{for(let Le=0;Le<Ee.length;Le++)L[ee++]=Ee[Le]}),new Nn(L,!0)}}uploadData(){return this.data_}}function er(T){let f;try{f=JSON.parse(T)}catch{return null}return function gr(T){return"object"==typeof T&&!Array.isArray(T)}(f)?f:null}function zr(T){const f=T.lastIndexOf("/",T.length-2);return-1===f?T:T.slice(f+1)}function _r(T,f){return f}class fn{constructor(f,v,A,L){this.server=f,this.local=v||f,this.writable=!!A,this.xform=L||_r}}let ei=null;function wr(){if(ei)return ei;const T=[];T.push(new fn("bucket")),T.push(new fn("generation")),T.push(new fn("metageneration")),T.push(new fn("name","fullPath",!0));const v=new fn("name");v.xform=function f(ee,Ee){return function ys(T){return!Sn(T)||T.length<2?T:zr(T)}(Ee)},T.push(v);const L=new fn("size");return L.xform=function A(ee,Ee){return void 0!==Ee?Number(Ee):Ee},T.push(L),T.push(new fn("timeCreated")),T.push(new fn("updated")),T.push(new fn("md5Hash",null,!0)),T.push(new fn("cacheControl",null,!0)),T.push(new fn("contentDisposition",null,!0)),T.push(new fn("contentEncoding",null,!0)),T.push(new fn("contentLanguage",null,!0)),T.push(new fn("contentType",null,!0)),T.push(new fn("metadata","customMetadata",!0)),ei=T,ei}function Er(T,f,v){const A=er(f);return null===A?null:function Si(T,f,v){const A={type:"file"},L=v.length;for(let ee=0;ee<L;ee++){const Ee=v[ee];A[Ee.local]=Ee.xform(A,f[Ee.server])}return function xn(T,f){Object.defineProperty(T,"ref",{get:function v(){const ee=new zt(T.bucket,T.fullPath);return f._makeStorageReference(ee)}})}(A,T),A}(T,A,v)}function Mr(T,f){const v={},A=f.length;for(let L=0;L<A;L++){const ee=f[L];ee.writable&&(v[ee.server]=T[ee.local])}return JSON.stringify(v)}const Q="prefixes",re="items";class Ge{constructor(f,v,A,L){this.url=f,this.method=v,this.handler=A,this.timeout=L,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ie(T){if(!T)throw Qe()}function dt(T,f){return function v(A,L){const ee=Er(T,L,f);return Ie(null!==ee),ee}}function Fn(T){return function f(v,A){let L;return L=401===v.getStatus()?v.getErrorText().includes("Firebase App Check token is invalid")?function ae(){return new Et(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function ne(){return new Et(It.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===v.getStatus()?function q(T){return new Et(It.QUOTA_EXCEEDED,"Quota for bucket '"+T+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(T.bucket):403===v.getStatus()?function be(T){return new Et(It.UNAUTHORIZED,"User does not have permission to access '"+T+"'.")}(T.path):A,L.status=v.getStatus(),L.serverResponse=A.serverResponse,L}}function vr(T){const f=Fn(T);return function v(A,L){let ee=f(A,L);return 404===A.getStatus()&&(ee=function Ce(T){return new Et(It.OBJECT_NOT_FOUND,"Object '"+T+"' does not exist.")}(T.path)),ee.serverResponse=L.serverResponse,ee}}function Ri(T,f,v){const L=qn(f.fullServerUrl(),T.host,T._protocol),Ee=T.maxOperationRetryTime,Le=new Ge(L,"GET",dt(T,v),Ee);return Le.errorHandler=vr(f),Le}function Ur(T,f,v,A,L){const ee={};ee.prefix=f.isRoot?"":f.path+"/",v&&v.length>0&&(ee.delimiter=v),A&&(ee.pageToken=A),L&&(ee.maxResults=L);const Le=qn(f.bucketOnlyServerUrl(),T.host,T._protocol),Ct=T.maxOperationRetryTime,gn=new Ge(Le,"GET",function Vt(T,f){return function v(A,L){const ee=function ce(T,f,v){const A=er(v);return null===A?null:function z(T,f,v){const A={prefixes:[],items:[],nextPageToken:v.nextPageToken};if(v[Q])for(const L of v[Q]){const ee=L.replace(/\/$/,""),Ee=T._makeStorageReference(new zt(f,ee));A.prefixes.push(Ee)}if(v[re])for(const L of v[re]){const ee=T._makeStorageReference(new zt(f,L.name));A.items.push(ee)}return A}(T,f,A)}(T,f,L);return Ie(null!==ee),ee}}(T,f.bucket),Ct);return gn.urlParams=ee,gn.errorHandler=Fn(f),gn}function qr(T,f,v){const A=Object.assign({},v);return A.fullPath=T.path,A.size=f.size(),A.contentType||(A.contentType=function Bi(T,f){return T&&T.contentType||f&&f.type()||"application/octet-stream"}(null,f)),A}class Ts{constructor(f,v,A,L){this.current=f,this.total=v,this.finalized=!!A,this.metadata=L||null}}function wi(T,f){let v=null;try{v=T.getResponseHeader("X-Goog-Upload-Status")}catch{Ie(!1)}return Ie(!!v&&-1!==(f||["active"]).indexOf(v)),v}const uo={STATE_CHANGED:"state_changed"},Li={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yo(T){switch(T){case"running":case"pausing":case"canceling":return Li.RUNNING;case"paused":return Li.PAUSED;case"success":return Li.SUCCESS;case"canceled":return Li.CANCELED;default:return Li.ERROR}}class hi{constructor(f,v,A){if(function ri(T){return"function"==typeof T}(f)||null!=v||null!=A)this.next=f,this.error=v??void 0,this.complete=A??void 0;else{const ee=f;this.next=ee.next,this.error=ee.error,this.complete=ee.complete}}}function Hs(T){return(...f)=>{Promise.resolve().then(()=>T(...f))}}let no=null;class sa{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ir.NO_ERROR,this.sendPromise_=new Promise(f=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ir.ABORT,f()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ir.NETWORK_ERROR,f()}),this.xhr_.addEventListener("load",()=>{f()})})}send(f,v,A,L){if(this.sent_)throw On("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(v,f,!0),void 0!==L)for(const ee in L)L.hasOwnProperty(ee)&&this.xhr_.setRequestHeader(ee,L[ee].toString());return void 0!==A?this.xhr_.send(A):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw On("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw On("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw On("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw On("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(f){return this.xhr_.getResponseHeader(f)}addUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",f)}removeUploadProgressListener(f){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",f)}}class cs extends sa{initXhr(){this.xhr_.responseType="text"}}function ks(){return no?no():new cs}class Aa{constructor(f,v,A=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=f,this._blob=v,this._metadata=A,this._mappings=wr(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=L=>{if(this._request=void 0,this._chunkMultiplier=1,L._codeEquals(It.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const ee=this.isExponentialBackoffExpired();if(pi(L.status,[])){if(!ee)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();L=Tt()}this._error=L,this._transition("error")}},this._metadataErrorHandler=L=>{this._request=void 0,L._codeEquals(It.CANCELED)?this.completeTransitions_():(this._error=L,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((L,ee)=>{this._resolve=L,this._reject=ee,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const f=this._transferred;return v=>this._updateProgress(f+v)}_shouldDoResumable(f){return f.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(f){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([v,A])=>{switch(this._state){case"running":f(v,A);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((f,v)=>{const A=function js(T,f,v,A,L){const ee=f.bucketOnlyServerUrl(),Ee=qr(f,A,L),Le={name:Ee.fullPath},lt=qn(ee,T.host,T._protocol),gn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${A.size()}`,"X-Goog-Upload-Header-Content-Type":Ee.contentType,"Content-Type":"application/json; charset=utf-8"},wn=Mr(Ee,v),Wn=new Ge(lt,"POST",function ar(Tr){let Kr;wi(Tr);try{Kr=Tr.getResponseHeader("X-Goog-Upload-URL")}catch{Ie(!1)}return Ie(Sn(Kr)),Kr},T.maxUploadRetryTime);return Wn.urlParams=Le,Wn.headers=gn,Wn.body=wn,Wn.errorHandler=Fn(f),Wn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),L=this._ref.storage._makeRequest(A,ks,f,v);this._request=L,L.getPromise().then(ee=>{this._request=void 0,this._uploadUrl=ee,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const f=this._uploadUrl;this._resolveToken((v,A)=>{const L=function ia(T,f,v,A){const lt=new Ge(v,"POST",function ee(Ct){const gn=wi(Ct,["active","final"]);let wn=null;try{wn=Ct.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ie(!1)}wn||Ie(!1);const yr=Number(wn);return Ie(!isNaN(yr)),new Ts(yr,A.size(),"final"===gn)},T.maxUploadRetryTime);return lt.headers={"X-Goog-Upload-Command":"query"},lt.errorHandler=Fn(f),lt}(this._ref.storage,this._ref._location,f,this._blob),ee=this._ref.storage._makeRequest(L,ks,v,A);this._request=ee,ee.getPromise().then(Ee=>{this._request=void 0,this._updateProgress(Ee.current),this._needToFetchStatus=!1,Ee.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const f=262144*this._chunkMultiplier,v=new Ts(this._transferred,this._blob.size()),A=this._uploadUrl;this._resolveToken((L,ee)=>{let Ee;try{Ee=function jo(T,f,v,A,L,ee,Ee,Le){const lt=new Ts(0,0);if(Ee?(lt.current=Ee.current,lt.total=Ee.total):(lt.current=0,lt.total=A.size()),A.size()!==lt.total)throw function Bn(){return new Et(It.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const Ct=lt.total-lt.current;let gn=Ct;L>0&&(gn=Math.min(gn,L));const wn=lt.current;let ar="";ar=0===gn?"finalize":Ct===gn?"upload, finalize":"upload";const Wn={"X-Goog-Upload-Command":ar,"X-Goog-Upload-Offset":`${lt.current}`},Tr=A.slice(wn,wn+gn);if(null===Tr)throw Kt();const xi=new Ge(v,"POST",function Kr(Ci,Va){const go=wi(Ci,["active","final"]),lo=lt.current+gn,Zi=A.size();let xo;return xo="final"===go?dt(f,ee)(Ci,Va):null,new Ts(lo,Zi,"final"===go,xo)},f.maxUploadRetryTime);return xi.headers=Wn,xi.body=Tr.uploadData(),xi.progressCallback=Le||null,xi.errorHandler=Fn(T),xi}(this._ref._location,this._ref.storage,A,this._blob,f,this._mappings,v,this._makeProgressCallback())}catch(lt){return this._error=lt,void this._transition("error")}const Le=this._ref.storage._makeRequest(Ee,ks,L,ee,!1);this._request=Le,Le.getPromise().then(lt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(lt.current),lt.finalized?(this._metadata=lt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((f,v)=>{const A=Ri(this._ref.storage,this._ref._location,this._mappings),L=this._ref.storage._makeRequest(A,ks,f,v);this._request=L,L.getPromise().then(ee=>{this._request=void 0,this._metadata=ee,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((f,v)=>{const A=function Rs(T,f,v,A,L){const ee=f.bucketOnlyServerUrl(),Ee={"X-Goog-Upload-Protocol":"multipart"},lt=function Le(){let xi="";for(let Ci=0;Ci<2;Ci++)xi+=Math.random().toString().slice(2);return xi}();Ee["Content-Type"]="multipart/related; boundary="+lt;const Ct=qr(f,A,L),gn=Mr(Ct,v),ar=Nn.getBlob("--"+lt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+gn+"\r\n--"+lt+"\r\nContent-Type: "+Ct.contentType+"\r\n\r\n",A,"\r\n--"+lt+"--");if(null===ar)throw Kt();const Wn={name:Ct.fullPath},Tr=qn(ee,T.host,T._protocol),Yr=T.maxUploadRetryTime,Yi=new Ge(Tr,"POST",dt(T,v),Yr);return Yi.urlParams=Wn,Yi.headers=Ee,Yi.body=ar.uploadData(),Yi.errorHandler=Fn(f),Yi}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),L=this._ref.storage._makeRequest(A,ks,f,v);this._request=L,L.getPromise().then(ee=>{this._request=void 0,this._metadata=ee,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(f){const v=this._transferred;this._transferred=f,this._transferred!==v&&this._notifyObservers()}_transition(f){if(this._state!==f)switch(f){case"canceling":case"pausing":this._state=f,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const v="paused"===this._state;this._state=f,v&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=f,this._notifyObservers();break;case"canceled":this._error=Ne(),this._state=f,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const f=yo(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:f,metadata:this._metadata,task:this,ref:this._ref}}on(f,v,A,L){const ee=new hi(v||void 0,A||void 0,L||void 0);return this._addObserver(ee),()=>{this._removeObserver(ee)}}then(f,v){return this._promise.then(f,v)}catch(f){return this.then(null,f)}_addObserver(f){this._observers.push(f),this._notifyObserver(f)}_removeObserver(f){const v=this._observers.indexOf(f);-1!==v&&this._observers.splice(v,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(v=>{this._notifyObserver(v)})}_finishPromise(){if(void 0!==this._resolve){let f=!0;switch(yo(this._state)){case Li.SUCCESS:Hs(this._resolve.bind(null,this.snapshot))();break;case Li.CANCELED:case Li.ERROR:Hs(this._reject.bind(null,this._error))();break;default:f=!1}f&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(f){switch(yo(this._state)){case Li.RUNNING:case Li.PAUSED:f.next&&Hs(f.next.bind(f,this.snapshot))();break;case Li.SUCCESS:f.complete&&Hs(f.complete.bind(f))();break;default:f.error&&Hs(f.error.bind(f,this._error))()}}resume(){const f="paused"===this._state||"pausing"===this._state;return f&&this._transition("running"),f}pause(){const f="running"===this._state;return f&&this._transition("pausing"),f}cancel(){const f="running"===this._state||"pausing"===this._state;return f&&this._transition("canceling"),f}}class Do{constructor(f,v){this._service=f,this._location=v instanceof zt?v:zt.makeFromUrl(v,f.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(f,v){return new Do(f,v)}get root(){const f=new zt(this._location.bucket,"");return this._newRef(this._service,f)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zr(this._location.path)}get storage(){return this._service}get parent(){const f=function Ii(T){if(0===T.length)return null;const f=T.lastIndexOf("/");return-1===f?"":T.slice(0,f)}(this._location.path);if(null===f)return null;const v=new zt(this._location.bucket,f);return new Do(this._service,v)}_throwIfRoot(f){if(""===this._location.path)throw Gn(f)}}function x(T,f,v){return we.apply(this,arguments)}function we(){return(we=(0,Re.A)(function*(T,f,v){const L=yield Nr(T,{pageToken:v});f.prefixes.push(...L.prefixes),f.items.push(...L.items),null!=L.nextPageToken&&(yield x(T,f,L.nextPageToken))})).apply(this,arguments)}function Nr(T,f){null!=f&&"number"==typeof f.maxResults&&Sr("options.maxResults",1,1e3,f.maxResults);const v=f||{},A=Ur(T.storage,T._location,"/",v.pageToken,v.maxResults);return T.storage.makeRequestWithTokens(A,ks)}function Ls(T){T._throwIfRoot("getDownloadURL");const f=function hr(T,f,v){const L=qn(f.fullServerUrl(),T.host,T._protocol),Ee=T.maxOperationRetryTime,Le=new Ge(L,"GET",function En(T,f){return function v(A,L){const ee=Er(T,L,f);return Ie(null!==ee),function Is(T,f,v,A){const L=er(f);if(null===L||!Sn(L.downloadTokens))return null;const ee=L.downloadTokens;if(0===ee.length)return null;const Ee=encodeURIComponent;return ee.split(",").map(Ct=>{const wn=T.fullPath;return qn("/b/"+Ee(T.bucket)+"/o/"+Ee(wn),v,A)+Jn({alt:"media",token:Ct})})[0]}(ee,L,T.host,T._protocol)}}(T,v),Ee);return Le.errorHandler=vr(f),Le}(T.storage,T._location,wr());return T.storage.makeRequestWithTokens(f,ks).then(v=>{if(null===v)throw function zn(){return new Et(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return v})}function de(T,f){const v=function ai(T,f){const v=f.split("/").filter(A=>A.length>0).join("/");return 0===T.length?v:T+"/"+v}(T._location.path,f),A=new zt(T._location.bucket,v);return new Do(T.storage,A)}function pt(T,f){if(T instanceof Zt){const v=T;if(null==v._bucket)throw function Hn(){return new Et(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Nt+"' property when initializing the app?")}();const A=new Do(v,v._bucket);return null!=f?pt(A,f):A}return void 0!==f?de(T,f):T}function ft(T,f){if(f&&function xe(T){return/^[A-Za-z]+:\/\//.test(T)}(f)){if(T instanceof Zt)return function We(T,f){return new Do(T,f)}(T,f);throw Zn("To use ref(service, url), the first argument must be a Storage instance.")}return pt(T,f)}function Yt(T,f){const v=f?.[Nt];return null==v?null:zt.makeFromBucketSpec(v,T)}class Zt{constructor(f,v,A,L,ee){this.app=f,this._authProvider=v,this._appCheckProvider=A,this._url=L,this._firebaseVersion=ee,this._bucket=null,this._host=ze,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=L?zt.makeFromBucketSpec(L,this._host):Yt(this._host,this.app.options)}get host(){return this._host}set host(f){this._host=f,this._bucket=null!=this._url?zt.makeFromBucketSpec(this._url,f):Yt(f,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(f){Sr("time",0,Number.POSITIVE_INFINITY,f),this._maxUploadRetryTime=f}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(f){Sr("time",0,Number.POSITIVE_INFINITY,f),this._maxOperationRetryTime=f}_getAuthToken(){var f=this;return(0,Re.A)(function*(){if(f._overrideAuthToken)return f._overrideAuthToken;const v=f._authProvider.getImmediate({optional:!0});if(v){const A=yield v.getToken();if(null!==A)return A.accessToken}return null})()}_getAppCheckToken(){var f=this;return(0,Re.A)(function*(){const v=f._appCheckProvider.getImmediate({optional:!0});return v?(yield v.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(f=>f.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(f){return new Do(this,f)}_makeRequest(f,v,A,L,ee=!0){if(this._deleted)return new kt(pr());{const Ee=function Lr(T,f,v,A,L,ee,Ee=!0){const Le=Jn(T.urlParams),lt=T.url+Le,Ct=Object.assign({},T.headers);return function ms(T,f){f&&(T["X-Firebase-GMPID"]=f)}(Ct,f),function Xn(T,f){null!==f&&f.length>0&&(T.Authorization="Firebase "+f)}(Ct,v),function cr(T,f){T["X-Firebase-Storage-Version"]="webjs/"+(f??"AppManager")}(Ct,ee),function Xt(T,f){null!==f&&(T["X-Firebase-AppCheck"]=f)}(Ct,A),new Kn(lt,T.method,Ct,T.body,T.successCodes,T.additionalRetryCodes,T.handler,T.errorHandler,T.timeout,T.progressCallback,L,Ee)}(f,this._appId,A,L,v,this._firebaseVersion,ee);return this._requests.add(Ee),Ee.getPromise().then(()=>this._requests.delete(Ee),()=>this._requests.delete(Ee)),Ee}}makeRequestWithTokens(f,v){var A=this;return(0,Re.A)(function*(){const[L,ee]=yield Promise.all([A._getAuthToken(),A._getAppCheckToken()]);return A._makeRequest(f,v,L,ee).getPromise()})()}}const Wt="@firebase/storage";function us(T,f){return ft(T=(0,et.Ku)(T),f)}function zo(T,{instanceIdentifier:f}){const v=T.getProvider("app").getImmediate(),A=T.getProvider("auth-internal"),L=T.getProvider("app-check-internal");return new Zt(v,A,L,f,_e.SDK_VERSION)}!function Fs(){(0,_e._registerComponent)(new at.uA("storage",zo,"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(Wt,"0.12.6",""),(0,_e.registerVersion)(Wt,"0.12.6","esm2017")}();class ds{constructor(f,v,A){this._delegate=f,this.task=v,this.ref=A}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Da{constructor(f,v){this._delegate=f,this._ref=v,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ds(this._delegate.snapshot,this,this._ref)}then(f,v){return this._delegate.then(A=>{if(f)return f(new ds(A,this,this._ref))},v)}on(f,v,A,L){let ee;return v&&(ee="function"==typeof v?Ee=>v(new ds(Ee,this,this._ref)):{next:v.next?Ee=>v.next(new ds(Ee,this,this._ref)):void 0,complete:v.complete||void 0,error:v.error||void 0}),this._delegate.on(f,ee,A||void 0,L||void 0)}}class Ti{constructor(f,v){this._delegate=f,this._service=v}get prefixes(){return this._delegate.prefixes.map(f=>new _s(f,this._service))}get items(){return this._delegate.items.map(f=>new _s(f,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class _s{constructor(f,v){this._delegate=f,this.storage=v}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(f){const v=function Mi(T,f){return de(T,f)}(this._delegate,f);return new _s(v,this.storage)}get root(){return new _s(this._delegate.root,this.storage)}get parent(){const f=this._delegate.parent;return null==f?null:new _s(f,this.storage)}put(f,v){return this._throwIfRoot("put"),new Da(function Fi(T,f,v){return function J(T,f,v){return T._throwIfRoot("uploadBytesResumable"),new Aa(T,new Nn(f),v)}(T=(0,et.Ku)(T),f,v)}(this._delegate,f,v),this)}putString(f,v=Rt.RAW,A){this._throwIfRoot("putString");const L=se(v,f),ee=Object.assign({},A);return null==ee.contentType&&null!=L.contentType&&(ee.contentType=L.contentType),new Da(new Aa(this._delegate,new Nn(L.data,!0),ee),this)}listAll(){return function mi(T){return function te(T){const f={prefixes:[],items:[]};return x(T,f).then(()=>f)}(T=(0,et.Ku)(T))}(this._delegate).then(f=>new Ti(f,this.storage))}list(f){return function Pi(T,f){return Nr(T=(0,et.Ku)(T),f)}(this._delegate,f||void 0).then(v=>new Ti(v,this.storage))}getMetadata(){return function Or(T){return function gi(T){T._throwIfRoot("getMetadata");const f=Ri(T.storage,T._location,wr());return T.storage.makeRequestWithTokens(f,ks)}(T=(0,et.Ku)(T))}(this._delegate)}updateMetadata(f){return function en(T,f){return function $i(T,f){T._throwIfRoot("updateMetadata");const v=function Hi(T,f,v,A){const ee=qn(f.fullServerUrl(),T.host,T._protocol),Le=Mr(v,A),Ct=T.maxOperationRetryTime,gn=new Ge(ee,"PATCH",dt(T,A),Ct);return gn.headers={"Content-Type":"application/json; charset=utf-8"},gn.body=Le,gn.errorHandler=vr(f),gn}(T.storage,T._location,f,wr());return T.storage.makeRequestWithTokens(v,ks)}(T=(0,et.Ku)(T),f)}(this._delegate,f)}getDownloadURL(){return function ss(T){return Ls(T=(0,et.Ku)(T))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function la(T){return function G(T){T._throwIfRoot("deleteObject");const f=function bt(T,f){const A=qn(f.fullServerUrl(),T.host,T._protocol),Le=new Ge(A,"DELETE",function Ee(lt,Ct){},T.maxOperationRetryTime);return Le.successCodes=[200,204],Le.errorHandler=vr(f),Le}(T.storage,T._location);return T.storage.makeRequestWithTokens(f,ks)}(T=(0,et.Ku)(T))}(this._delegate)}_throwIfRoot(f){if(""===this._delegate._location.path)throw Gn(f)}}class So{constructor(f,v){this.app=f,this._delegate=v}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(f){if(ii(f))throw Zn("ref() expected a child path but got a URL, use refFromURL instead.");return new _s(us(this._delegate,f),this)}refFromURL(f){if(!ii(f))throw Zn("refFromURL() expected a full URL but got a child path, use ref() instead.");try{zt.makeFromUrl(f,this._delegate.host)}catch{throw Zn("refFromUrl() expected a valid full URL but got an invalid one.")}return new _s(us(this._delegate,f),this)}setMaxUploadRetryTime(f){this._delegate.maxUploadRetryTime=f}setMaxOperationRetryTime(f){this._delegate.maxOperationRetryTime=f}useEmulator(f,v,A={}){!function Cs(T,f,v,A={}){!function tn(T,f,v,A={}){T.host=`${f}:${v}`,T._protocol="http";const{mockUserToken:L}=A;L&&(T._overrideAuthToken="string"==typeof L?L:(0,et.Fy)(L,T.app.options.projectId))}(T,f,v,A)}(this._delegate,f,v,A)}}function ii(T){return/^[A-Za-z]+:\/\//.test(T)}function ec(T,{instanceIdentifier:f}){const v=T.getProvider("app-compat").getImmediate(),A=T.getProvider("storage").getImmediate({identifier:f});return new So(v,A)}!function Go(T){const f={TaskState:Li,TaskEvent:uo,StringFormat:Rt,Storage:So,Reference:_s};T.INTERNAL.registerComponent(new at.uA("storage-compat",ec,"PUBLIC").setServiceProps(f).setMultipleInstances(!0)),T.registerVersion("@firebase/storage-compat","0.3.9")}(it.A);var io=k(7935);function Eo(T){const f=function Qn(T){return new Be.c(f=>{const v=Ee=>f.next(Ee);v(T.snapshot);const ee=T.on("state_changed",v);return T.then(Ee=>{v(Ee),f.complete()},Ee=>{v(T.snapshot),(Ee=>{f.error(Ee)})(Ee)}),function(){ee()}}).pipe(function Ze(T,f=ct.E){return(0,ut.N)((v,A)=>{let L=null,ee=null,Ee=null;const Le=()=>{if(L){L.unsubscribe(),L=null;const Ct=ee;ee=null,A.next(Ct)}};function lt(){const Ct=Ee+T,gn=f.now();if(gn<Ct)return L=this.schedule(void 0,Ct-gn),void A.add(L);Le()}v.subscribe((0,st._)(A,Ct=>{ee=Ct,Ee=f.now(),L||(L=f.schedule(lt,T),A.add(L))},()=>{Le(),A.complete()},void 0,()=>{ee=L=null}))})}(0))}(T);return{task:T,then:T.then.bind(T),catch:T.catch.bind(T),pause:T.pause.bind(T),cancel:T.cancel.bind(T),resume:T.resume.bind(T),snapshotChanges:()=>f,percentageChanges:()=>f.pipe((0,wt.T)(v=>v.bytesTransferred/v.totalBytes*100))}}function bs(T){return{getDownloadURL:()=>(0,je.of)(void 0).pipe(le.Oe,(0,yt.n)(()=>T.getDownloadURL()),le.U0),getMetadata:()=>(0,je.of)(void 0).pipe(le.Oe,(0,yt.n)(()=>T.getMetadata()),le.U0),delete:()=>(0,Ue.H)(T.delete()),child:f=>bs(T.child(f)),updateMetadata:f=>(0,Ue.H)(T.updateMetadata(f)),put:(f,v)=>Eo(T.put(f,v)),putString:(f,v,A)=>Eo(T.putString(f,v,A)),list:f=>(0,Ue.H)(T.list(f)),listAll:()=>(0,Ue.H)(T.listAll())}}const Wa=new me.nKC("angularfire2.storageBucket"),Sa=new me.nKC("angularfire2.storage.maxUploadRetryTime"),Cc=new me.nKC("angularfire2.storage.maxOperationRetryTime"),so=new me.nKC("angularfire2.storage.use-emulator");let ul=(()=>{class T{storage;constructor(v,A,L,ee,Ee,Le,lt,Ct,gn,wn){const yr=(0,Ke.iB)(v,Ee,A);this.storage=(0,Ke.BM)(`${yr.name}.storage.${L}`,"AngularFireStorage",yr.name,()=>{const ar=Ee.runOutsideAngular(()=>yr.storage(L||void 0)),Wn=gn;return Wn&&ar.useEmulator(...Wn),lt&&ar.setMaxUploadRetryTime(lt),Ct&&ar.setMaxOperationRetryTime(Ct),ar},[lt,Ct])}ref(v){return bs(this.storage.ref(v))}refFromURL(v){return bs(this.storage.refFromURL(v))}upload(v,A,L){return bs(this.storage.ref(v)).put(A,L)}static \u0275fac=function(A){return new(A||T)(me.KVO(Ke.rx),me.KVO(Ke.uP,8),me.KVO(Wa,8),me.KVO(me.Agw),me.KVO(me.SKi),me.KVO(le.u0),me.KVO(Sa,8),me.KVO(Cc,8),me.KVO(so,8),me.KVO(le.Jv,8))};static \u0275prov=me.jDH({token:T,factory:T.\u0275fac,providedIn:"any"})}return T})(),qa=(()=>{class T{static \u0275fac=function(A){return new(A||T)};static \u0275mod=me.$C({type:T});static \u0275inj=me.G2t({})}return T})(),Jc=(()=>{class T{constructor(){io.A.registerVersion("angularfire",le.xv.full,"gcs-compat")}static \u0275fac=function(A){return new(A||T)};static \u0275mod=me.$C({type:T});static \u0275inj=me.G2t({providers:[ul],imports:[qa]})}return T})();const Pl_firebase={apiKey:"AIzaSyD0TIO_WaMN1PTcJhD-uDjA5ahGYYEgx5M",authDomain:"fantasia-kids.firebaseapp.com",databaseURL:"https://fantasia-kids-default-rtdb.firebaseio.com",projectId:"fantasia-kids",storageBucket:"fantasia-kids.appspot.com",messagingSenderId:"742080757739",appId:"1:742080757739:web:b53cf2e74f594d19b4e3ae",measurementId:"G-661MJHPR0Z"};var tc=k(4341),ir=function(T){return T[T.State=0]="State",T[T.Transition=1]="Transition",T[T.Sequence=2]="Sequence",T[T.Group=3]="Group",T[T.Animate=4]="Animate",T[T.Keyframes=5]="Keyframes",T[T.Style=6]="Style",T[T.Trigger=7]="Trigger",T[T.Reference=8]="Reference",T[T.AnimateChild=9]="AnimateChild",T[T.AnimateRef=10]="AnimateRef",T[T.Query=11]="Query",T[T.Stagger=12]="Stagger",T}(ir||{});const Io="*";function nt(T){return{type:ir.Style,styles:T,offset:null}}class Ko{constructor(f=0,v=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=f+v}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(f=>f()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(f){this._position=this.totalTime?f*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(f){const v="start"==f?this._onStartFns:this._onDoneFns;v.forEach(A=>A()),v.length=0}}class ua{constructor(f){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=f;let v=0,A=0,L=0;const ee=this.players.length;0==ee?queueMicrotask(()=>this._onFinish()):this.players.forEach(Ee=>{Ee.onDone(()=>{++v==ee&&this._onFinish()}),Ee.onDestroy(()=>{++A==ee&&this._onDestroy()}),Ee.onStart(()=>{++L==ee&&this._onStart()})}),this.totalTime=this.players.reduce((Ee,Le)=>Math.max(Ee,Le.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this.players.forEach(f=>f.init())}onStart(f){this._onStartFns.push(f)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(f=>f()),this._onStartFns=[])}onDone(f){this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(f=>f.play())}pause(){this.players.forEach(f=>f.pause())}restart(){this.players.forEach(f=>f.restart())}finish(){this._onFinish(),this.players.forEach(f=>f.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(f=>f.destroy()),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}reset(){this.players.forEach(f=>f.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(f){const v=f*this.totalTime;this.players.forEach(A=>{const L=A.totalTime?Math.min(1,v/A.totalTime):1;A.setPosition(L)})}getPosition(){const f=this.players.reduce((v,A)=>null===v||A.totalTime>v.totalTime?A:v,null);return null!=f?f.getPosition():0}beforeDestroy(){this.players.forEach(f=>{f.beforeDestroy&&f.beforeDestroy()})}triggerCallback(f){const v="start"==f?this._onStartFns:this._onDoneFns;v.forEach(A=>A()),v.length=0}}function Nl(T){return new me.wOt(3e3,!1)}function sn(T){switch(T.length){case 0:return new Ko;case 1:return T[0];default:return new ua(T)}}function Vi(T,f,v=new Map,A=new Map){const L=[],ee=[];let Ee=-1,Le=null;if(f.forEach(lt=>{const Ct=lt.get("offset"),gn=Ct==Ee,wn=gn&&Le||new Map;lt.forEach((yr,ar)=>{let Wn=ar,Tr=yr;if("offset"!==ar)switch(Wn=T.normalizePropertyName(Wn,L),Tr){case"!":Tr=v.get(ar);break;case Io:Tr=A.get(ar);break;default:Tr=T.normalizeStyleValue(ar,Wn,Tr,L)}wn.set(Wn,Tr)}),gn||ee.push(wn),Le=wn,Ee=Ct}),L.length)throw function zs(T){return new me.wOt(3502,!1)}();return ee}function Vr(T,f,v,A){switch(f){case"start":T.onStart(()=>A(v&&vi(v,"start",T)));break;case"done":T.onDone(()=>A(v&&vi(v,"done",T)));break;case"destroy":T.onDestroy(()=>A(v&&vi(v,"destroy",T)))}}function vi(T,f,v){const ee=vn(T.element,T.triggerName,T.fromState,T.toState,f||T.phaseName,v.totalTime??T.totalTime,!!v.disabled),Ee=T._data;return null!=Ee&&(ee._data=Ee),ee}function vn(T,f,v,A,L="",ee=0,Ee){return{element:T,triggerName:f,fromState:v,toState:A,phaseName:L,totalTime:ee,disabled:!!Ee}}function Qr(T,f,v){let A=T.get(f);return A||T.set(f,A=v),A}function fi(T){const f=T.indexOf(":");return[T.substring(1,f),T.slice(f+1)]}const hs=typeof document>"u"?null:document.documentElement;function fa(T){const f=T.parentNode||T.host||null;return f===hs?null:f}let Oi=null,fs=!1;function pa(T,f){for(;f;){if(f===T)return!0;f=fa(f)}return!1}function Ja(T,f,v){if(v)return Array.from(T.querySelectorAll(f));const A=T.querySelector(f);return A?[A]:[]}let Us=(()=>{class T{validateStyleProperty(v){return function ho(T){Oi||(Oi=function Yo(){return typeof document<"u"?document.body:null}()||{},fs=!!Oi.style&&"WebkitAppearance"in Oi.style);let f=!0;return Oi.style&&!function Qo(T){return"ebkit"==T.substring(1,6)}(T)&&(f=T in Oi.style,!f&&fs&&(f="Webkit"+T.charAt(0).toUpperCase()+T.slice(1)in Oi.style)),f}(v)}containsElement(v,A){return pa(v,A)}getParentElement(v){return fa(v)}query(v,A,L){return Ja(v,A,L)}computeStyle(v,A,L){return L||""}animate(v,A,L,ee,Ee,Le=[],lt){return new Ko(L,ee)}static#e=this.\u0275fac=function(A){return new(A||T)};static#t=this.\u0275prov=me.jDH({token:T,factory:T.\u0275fac})}return T})();class Ma{static#e=this.NOOP=new Us}class ml{}const el=1e3,eu="ng-enter",lc="ng-leave",To="ng-trigger",nl=".ng-trigger",Zo="ng-animating",Ks=".ng-animating";function Ro(T){if("number"==typeof T)return T;const f=T.match(/^(-?[\.\d]+)(m?s)/);return!f||f.length<2?0:Po(parseFloat(f[1]),f[2])}function Po(T,f){return"s"===f?T*el:T}function si(T,f,v){return T.hasOwnProperty("duration")?T:function fo(T,f,v){let L,ee=0,Ee="";if("string"==typeof T){const Le=T.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Le)return f.push(Nl()),{duration:0,delay:0,easing:""};L=Po(parseFloat(Le[1]),Le[2]);const lt=Le[3];null!=lt&&(ee=Po(parseFloat(lt),Le[4]));const Ct=Le[5];Ct&&(Ee=Ct)}else L=T;if(!v){let Le=!1,lt=f.length;L<0&&(f.push(function wu(){return new me.wOt(3100,!1)}()),Le=!0),ee<0&&(f.push(function Qa(){return new me.wOt(3101,!1)}()),Le=!0),Le&&f.splice(lt,0,Nl())}return{duration:L,delay:ee,easing:Ee}}(T,f,v)}function oo(T,f,v){f.forEach((A,L)=>{const ee=ma(L);v&&!v.has(L)&&v.set(L,T.style[ee]),T.style[ee]=A})}function ga(T,f){f.forEach((v,A)=>{const L=ma(A);T.style[L]=""})}function Co(T){return Array.isArray(T)?1==T.length?T[0]:function pe(T,f=null){return{type:ir.Sequence,steps:T,options:f}}(T):T}const Es=new RegExp("{{\\s*(.+?)\\s*}}","g");function di(T){let f=[];if("string"==typeof T){let v;for(;v=Es.exec(T);)f.push(v[1]);Es.lastIndex=0}return f}function vl(T,f,v){const A=`${T}`,L=A.replace(Es,(ee,Ee)=>{let Le=f[Ee];return null==Le&&(v.push(function nc(T){return new me.wOt(3003,!1)}()),Le=""),Le.toString()});return L==A?T:L}const uc=/-+([a-z0-9])/g;function ma(T){return T.replace(uc,(...f)=>f[1].toUpperCase())}function Ws(T,f,v){switch(f.type){case ir.Trigger:return T.visitTrigger(f,v);case ir.State:return T.visitState(f,v);case ir.Transition:return T.visitTransition(f,v);case ir.Sequence:return T.visitSequence(f,v);case ir.Group:return T.visitGroup(f,v);case ir.Animate:return T.visitAnimate(f,v);case ir.Keyframes:return T.visitKeyframes(f,v);case ir.Style:return T.visitStyle(f,v);case ir.Reference:return T.visitReference(f,v);case ir.AnimateChild:return T.visitAnimateChild(f,v);case ir.AnimateRef:return T.visitAnimateRef(f,v);case ir.Query:return T.visitQuery(f,v);case ir.Stagger:return T.visitStagger(f,v);default:throw function Ol(T){return new me.wOt(3004,!1)}()}}function hc(T,f){return window.getComputedStyle(T)[f]}const _l=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ao extends ml{normalizePropertyName(f,v){return ma(f)}normalizeStyleValue(f,v,A,L){let ee="";const Ee=A.toString().trim();if(_l.has(v)&&0!==A&&"0"!==A)if("number"==typeof A)ee="px";else{const Le=A.match(/^[+-]?[\d\.]+([a-z]*)$/);Le&&0==Le[1].length&&L.push(function pl(T,f){return new me.wOt(3005,!1)}())}return Ee+ee}}const C="*";const W=new Set(["true","1"]),fe=new Set(["false","0"]);function Fe(T,f){const v=W.has(T)||fe.has(T),A=W.has(f)||fe.has(f);return(L,ee)=>{let Ee=T==C||T==L,Le=f==C||f==ee;return!Ee&&v&&"boolean"==typeof L&&(Ee=L?W.has(T):fe.has(T)),!Le&&A&&"boolean"==typeof ee&&(Le=ee?W.has(f):fe.has(f)),Ee&&Le}}const Dt=new RegExp("s*:selfs*,?","g");function Dn(T,f,v,A){return new Pn(T).build(f,v,A)}class Pn{constructor(f){this._driver=f}build(f,v,A){const L=new Xi(v);return this._resetContextStyleTimingState(L),Ws(this,Co(f),L)}_resetContextStyleTimingState(f){f.currentQuerySelector="",f.collectedStyles=new Map,f.collectedStyles.set("",new Map),f.currentTime=0}visitTrigger(f,v){let A=v.queryCount=0,L=v.depCount=0;const ee=[],Ee=[];return"@"==f.name.charAt(0)&&v.errors.push(function Ya(){return new me.wOt(3006,!1)}()),f.definitions.forEach(Le=>{if(this._resetContextStyleTimingState(v),Le.type==ir.State){const lt=Le,Ct=lt.name;Ct.toString().split(/\s*,\s*/).forEach(gn=>{lt.name=gn,ee.push(this.visitState(lt,v))}),lt.name=Ct}else if(Le.type==ir.Transition){const lt=this.visitTransition(Le,v);A+=lt.queryCount,L+=lt.depCount,Ee.push(lt)}else v.errors.push(function Wo(){return new me.wOt(3007,!1)}())}),{type:ir.Trigger,name:f.name,states:ee,transitions:Ee,queryCount:A,depCount:L,options:null}}visitState(f,v){const A=this.visitStyle(f.styles,v),L=f.options&&f.options.params||null;if(A.containsDynamicStyles){const ee=new Set,Ee=L||{};A.styles.forEach(Le=>{Le instanceof Map&&Le.forEach(lt=>{di(lt).forEach(Ct=>{Ee.hasOwnProperty(Ct)||ee.add(Ct)})})}),ee.size&&v.errors.push(function Dc(T,f){return new me.wOt(3008,!1)}(0,ee.values()))}return{type:ir.State,name:f.name,style:A,options:L?{params:L}:null}}visitTransition(f,v){v.queryCount=0,v.depCount=0;const A=Ws(this,Co(f.animation),v),L=function P(T,f){const v=[];return"string"==typeof T?T.split(/\s*,\s*/).forEach(A=>function b(T,f,v){if(":"==T[0]){const lt=function M(T,f){switch(T){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,A)=>parseFloat(A)>parseFloat(v);case":decrement":return(v,A)=>parseFloat(A)<parseFloat(v);default:return f.push(function qo(T){return new me.wOt(3016,!1)}()),"* => *"}}(T,v);if("function"==typeof lt)return void f.push(lt);T=lt}const A=T.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==A||A.length<4)return v.push(function sc(T){return new me.wOt(3015,!1)}()),f;const L=A[1],ee=A[2],Ee=A[3];f.push(Fe(L,Ee)),"<"==ee[0]&&(L!=C||Ee!=C)&&f.push(Fe(Ee,L))}(A,v,f)):v.push(T),v}(f.expr,v.errors);return{type:ir.Transition,matchers:L,animation:A,queryCount:v.queryCount,depCount:v.depCount,options:No(f.options)}}visitSequence(f,v){return{type:ir.Sequence,steps:f.steps.map(A=>Ws(this,A,v)),options:No(f.options)}}visitGroup(f,v){const A=v.currentTime;let L=0;const ee=f.steps.map(Ee=>{v.currentTime=A;const Le=Ws(this,Ee,v);return L=Math.max(L,v.currentTime),Le});return v.currentTime=L,{type:ir.Group,steps:ee,options:No(f.options)}}visitAnimate(f,v){const A=function Mo(T,f){if(T.hasOwnProperty("duration"))return T;if("number"==typeof T)return Oa(si(T,f).duration,0,"");const v=T;if(v.split(/\s+/).some(ee=>"{"==ee.charAt(0)&&"{"==ee.charAt(1))){const ee=Oa(0,0,"");return ee.dynamic=!0,ee.strValue=v,ee}const L=si(v,f);return Oa(L.duration,L.delay,L.easing)}(f.timings,v.errors);v.currentAnimateTimings=A;let L,ee=f.styles?f.styles:nt({});if(ee.type==ir.Keyframes)L=this.visitKeyframes(ee,v);else{let Ee=f.styles,Le=!1;if(!Ee){Le=!0;const Ct={};A.easing&&(Ct.easing=A.easing),Ee=nt(Ct)}v.currentTime+=A.duration+A.delay;const lt=this.visitStyle(Ee,v);lt.isEmptyStep=Le,L=lt}return v.currentAnimateTimings=null,{type:ir.Animate,timings:A,style:L,options:null}}visitStyle(f,v){const A=this._makeStyleAst(f,v);return this._validateStyleAst(A,v),A}_makeStyleAst(f,v){const A=[],L=Array.isArray(f.styles)?f.styles:[f.styles];for(let Le of L)"string"==typeof Le?Le===Io?A.push(Le):v.errors.push(new me.wOt(3002,!1)):A.push(new Map(Object.entries(Le)));let ee=!1,Ee=null;return A.forEach(Le=>{if(Le instanceof Map&&(Le.has("easing")&&(Ee=Le.get("easing"),Le.delete("easing")),!ee))for(let lt of Le.values())if(lt.toString().indexOf("{{")>=0){ee=!0;break}}),{type:ir.Style,styles:A,easing:Ee,offset:f.offset,containsDynamicStyles:ee,options:null}}_validateStyleAst(f,v){const A=v.currentAnimateTimings;let L=v.currentTime,ee=v.currentTime;A&&ee>0&&(ee-=A.duration+A.delay),f.styles.forEach(Ee=>{"string"!=typeof Ee&&Ee.forEach((Le,lt)=>{const Ct=v.collectedStyles.get(v.currentQuerySelector),gn=Ct.get(lt);let wn=!0;gn&&(ee!=L&&ee>=gn.startTime&&L<=gn.endTime&&(v.errors.push(function gl(T,f,v,A,L){return new me.wOt(3010,!1)}()),wn=!1),ee=gn.startTime),wn&&Ct.set(lt,{startTime:ee,endTime:L}),v.options&&function yl(T,f,v){const A=f.params||{},L=di(T);L.length&&L.forEach(ee=>{A.hasOwnProperty(ee)||v.push(function Ac(T){return new me.wOt(3001,!1)}())})}(Le,v.options,v.errors)})})}visitKeyframes(f,v){const A={type:ir.Keyframes,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push(function Ar(){return new me.wOt(3011,!1)}()),A;let ee=0;const Ee=[];let Le=!1,lt=!1,Ct=0;const gn=f.steps.map(Yr=>{const Yi=this._makeStyleAst(Yr,v);let xi=null!=Yi.offset?Yi.offset:function bi(T){if("string"==typeof T)return null;let f=null;if(Array.isArray(T))T.forEach(v=>{if(v instanceof Map&&v.has("offset")){const A=v;f=parseFloat(A.get("offset")),A.delete("offset")}});else if(T instanceof Map&&T.has("offset")){const v=T;f=parseFloat(v.get("offset")),v.delete("offset")}return f}(Yi.styles),Ci=0;return null!=xi&&(ee++,Ci=Yi.offset=xi),lt=lt||Ci<0||Ci>1,Le=Le||Ci<Ct,Ct=Ci,Ee.push(Ci),Yi});lt&&v.errors.push(function kr(){return new me.wOt(3012,!1)}()),Le&&v.errors.push(function Ju(){return new me.wOt(3200,!1)}());const wn=f.steps.length;let yr=0;ee>0&&ee<wn?v.errors.push(function Sc(){return new me.wOt(3202,!1)}()):0==ee&&(yr=1/(wn-1));const ar=wn-1,Wn=v.currentTime,Tr=v.currentAnimateTimings,Kr=Tr.duration;return gn.forEach((Yr,Yi)=>{const xi=yr>0?Yi==ar?1:yr*Yi:Ee[Yi],Ci=xi*Kr;v.currentTime=Wn+Tr.delay+Ci,Tr.duration=Ci,this._validateStyleAst(Yr,v),Yr.offset=xi,A.styles.push(Yr)}),A}visitReference(f,v){return{type:ir.Reference,animation:Ws(this,Co(f.animation),v),options:No(f.options)}}visitAnimateChild(f,v){return v.depCount++,{type:ir.AnimateChild,options:No(f.options)}}visitAnimateRef(f,v){return{type:ir.AnimateRef,animation:this.visitReference(f.animation,v),options:No(f.options)}}visitQuery(f,v){const A=v.currentQuerySelector,L=f.options||{};v.queryCount++,v.currentQuery=f;const[ee,Ee]=function Hr(T){const f=!!T.split(/\s*,\s*/).find(v=>":self"==v);return f&&(T=T.replace(Dt,"")),T=T.replace(/@\*/g,nl).replace(/@\w+/g,v=>nl+"-"+v.slice(1)).replace(/:animating/g,Ks),[T,f]}(f.selector);v.currentQuerySelector=A.length?A+" "+ee:ee,Qr(v.collectedStyles,v.currentQuerySelector,new Map);const Le=Ws(this,Co(f.animation),v);return v.currentQuery=null,v.currentQuerySelector=A,{type:ir.Query,selector:ee,limit:L.limit||0,optional:!!L.optional,includeSelf:Ee,animation:Le,originalSelector:f.selector,options:No(f.options)}}visitStagger(f,v){v.currentQuery||v.errors.push(function ic(){return new me.wOt(3013,!1)}());const A="full"===f.timings?{duration:0,delay:0,easing:"full"}:si(f.timings,v.errors,!0);return{type:ir.Stagger,animation:Ws(this,Co(f.animation),v),timings:A,options:null}}}class Xi{constructor(f){this.errors=f,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function No(T){return T?(T={...T}).params&&(T.params=function qi(T){return T?{...T}:null}(T.params)):T={},T}function Oa(T,f,v){return{duration:T,delay:f,easing:v}}function Ll(T,f,v,A,L,ee,Ee=null,Le=!1){return{type:1,element:T,keyframes:f,preStyleProps:v,postStyleProps:A,duration:L,delay:ee,totalTime:L+ee,easing:Ee,subTimeline:Le}}class Mc{constructor(){this._map=new Map}get(f){return this._map.get(f)||[]}append(f,v){let A=this._map.get(f);A||this._map.set(f,A=[]),A.push(...v)}has(f){return this._map.has(f)}clear(){this._map.clear()}}const Nd=new RegExp(":enter","g"),Fl=new RegExp(":leave","g");function td(T,f,v,A,L,ee=new Map,Ee=new Map,Le,lt,Ct=[]){return(new nd).buildKeyframes(T,f,v,A,L,ee,Ee,Le,lt,Ct)}class nd{buildKeyframes(f,v,A,L,ee,Ee,Le,lt,Ct,gn=[]){Ct=Ct||new Mc;const wn=new El(f,v,Ct,L,ee,gn,[]);wn.options=lt;const yr=lt.delay?Ro(lt.delay):0;wn.currentTimeline.delayNextStep(yr),wn.currentTimeline.setStyles([Ee],null,wn.errors,lt),Ws(this,A,wn);const ar=wn.timelines.filter(Wn=>Wn.containsAnimation());if(ar.length&&Le.size){let Wn;for(let Tr=ar.length-1;Tr>=0;Tr--){const Kr=ar[Tr];if(Kr.element===v){Wn=Kr;break}}Wn&&!Wn.allowOnlyTimelineStyles()&&Wn.setStyles([Le],null,wn.errors,lt)}return ar.length?ar.map(Wn=>Wn.buildKeyframes()):[Ll(v,[],[],[],0,yr,"",!1)]}visitTrigger(f,v){}visitState(f,v){}visitTransition(f,v){}visitAnimateChild(f,v){const A=v.subInstructions.get(v.element);if(A){const L=v.createSubContext(f.options),ee=v.currentTimeline.currentTime,Ee=this._visitSubInstructions(A,L,L.options);ee!=Ee&&v.transformIntoNewTimeline(Ee)}v.previousNode=f}visitAnimateRef(f,v){const A=v.createSubContext(f.options);A.transformIntoNewTimeline(),this._applyAnimationRefDelays([f.options,f.animation.options],v,A),this.visitReference(f.animation,A),v.transformIntoNewTimeline(A.currentTimeline.currentTime),v.previousNode=f}_applyAnimationRefDelays(f,v,A){for(const L of f){const ee=L?.delay;if(ee){const Ee="number"==typeof ee?ee:Ro(vl(ee,L?.params??{},v.errors));A.delayNextStep(Ee)}}}_visitSubInstructions(f,v,A){let ee=v.currentTimeline.currentTime;const Ee=null!=A.duration?Ro(A.duration):null,Le=null!=A.delay?Ro(A.delay):null;return 0!==Ee&&f.forEach(lt=>{const Ct=v.appendInstructionToTimeline(lt,Ee,Le);ee=Math.max(ee,Ct.duration+Ct.delay)}),ee}visitReference(f,v){v.updateOptions(f.options,!0),Ws(this,f.animation,v),v.previousNode=f}visitSequence(f,v){const A=v.subContextCount;let L=v;const ee=f.options;if(ee&&(ee.params||ee.delay)&&(L=v.createSubContext(ee),L.transformIntoNewTimeline(),null!=ee.delay)){L.previousNode.type==ir.Style&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=Vl);const Ee=Ro(ee.delay);L.delayNextStep(Ee)}f.steps.length&&(f.steps.forEach(Ee=>Ws(this,Ee,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>A&&L.transformIntoNewTimeline()),v.previousNode=f}visitGroup(f,v){const A=[];let L=v.currentTimeline.currentTime;const ee=f.options&&f.options.delay?Ro(f.options.delay):0;f.steps.forEach(Ee=>{const Le=v.createSubContext(f.options);ee&&Le.delayNextStep(ee),Ws(this,Ee,Le),L=Math.max(L,Le.currentTimeline.currentTime),A.push(Le.currentTimeline)}),A.forEach(Ee=>v.currentTimeline.mergeTimelineCollectedStyles(Ee)),v.transformIntoNewTimeline(L),v.previousNode=f}_visitTiming(f,v){if(f.dynamic){const A=f.strValue;return si(v.params?vl(A,v.params,v.errors):A,v.errors)}return{duration:f.duration,delay:f.delay,easing:f.easing}}visitAnimate(f,v){const A=v.currentAnimateTimings=this._visitTiming(f.timings,v),L=v.currentTimeline;A.delay&&(v.incrementTime(A.delay),L.snapshotCurrentStyles());const ee=f.style;ee.type==ir.Keyframes?this.visitKeyframes(ee,v):(v.incrementTime(A.duration),this.visitStyle(ee,v),L.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=f}visitStyle(f,v){const A=v.currentTimeline,L=v.currentAnimateTimings;!L&&A.hasCurrentStyleProperties()&&A.forwardFrame();const ee=L&&L.easing||f.easing;f.isEmptyStep?A.applyEmptyStep(ee):A.setStyles(f.styles,ee,v.errors,v.options),v.previousNode=f}visitKeyframes(f,v){const A=v.currentAnimateTimings,L=v.currentTimeline.duration,ee=A.duration,Le=v.createSubContext().currentTimeline;Le.easing=A.easing,f.styles.forEach(lt=>{Le.forwardTime((lt.offset||0)*ee),Le.setStyles(lt.styles,lt.easing,v.errors,v.options),Le.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(Le),v.transformIntoNewTimeline(L+ee),v.previousNode=f}visitQuery(f,v){const A=v.currentTimeline.currentTime,L=f.options||{},ee=L.delay?Ro(L.delay):0;ee&&(v.previousNode.type===ir.Style||0==A&&v.currentTimeline.hasCurrentStyleProperties())&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Vl);let Ee=A;const Le=v.invokeQuery(f.selector,f.originalSelector,f.limit,f.includeSelf,!!L.optional,v.errors);v.currentQueryTotal=Le.length;let lt=null;Le.forEach((Ct,gn)=>{v.currentQueryIndex=gn;const wn=v.createSubContext(f.options,Ct);ee&&wn.delayNextStep(ee),Ct===v.element&&(lt=wn.currentTimeline),Ws(this,f.animation,wn),wn.currentTimeline.applyStylesToKeyframe(),Ee=Math.max(Ee,wn.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(Ee),lt&&(v.currentTimeline.mergeTimelineCollectedStyles(lt),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=f}visitStagger(f,v){const A=v.parentContext,L=v.currentTimeline,ee=f.timings,Ee=Math.abs(ee.duration),Le=Ee*(v.currentQueryTotal-1);let lt=Ee*v.currentQueryIndex;switch(ee.duration<0?"reverse":ee.easing){case"reverse":lt=Le-lt;break;case"full":lt=A.currentStaggerTime}const gn=v.currentTimeline;lt&&gn.delayNextStep(lt);const wn=gn.currentTime;Ws(this,f.animation,v),v.previousNode=f,A.currentStaggerTime=L.currentTime-wn+(L.startTime-A.currentTimeline.startTime)}}const Vl={};class El{constructor(f,v,A,L,ee,Ee,Le,lt){this._driver=f,this.element=v,this.subInstructions=A,this._enterClassName=L,this._leaveClassName=ee,this.errors=Ee,this.timelines=Le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Vl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=lt||new xa(this._driver,v,0),Le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(f,v){if(!f)return;const A=f;let L=this.options;null!=A.duration&&(L.duration=Ro(A.duration)),null!=A.delay&&(L.delay=Ro(A.delay));const ee=A.params;if(ee){let Ee=L.params;Ee||(Ee=this.options.params={}),Object.keys(ee).forEach(Le=>{(!v||!Ee.hasOwnProperty(Le))&&(Ee[Le]=vl(ee[Le],Ee,this.errors))})}}_copyOptions(){const f={};if(this.options){const v=this.options.params;if(v){const A=f.params={};Object.keys(v).forEach(L=>{A[L]=v[L]})}}return f}createSubContext(f=null,v,A){const L=v||this.element,ee=new El(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,A||0));return ee.previousNode=this.previousNode,ee.currentAnimateTimings=this.currentAnimateTimings,ee.options=this._copyOptions(),ee.updateOptions(f),ee.currentQueryIndex=this.currentQueryIndex,ee.currentQueryTotal=this.currentQueryTotal,ee.parentContext=this,this.subContextCount++,ee}transformIntoNewTimeline(f){return this.previousNode=Vl,this.currentTimeline=this.currentTimeline.fork(this.element,f),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(f,v,A){const L={duration:v??f.duration,delay:this.currentTimeline.currentTime+(A??0)+f.delay,easing:""},ee=new rd(this._driver,f.element,f.keyframes,f.preStyleProps,f.postStyleProps,L,f.stretchStartingKeyframe);return this.timelines.push(ee),L}incrementTime(f){this.currentTimeline.forwardTime(this.currentTimeline.duration+f)}delayNextStep(f){f>0&&this.currentTimeline.delayNextStep(f)}invokeQuery(f,v,A,L,ee,Ee){let Le=[];if(L&&Le.push(this.element),f.length>0){f=(f=f.replace(Nd,"."+this._enterClassName)).replace(Fl,"."+this._leaveClassName);let Ct=this._driver.query(this.element,f,1!=A);0!==A&&(Ct=A<0?Ct.slice(Ct.length+A,Ct.length):Ct.slice(0,A)),Le.push(...Ct)}return!ee&&0==Le.length&&Ee.push(function xl(T){return new me.wOt(3014,!1)}()),Le}}class xa{constructor(f,v,A,L){this._driver=f,this.element=v,this.startTime=A,this._elementTimelineStylesLookup=L,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(f){const v=1===this._keyframes.size&&this._pendingStyles.size;this.duration||v?(this.forwardTime(this.currentTime+f),v&&this.snapshotCurrentStyles()):this.startTime+=f}fork(f,v){return this.applyStylesToKeyframe(),new xa(this._driver,f,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(f){this.applyStylesToKeyframe(),this.duration=f,this._loadKeyframe()}_updateStyle(f,v){this._localTimelineStyles.set(f,v),this._globalTimelineStyles.set(f,v),this._styleSummary.set(f,{time:this.currentTime,value:v})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(f){f&&this._previousKeyframe.set("easing",f);for(let[v,A]of this._globalTimelineStyles)this._backFill.set(v,A||Io),this._currentKeyframe.set(v,Io);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(f,v,A,L){v&&this._previousKeyframe.set("easing",v);const ee=L&&L.params||{},Ee=function Ef(T,f){const v=new Map;let A;return T.forEach(L=>{if("*"===L){A??=f.keys();for(let ee of A)v.set(ee,Io)}else for(let[ee,Ee]of L)v.set(ee,Ee)}),v}(f,this._globalTimelineStyles);for(let[Le,lt]of Ee){const Ct=vl(lt,ee,A);this._pendingStyles.set(Le,Ct),this._localTimelineStyles.has(Le)||this._backFill.set(Le,this._globalTimelineStyles.get(Le)??Io),this._updateStyle(Le,Ct)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((f,v)=>{this._currentKeyframe.set(v,f)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((f,v)=>{this._currentKeyframe.has(v)||this._currentKeyframe.set(v,f)}))}snapshotCurrentStyles(){for(let[f,v]of this._localTimelineStyles)this._pendingStyles.set(f,v),this._updateStyle(f,v)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const f=[];for(let v in this._currentKeyframe)f.push(v);return f}mergeTimelineCollectedStyles(f){f._styleSummary.forEach((v,A)=>{const L=this._styleSummary.get(A);(!L||v.time>L.time)&&this._updateStyle(A,v.value)})}buildKeyframes(){this.applyStylesToKeyframe();const f=new Set,v=new Set,A=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((Le,lt)=>{const Ct=new Map([...this._backFill,...Le]);Ct.forEach((gn,wn)=>{"!"===gn?f.add(wn):gn===Io&&v.add(wn)}),A||Ct.set("offset",lt/this.duration),L.push(Ct)});const ee=[...f.values()],Ee=[...v.values()];if(A){const Le=L[0],lt=new Map(Le);Le.set("offset",0),lt.set("offset",1),L=[Le,lt]}return Ll(this.element,L,ee,Ee,this.duration,this.startTime,this.easing,!1)}}class rd extends xa{constructor(f,v,A,L,ee,Ee,Le=!1){super(f,v,Ee.delay),this.keyframes=A,this.preStyleProps=L,this.postStyleProps=ee,this._stretchStartingKeyframe=Le,this.timings={duration:Ee.duration,delay:Ee.delay,easing:Ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let f=this.keyframes,{delay:v,duration:A,easing:L}=this.timings;if(this._stretchStartingKeyframe&&v){const ee=[],Ee=A+v,Le=v/Ee,lt=new Map(f[0]);lt.set("offset",0),ee.push(lt);const Ct=new Map(f[0]);Ct.set("offset",Ul(Le)),ee.push(Ct);const gn=f.length-1;for(let wn=1;wn<=gn;wn++){let yr=new Map(f[wn]);const ar=yr.get("offset");yr.set("offset",Ul((v+ar*A)/Ee)),ee.push(yr)}A=Ee,v=0,L="",f=ee}return Ll(this.element,f,this.preStyleProps,this.postStyleProps,A,v,L,!0)}}function Ul(T,f=3){const v=Math.pow(10,f-1);return Math.round(T*v)/v}function id(T,f,v,A,L,ee,Ee,Le,lt,Ct,gn,wn,yr){return{type:0,element:T,triggerName:f,isRemovalTransition:L,fromState:v,fromStyles:ee,toState:A,toStyles:Ee,timelines:Le,queriedElements:lt,preStyleProps:Ct,postStyleProps:gn,totalTime:wn,errors:yr}}const pc={};class Il{constructor(f,v,A){this._triggerName=f,this.ast=v,this._stateStyles=A}match(f,v,A,L){return function Au(T,f,v,A,L){return T.some(ee=>ee(f,v,A,L))}(this.ast.matchers,f,v,A,L)}buildStyles(f,v,A){let L=this._stateStyles.get("*");return void 0!==f&&(L=this._stateStyles.get(f?.toString())||L),L?L.buildStyles(v,A):new Map}build(f,v,A,L,ee,Ee,Le,lt,Ct,gn){const wn=[],yr=this.ast.options&&this.ast.options.params||pc,Wn=this.buildStyles(A,Le&&Le.params||pc,wn),Tr=lt&&lt.params||pc,Kr=this.buildStyles(L,Tr,wn),Yr=new Set,Yi=new Map,xi=new Map,Ci="void"===L,Va={params:Oo(Tr,yr),delay:this.ast.options?.delay},go=gn?[]:td(f,v,this.ast.animation,ee,Ee,Wn,Kr,Va,Ct,wn);let lo=0;return go.forEach(Zi=>{lo=Math.max(Zi.duration+Zi.delay,lo)}),wn.length?id(v,this._triggerName,A,L,Ci,Wn,Kr,[],[],Yi,xi,lo,wn):(go.forEach(Zi=>{const xo=Zi.element,vc=Qr(Yi,xo,new Set);Zi.preStyleProps.forEach(Kl=>vc.add(Kl));const cu=Qr(xi,xo,new Set);Zi.postStyleProps.forEach(Kl=>cu.add(Kl)),xo!==v&&Yr.add(xo)}),id(v,this._triggerName,A,L,Ci,Wn,Kr,go,[...Yr.values()],Yi,xi,lo))}}function Oo(T,f){const v={...f};return Object.entries(T).forEach(([A,L])=>{null!=L&&(v[A]=L)}),v}class Oc{constructor(f,v,A){this.styles=f,this.defaultParams=v,this.normalizer=A}buildStyles(f,v){const A=new Map,L=Oo(f,this.defaultParams);return this.styles.styles.forEach(ee=>{"string"!=typeof ee&&ee.forEach((Ee,Le)=>{Ee&&(Ee=vl(Ee,L,v));const lt=this.normalizer.normalizePropertyName(Le,v);Ee=this.normalizer.normalizeStyleValue(Le,lt,Ee,v),A.set(Le,Ee)})}),A}}class _h{constructor(f,v,A){this.name=f,this.ast=v,this._normalizer=A,this.transitionFactories=[],this.states=new Map,v.states.forEach(L=>{this.states.set(L.name,new Oc(L.style,L.options&&L.options.params||{},A))}),ru(this.states,"true","1"),ru(this.states,"false","0"),v.transitions.forEach(L=>{this.transitionFactories.push(new Il(f,L,this.states))}),this.fallbackTransition=function Od(T,f,v){return new Il(T,{type:ir.Transition,animation:{type:ir.Sequence,steps:[],options:null},matchers:[(Ee,Le)=>!0],options:null,queryCount:0,depCount:0},f)}(f,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(f,v,A,L){return this.transitionFactories.find(Ee=>Ee.match(f,v,A,L))||null}matchStyles(f,v,A){return this.fallbackTransition.buildStyles(f,v,A)}}function ru(T,f,v){T.has(f)?T.has(v)||T.set(v,T.get(f)):T.has(v)&&T.set(f,T.get(v))}const Bl=new Mc;class rl{constructor(f,v,A){this.bodyNode=f,this._driver=v,this._normalizer=A,this._animations=new Map,this._playersById=new Map,this.players=[]}register(f,v){const A=[],ee=Dn(this._driver,v,A,[]);if(A.length)throw function kl(T){return new me.wOt(3503,!1)}();this._animations.set(f,ee)}_buildPlayer(f,v,A){const L=f.element,ee=Vi(this._normalizer,f.keyframes,v,A);return this._driver.animate(L,ee,f.duration,f.delay,f.easing,[],!0)}create(f,v,A={}){const L=[],ee=this._animations.get(f);let Ee;const Le=new Map;if(ee?(Ee=td(this._driver,v,ee,eu,lc,new Map,new Map,A,Bl,L),Ee.forEach(gn=>{const wn=Qr(Le,gn.element,new Map);gn.postStyleProps.forEach(yr=>wn.set(yr,null))})):(L.push(function ha(){return new me.wOt(3300,!1)}()),Ee=[]),L.length)throw function oc(T){return new me.wOt(3504,!1)}();Le.forEach((gn,wn)=>{gn.forEach((yr,ar)=>{gn.set(ar,this._driver.computeStyle(wn,ar,Io))})});const Ct=sn(Ee.map(gn=>{const wn=Le.get(gn.element);return this._buildPlayer(gn,new Map,wn)}));return this._playersById.set(f,Ct),Ct.onDestroy(()=>this.destroy(f)),this.players.push(Ct),Ct}destroy(f){const v=this._getPlayer(f);v.destroy(),this._playersById.delete(f);const A=this.players.indexOf(v);A>=0&&this.players.splice(A,1)}_getPlayer(f){const v=this._playersById.get(f);if(!v)throw function Ji(T){return new me.wOt(3301,!1)}();return v}listen(f,v,A,L){const ee=vn(v,"","","");return Vr(this._getPlayer(f),A,ee,L),()=>{}}command(f,v,A,L){if("register"==A)return void this.register(f,L[0]);if("create"==A)return void this.create(f,v,L[0]||{});const ee=this._getPlayer(f);switch(A){case"play":ee.play();break;case"pause":ee.pause();break;case"reset":ee.reset();break;case"restart":ee.restart();break;case"finish":ee.finish();break;case"init":ee.init();break;case"setPosition":ee.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(f)}}}const gc="ng-animate-queued",il="ng-animate-disabled",$l=[],sd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Eh={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ki="__ng_removed";class Su{get params(){return this.options.params}constructor(f,v=""){this.namespaceId=v;const A=f&&f.hasOwnProperty("value");if(this.value=function kd(T){return T??null}(A?f.value:f),A){const{value:ee,...Ee}=f;this.options=Ee}else this.options={};this.options.params||(this.options.params={})}absorbOptions(f){const v=f.params;if(v){const A=this.options.params;Object.keys(v).forEach(L=>{null==A[L]&&(A[L]=v[L])})}}}const Tl="void",sl=new Su(Tl);class kc{constructor(f,v,A){this.id=f,this.hostElement=v,this._engine=A,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+f,sr(v,this._hostClassName)}listen(f,v,A,L){if(!this._triggers.has(v))throw function ac(T,f){return new me.wOt(3302,!1)}();if(null==A||0==A.length)throw function R(T){return new me.wOt(3303,!1)}();if(!function jl(T){return"start"==T||"done"==T}(A))throw function oe(T,f){return new me.wOt(3400,!1)}();const ee=Qr(this._elementListeners,f,[]),Ee={name:v,phase:A,callback:L};ee.push(Ee);const Le=Qr(this._engine.statesByElement,f,new Map);return Le.has(v)||(sr(f,To),sr(f,To+"-"+v),Le.set(v,sl)),()=>{this._engine.afterFlush(()=>{const lt=ee.indexOf(Ee);lt>=0&&ee.splice(lt,1),this._triggers.has(v)||Le.delete(v)})}}register(f,v){return!this._triggers.has(f)&&(this._triggers.set(f,v),!0)}_getTrigger(f){const v=this._triggers.get(f);if(!v)throw function V(T){return new me.wOt(3401,!1)}();return v}trigger(f,v,A,L=!0){const ee=this._getTrigger(v),Ee=new od(this.id,v,f);let Le=this._engine.statesByElement.get(f);Le||(sr(f,To),sr(f,To+"-"+v),this._engine.statesByElement.set(f,Le=new Map));let lt=Le.get(v);const Ct=new Su(A,this.id);if(!(A&&A.hasOwnProperty("value"))&&lt&&Ct.absorbOptions(lt.options),Le.set(v,Ct),lt||(lt=sl),Ct.value!==Tl&&lt.value===Ct.value){if(!function Lc(T,f){const v=Object.keys(T),A=Object.keys(f);if(v.length!=A.length)return!1;for(let L=0;L<v.length;L++){const ee=v[L];if(!f.hasOwnProperty(ee)||T[ee]!==f[ee])return!1}return!0}(lt.params,Ct.params)){const Tr=[],Kr=ee.matchStyles(lt.value,lt.params,Tr),Yr=ee.matchStyles(Ct.value,Ct.params,Tr);Tr.length?this._engine.reportError(Tr):this._engine.afterFlush(()=>{ga(f,Kr),oo(f,Yr)})}return}const yr=Qr(this._engine.playersByElement,f,[]);yr.forEach(Tr=>{Tr.namespaceId==this.id&&Tr.triggerName==v&&Tr.queued&&Tr.destroy()});let ar=ee.matchTransition(lt.value,Ct.value,f,Ct.params),Wn=!1;if(!ar){if(!L)return;ar=ee.fallbackTransition,Wn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:v,transition:ar,fromState:lt,toState:Ct,player:Ee,isFallbackTransition:Wn}),Wn||(sr(f,gc),Ee.onStart(()=>{as(f,gc)})),Ee.onDone(()=>{let Tr=this.players.indexOf(Ee);Tr>=0&&this.players.splice(Tr,1);const Kr=this._engine.playersByElement.get(f);if(Kr){let Yr=Kr.indexOf(Ee);Yr>=0&&Kr.splice(Yr,1)}}),this.players.push(Ee),yr.push(Ee),Ee}deregister(f){this._triggers.delete(f),this._engine.statesByElement.forEach(v=>v.delete(f)),this._elementListeners.forEach((v,A)=>{this._elementListeners.set(A,v.filter(L=>L.name!=f))})}clearElementCache(f){this._engine.statesByElement.delete(f),this._elementListeners.delete(f);const v=this._engine.playersByElement.get(f);v&&(v.forEach(A=>A.destroy()),this._engine.playersByElement.delete(f))}_signalRemovalForInnerTriggers(f,v){const A=this._engine.driver.query(f,nl,!0);A.forEach(L=>{if(L[Ki])return;const ee=this._engine.fetchNamespacesByElement(L);ee.size?ee.forEach(Ee=>Ee.triggerLeaveAnimation(L,v,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>A.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(f,v,A,L){const ee=this._engine.statesByElement.get(f),Ee=new Map;if(ee){const Le=[];if(ee.forEach((lt,Ct)=>{if(Ee.set(Ct,lt.value),this._triggers.has(Ct)){const gn=this.trigger(f,Ct,Tl,L);gn&&Le.push(gn)}}),Le.length)return this._engine.markElementAsRemoved(this.id,f,!0,v,Ee),A&&sn(Le).onDone(()=>this._engine.processLeaveNode(f)),!0}return!1}prepareLeaveAnimationListeners(f){const v=this._elementListeners.get(f),A=this._engine.statesByElement.get(f);if(v&&A){const L=new Set;v.forEach(ee=>{const Ee=ee.name;if(L.has(Ee))return;L.add(Ee);const lt=this._triggers.get(Ee).fallbackTransition,Ct=A.get(Ee)||sl,gn=new Su(Tl),wn=new od(this.id,Ee,f);this._engine.totalQueuedPlayers++,this._queue.push({element:f,triggerName:Ee,transition:lt,fromState:Ct,toState:gn,player:wn,isFallbackTransition:!0})})}}removeNode(f,v){const A=this._engine;if(f.childElementCount&&this._signalRemovalForInnerTriggers(f,v),this.triggerLeaveAnimation(f,v,!0))return;let L=!1;if(A.totalAnimations){const ee=A.players.length?A.playersByQueriedElement.get(f):[];if(ee&&ee.length)L=!0;else{let Ee=f;for(;Ee=Ee.parentNode;)if(A.statesByElement.get(Ee)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(f),L)A.markElementAsRemoved(this.id,f,!1,v);else{const ee=f[Ki];(!ee||ee===sd)&&(A.afterFlush(()=>this.clearElementCache(f)),A.destroyInnerAnimations(f),A._onRemovalComplete(f,v))}}insertNode(f,v){sr(f,this._hostClassName)}drainQueuedTransitions(f){const v=[];return this._queue.forEach(A=>{const L=A.player;if(L.destroyed)return;const ee=A.element,Ee=this._elementListeners.get(ee);Ee&&Ee.forEach(Le=>{if(Le.name==A.triggerName){const lt=vn(ee,A.triggerName,A.fromState.value,A.toState.value);lt._data=f,Vr(A.player,Le.phase,lt,Le.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):v.push(A)}),this._queue=[],v.sort((A,L)=>{const ee=A.transition.ast.depCount,Ee=L.transition.ast.depCount;return 0==ee||0==Ee?ee-Ee:this._engine.driver.containsElement(A.element,L.element)?1:-1})}destroy(f){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,f)}}class xd{_onRemovalComplete(f,v){this.onRemovalComplete(f,v)}constructor(f,v,A){this.bodyNode=f,this.driver=v,this._normalizer=A,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,ee)=>{}}get queuedPlayers(){const f=[];return this._namespaceList.forEach(v=>{v.players.forEach(A=>{A.queued&&f.push(A)})}),f}createNamespace(f,v){const A=new kc(f,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(A,v):(this.newHostElements.set(v,A),this.collectEnterElement(v)),this._namespaceLookup[f]=A}_balanceNamespaceList(f,v){const A=this._namespaceList,L=this.namespacesByHostElement;if(A.length-1>=0){let Ee=!1,Le=this.driver.getParentElement(v);for(;Le;){const lt=L.get(Le);if(lt){const Ct=A.indexOf(lt);A.splice(Ct+1,0,f),Ee=!0;break}Le=this.driver.getParentElement(Le)}Ee||A.unshift(f)}else A.push(f);return L.set(v,f),f}register(f,v){let A=this._namespaceLookup[f];return A||(A=this.createNamespace(f,v)),A}registerTrigger(f,v,A){let L=this._namespaceLookup[f];L&&L.register(v,A)&&this.totalAnimations++}destroy(f,v){f&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const A=this._fetchNamespace(f);this.namespacesByHostElement.delete(A.hostElement);const L=this._namespaceList.indexOf(A);L>=0&&this._namespaceList.splice(L,1),A.destroy(v),delete this._namespaceLookup[f]}))}_fetchNamespace(f){return this._namespaceLookup[f]}fetchNamespacesByElement(f){const v=new Set,A=this.statesByElement.get(f);if(A)for(let L of A.values())if(L.namespaceId){const ee=this._fetchNamespace(L.namespaceId);ee&&v.add(ee)}return v}trigger(f,v,A,L){if(ad(v)){const ee=this._fetchNamespace(f);if(ee)return ee.trigger(v,A,L),!0}return!1}insertNode(f,v,A,L){if(!ad(v))return;const ee=v[Ki];if(ee&&ee.setForRemoval){ee.setForRemoval=!1,ee.setForMove=!0;const Ee=this.collectedLeaveElements.indexOf(v);Ee>=0&&this.collectedLeaveElements.splice(Ee,1)}if(f){const Ee=this._fetchNamespace(f);Ee&&Ee.insertNode(v,A)}L&&this.collectEnterElement(v)}collectEnterElement(f){this.collectedEnterElements.push(f)}markElementAsDisabled(f,v){v?this.disabledNodes.has(f)||(this.disabledNodes.add(f),sr(f,il)):this.disabledNodes.has(f)&&(this.disabledNodes.delete(f),as(f,il))}removeNode(f,v,A){if(ad(v)){const L=f?this._fetchNamespace(f):null;L?L.removeNode(v,A):this.markElementAsRemoved(f,v,!1,A);const ee=this.namespacesByHostElement.get(v);ee&&ee.id!==f&&ee.removeNode(v,A)}else this._onRemovalComplete(v,A)}markElementAsRemoved(f,v,A,L,ee){this.collectedLeaveElements.push(v),v[Ki]={namespaceId:f,setForRemoval:L,hasAnimation:A,removedBeforeQueried:!1,previousTriggersValues:ee}}listen(f,v,A,L,ee){return ad(v)?this._fetchNamespace(f).listen(v,A,L,ee):()=>{}}_buildInstruction(f,v,A,L,ee){return f.transition.build(this.driver,f.element,f.fromState.value,f.toState.value,A,L,f.fromState.options,f.toState.options,v,ee)}destroyInnerAnimations(f){let v=this.driver.query(f,nl,!0);v.forEach(A=>this.destroyActiveAnimationsForElement(A)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(f,Ks,!0),v.forEach(A=>this.finishActiveQueriedAnimationOnElement(A)))}destroyActiveAnimationsForElement(f){const v=this.playersByElement.get(f);v&&v.forEach(A=>{A.queued?A.markedForDestroy=!0:A.destroy()})}finishActiveQueriedAnimationOnElement(f){const v=this.playersByQueriedElement.get(f);v&&v.forEach(A=>A.finish())}whenRenderingDone(){return new Promise(f=>{if(this.players.length)return sn(this.players).onDone(()=>f());f()})}processLeaveNode(f){const v=f[Ki];if(v&&v.setForRemoval){if(f[Ki]=sd,v.namespaceId){this.destroyInnerAnimations(f);const A=this._fetchNamespace(v.namespaceId);A&&A.clearElementCache(f)}this._onRemovalComplete(f,v.setForRemoval)}f.classList?.contains(il)&&this.markElementAsDisabled(f,!1),this.driver.query(f,".ng-animate-disabled",!0).forEach(A=>{this.markElementAsDisabled(A,!1)})}flush(f=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((A,L)=>this._balanceNamespaceList(A,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let A=0;A<this.collectedEnterElements.length;A++)sr(this.collectedEnterElements[A],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const A=[];try{v=this._flushAnimations(A,f)}finally{for(let L=0;L<A.length;L++)A[L]()}}else for(let A=0;A<this.collectedLeaveElements.length;A++)this.processLeaveNode(this.collectedLeaveElements[A]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(A=>A()),this._flushFns=[],this._whenQuietFns.length){const A=this._whenQuietFns;this._whenQuietFns=[],v.length?sn(v).onDone(()=>{A.forEach(L=>L())}):A.forEach(L=>L())}}reportError(f){throw function Z(T){return new me.wOt(3402,!1)}()}_flushAnimations(f,v){const A=new Mc,L=[],ee=new Map,Ee=[],Le=new Map,lt=new Map,Ct=new Map,gn=new Set;this.disabledNodes.forEach(ur=>{gn.add(ur);const Cr=this.driver.query(ur,".ng-animate-queued",!0);for(let Br=0;Br<Cr.length;Br++)gn.add(Cr[Br])});const wn=this.bodyNode,yr=Array.from(this.statesByElement.keys()),ar=Tn(yr,this.collectedEnterElements),Wn=new Map;let Tr=0;ar.forEach((ur,Cr)=>{const Br=eu+Tr++;Wn.set(Cr,Br),ur.forEach(Zr=>sr(Zr,Br))});const Kr=[],Yr=new Set,Yi=new Set;for(let ur=0;ur<this.collectedLeaveElements.length;ur++){const Cr=this.collectedLeaveElements[ur],Br=Cr[Ki];Br&&Br.setForRemoval&&(Kr.push(Cr),Yr.add(Cr),Br.hasAnimation?this.driver.query(Cr,".ng-star-inserted",!0).forEach(Zr=>Yr.add(Zr)):Yi.add(Cr))}const xi=new Map,Ci=Tn(yr,Array.from(Yr));Ci.forEach((ur,Cr)=>{const Br=lc+Tr++;xi.set(Cr,Br),ur.forEach(Zr=>sr(Zr,Br))}),f.push(()=>{ar.forEach((ur,Cr)=>{const Br=Wn.get(Cr);ur.forEach(Zr=>as(Zr,Br))}),Ci.forEach((ur,Cr)=>{const Br=xi.get(Cr);ur.forEach(Zr=>as(Zr,Br))}),Kr.forEach(ur=>{this.processLeaveNode(ur)})});const Va=[],go=[];for(let ur=this._namespaceList.length-1;ur>=0;ur--)this._namespaceList[ur].drainQueuedTransitions(v).forEach(Br=>{const Zr=Br.player,eo=Br.element;if(Va.push(Zr),this.collectedEnterElements.length){const Bs=eo[Ki];if(Bs&&Bs.setForMove){if(Bs.previousTriggersValues&&Bs.previousTriggersValues.has(Br.triggerName)){const _a=Bs.previousTriggersValues.get(Br.triggerName),ji=this.statesByElement.get(Br.element);if(ji&&ji.has(Br.triggerName)){const al=ji.get(Br.triggerName);al.value=_a,ji.set(Br.triggerName,al)}}return void Zr.destroy()}}const Ua=!wn||!this.driver.containsElement(wn,eo),Wr=xi.get(eo),Ba=Wn.get(eo),rs=this._buildInstruction(Br,A,Ba,Wr,Ua);if(rs.errors&&rs.errors.length)return void go.push(rs);if(Ua)return Zr.onStart(()=>ga(eo,rs.fromStyles)),Zr.onDestroy(()=>oo(eo,rs.toStyles)),void L.push(Zr);if(Br.isFallbackTransition)return Zr.onStart(()=>ga(eo,rs.fromStyles)),Zr.onDestroy(()=>oo(eo,rs.toStyles)),void L.push(Zr);const co=[];rs.timelines.forEach(Bs=>{Bs.stretchStartingKeyframe=!0,this.disabledNodes.has(Bs.element)||co.push(Bs)}),rs.timelines=co,A.append(eo,rs.timelines),Ee.push({instruction:rs,player:Zr,element:eo}),rs.queriedElements.forEach(Bs=>Qr(Le,Bs,[]).push(Zr)),rs.preStyleProps.forEach((Bs,_a)=>{if(Bs.size){let ji=lt.get(_a);ji||lt.set(_a,ji=new Set),Bs.forEach((al,$c)=>ji.add($c))}}),rs.postStyleProps.forEach((Bs,_a)=>{let ji=Ct.get(_a);ji||Ct.set(_a,ji=new Set),Bs.forEach((al,$c)=>ji.add($c))})});if(go.length){const ur=[];go.forEach(Cr=>{ur.push(function jt(T,f){return new me.wOt(3505,!1)}())}),Va.forEach(Cr=>Cr.destroy()),this.reportError(ur)}const lo=new Map,Zi=new Map;Ee.forEach(ur=>{const Cr=ur.element;A.has(Cr)&&(Zi.set(Cr,Cr),this._beforeAnimationBuild(ur.player.namespaceId,ur.instruction,lo))}),L.forEach(ur=>{const Cr=ur.element;this._getPreviousPlayers(Cr,!1,ur.namespaceId,ur.triggerName,null).forEach(Zr=>{Qr(lo,Cr,[]).push(Zr),Zr.destroy()})});const xo=Kr.filter(ur=>Wi(ur,lt,Ct)),vc=new Map;Ai(vc,this.driver,Yi,Ct,Io).forEach(ur=>{Wi(ur,lt,Ct)&&xo.push(ur)});const Kl=new Map;ar.forEach((ur,Cr)=>{Ai(Kl,this.driver,new Set(ur),lt,"!")}),xo.forEach(ur=>{const Cr=vc.get(ur),Br=Kl.get(ur);vc.set(ur,new Map([...Cr?.entries()??[],...Br?.entries()??[]]))});const Uc=[],Bc=[],uu={};Ee.forEach(ur=>{const{element:Cr,player:Br,instruction:Zr}=ur;if(A.has(Cr)){if(gn.has(Cr))return Br.onDestroy(()=>oo(Cr,Zr.toStyles)),Br.disabled=!0,Br.overrideTotalTime(Zr.totalTime),void L.push(Br);let eo=uu;if(Zi.size>1){let Wr=Cr;const Ba=[];for(;Wr=Wr.parentNode;){const rs=Zi.get(Wr);if(rs){eo=rs;break}Ba.push(Wr)}Ba.forEach(rs=>Zi.set(rs,eo))}const Ua=this._buildAnimation(Br.namespaceId,Zr,lo,ee,Kl,vc);if(Br.setRealPlayer(Ua),eo===uu)Uc.push(Br);else{const Wr=this.playersByElement.get(eo);Wr&&Wr.length&&(Br.parentPlayer=sn(Wr)),L.push(Br)}}else ga(Cr,Zr.fromStyles),Br.onDestroy(()=>oo(Cr,Zr.toStyles)),Bc.push(Br),gn.has(Cr)&&L.push(Br)}),Bc.forEach(ur=>{const Cr=ee.get(ur.element);if(Cr&&Cr.length){const Br=sn(Cr);ur.setRealPlayer(Br)}}),L.forEach(ur=>{ur.parentPlayer?ur.syncPlayerEvents(ur.parentPlayer):ur.destroy()});for(let ur=0;ur<Kr.length;ur++){const Cr=Kr[ur],Br=Cr[Ki];if(as(Cr,lc),Br&&Br.hasAnimation)continue;let Zr=[];if(Le.size){let Ua=Le.get(Cr);Ua&&Ua.length&&Zr.push(...Ua);let Wr=this.driver.query(Cr,Ks,!0);for(let Ba=0;Ba<Wr.length;Ba++){let rs=Le.get(Wr[Ba]);rs&&rs.length&&Zr.push(...rs)}}const eo=Zr.filter(Ua=>!Ua.destroyed);eo.length?ka(this,Cr,eo):this.processLeaveNode(Cr)}return Kr.length=0,Uc.forEach(ur=>{this.players.push(ur),ur.onDone(()=>{ur.destroy();const Cr=this.players.indexOf(ur);this.players.splice(Cr,1)}),ur.play()}),Uc}afterFlush(f){this._flushFns.push(f)}afterFlushAnimationsDone(f){this._whenQuietFns.push(f)}_getPreviousPlayers(f,v,A,L,ee){let Ee=[];if(v){const Le=this.playersByQueriedElement.get(f);Le&&(Ee=Le)}else{const Le=this.playersByElement.get(f);if(Le){const lt=!ee||ee==Tl;Le.forEach(Ct=>{Ct.queued||!lt&&Ct.triggerName!=L||Ee.push(Ct)})}}return(A||L)&&(Ee=Ee.filter(Le=>!(A&&A!=Le.namespaceId||L&&L!=Le.triggerName))),Ee}_beforeAnimationBuild(f,v,A){const ee=v.element,Ee=v.isRemovalTransition?void 0:f,Le=v.isRemovalTransition?void 0:v.triggerName;for(const lt of v.timelines){const Ct=lt.element,gn=Ct!==ee,wn=Qr(A,Ct,[]);this._getPreviousPlayers(Ct,gn,Ee,Le,v.toState).forEach(ar=>{const Wn=ar.getRealPlayer();Wn.beforeDestroy&&Wn.beforeDestroy(),ar.destroy(),wn.push(ar)})}ga(ee,v.fromStyles)}_buildAnimation(f,v,A,L,ee,Ee){const Le=v.triggerName,lt=v.element,Ct=[],gn=new Set,wn=new Set,yr=v.timelines.map(Wn=>{const Tr=Wn.element;gn.add(Tr);const Kr=Tr[Ki];if(Kr&&Kr.removedBeforeQueried)return new Ko(Wn.duration,Wn.delay);const Yr=Tr!==lt,Yi=function qs(T){const f=[];return Qs(T,f),f}((A.get(Tr)||$l).map(lo=>lo.getRealPlayer())).filter(lo=>!!lo.element&&lo.element===Tr),xi=ee.get(Tr),Ci=Ee.get(Tr),Va=Vi(this._normalizer,Wn.keyframes,xi,Ci),go=this._buildPlayer(Wn,Va,Yi);if(Wn.subTimeline&&L&&wn.add(Tr),Yr){const lo=new od(f,Le,Tr);lo.setRealPlayer(go),Ct.push(lo)}return go});Ct.forEach(Wn=>{Qr(this.playersByQueriedElement,Wn.element,[]).push(Wn),Wn.onDone(()=>function If(T,f,v){let A=T.get(f);if(A){if(A.length){const L=A.indexOf(v);A.splice(L,1)}0==A.length&&T.delete(f)}return A}(this.playersByQueriedElement,Wn.element,Wn))}),gn.forEach(Wn=>sr(Wn,Zo));const ar=sn(yr);return ar.onDestroy(()=>{gn.forEach(Wn=>as(Wn,Zo)),oo(lt,v.toStyles)}),wn.forEach(Wn=>{Qr(L,Wn,[]).push(ar)}),ar}_buildPlayer(f,v,A){return v.length>0?this.driver.animate(f.element,v,f.duration,f.delay,f.easing,A):new Ko(f.duration,f.delay)}}class od{constructor(f,v,A){this.namespaceId=f,this.triggerName=v,this.element=A,this._player=new Ko,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(f){this._containsRealPlayer||(this._player=f,this._queuedCallbacks.forEach((v,A)=>{v.forEach(L=>Vr(f,A,void 0,L))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(f.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(f){this.totalTime=f}syncPlayerEvents(f){const v=this._player;v.triggerCallback&&f.onStart(()=>v.triggerCallback("start")),f.onDone(()=>this.finish()),f.onDestroy(()=>this.destroy())}_queueEvent(f,v){Qr(this._queuedCallbacks,f,[]).push(v)}onDone(f){this.queued&&this._queueEvent("done",f),this._player.onDone(f)}onStart(f){this.queued&&this._queueEvent("start",f),this._player.onStart(f)}onDestroy(f){this.queued&&this._queueEvent("destroy",f),this._player.onDestroy(f)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(f){this.queued||this._player.setPosition(f)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(f){const v=this._player;v.triggerCallback&&v.triggerCallback(f)}}function ad(T){return T&&1===T.nodeType}function Jo(T,f){const v=T.style.display;return T.style.display=f??"none",v}function Ai(T,f,v,A,L){const ee=[];v.forEach(lt=>ee.push(Jo(lt)));const Ee=[];A.forEach((lt,Ct)=>{const gn=new Map;lt.forEach(wn=>{const yr=f.computeStyle(Ct,wn,L);gn.set(wn,yr),(!yr||0==yr.length)&&(Ct[Ki]=Eh,Ee.push(Ct))}),T.set(Ct,gn)});let Le=0;return v.forEach(lt=>Jo(lt,ee[Le++])),Ee}function Tn(T,f){const v=new Map;if(T.forEach(Le=>v.set(Le,[])),0==f.length)return v;const L=new Set(f),ee=new Map;function Ee(Le){if(!Le)return 1;let lt=ee.get(Le);if(lt)return lt;const Ct=Le.parentNode;return lt=v.has(Ct)?Ct:L.has(Ct)?1:Ee(Ct),ee.set(Le,lt),lt}return f.forEach(Le=>{const lt=Ee(Le);1!==lt&&v.get(lt).push(Le)}),v}function sr(T,f){T.classList?.add(f)}function as(T,f){T.classList?.remove(f)}function ka(T,f,v){sn(v).onDone(()=>T.processLeaveNode(f))}function Qs(T,f){for(let v=0;v<T.length;v++){const A=T[v];A instanceof ua?Qs(A.players,f):f.push(A)}}function Wi(T,f,v){const A=v.get(T);if(!A)return!1;let L=f.get(T);return L?A.forEach(ee=>L.add(ee)):f.set(T,A),v.delete(T),!0}class es{constructor(f,v,A){this._driver=v,this._normalizer=A,this._triggerCache={},this.onRemovalComplete=(L,ee)=>{},this._transitionEngine=new xd(f.body,v,A),this._timelineEngine=new rl(f.body,v,A),this._transitionEngine.onRemovalComplete=(L,ee)=>this.onRemovalComplete(L,ee)}registerTrigger(f,v,A,L,ee){const Ee=f+"-"+L;let Le=this._triggerCache[Ee];if(!Le){const lt=[],gn=Dn(this._driver,ee,lt,[]);if(lt.length)throw function Za(T,f){return new me.wOt(3404,!1)}();Le=function ya(T,f,v){return new _h(T,f,v)}(L,gn,this._normalizer),this._triggerCache[Ee]=Le}this._transitionEngine.registerTrigger(v,L,Le)}register(f,v){this._transitionEngine.register(f,v)}destroy(f,v){this._transitionEngine.destroy(f,v)}onInsert(f,v,A,L){this._transitionEngine.insertNode(f,v,A,L)}onRemove(f,v,A){this._transitionEngine.removeNode(f,v,A)}disableAnimations(f,v){this._transitionEngine.markElementAsDisabled(f,v)}process(f,v,A,L){if("@"==A.charAt(0)){const[ee,Ee]=fi(A);this._timelineEngine.command(ee,v,Ee,L)}else this._transitionEngine.trigger(f,v,A,L)}listen(f,v,A,L,ee){if("@"==A.charAt(0)){const[Ee,Le]=fi(A);return this._timelineEngine.listen(Ee,v,Le,ee)}return this._transitionEngine.listen(f,v,A,L,ee)}flush(f=-1){this._transitionEngine.flush(f)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(f){this._transitionEngine.afterFlushAnimationsDone(f)}}class Dr{static#e=this.initialStylesByElement=new WeakMap;constructor(f,v,A){this._element=f,this._startStyles=v,this._endStyles=A,this._state=0;let L=Dr.initialStylesByElement.get(f);L||Dr.initialStylesByElement.set(f,L=new Map),this._initialStyles=L}start(){this._state<1&&(this._startStyles&&oo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(oo(this._element,this._initialStyles),this._endStyles&&(oo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Dr.initialStylesByElement.delete(this._element),this._startStyles&&(ga(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ga(this._element,this._endStyles),this._endStyles=null),oo(this._element,this._initialStyles),this._state=3)}}function Fc(T){let f=null;return T.forEach((v,A)=>{(function ou(T){return"display"===T||"position"===T})(A)&&(f=f||new Map,f.set(A,v))}),f}class Cl{constructor(f,v,A,L){this.element=f,this.keyframes=v,this.options=A,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=A.duration,this._delay=A.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(f=>f()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const f=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,f,this.options),this._finalKeyframe=f.length?f[f.length-1]:new Map;const v=()=>this._onFinish();this.domPlayer.addEventListener("finish",v),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",v)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(f){const v=[];return f.forEach(A=>{v.push(Object.fromEntries(A))}),v}_triggerWebAnimation(f,v,A){return f.animate(this._convertKeyframesToObject(v),A)}onStart(f){this._originalOnStartFns.push(f),this._onStartFns.push(f)}onDone(f){this._originalOnDoneFns.push(f),this._onDoneFns.push(f)}onDestroy(f){this._onDestroyFns.push(f)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(f=>f()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(f=>f()),this._onDestroyFns=[])}setPosition(f){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=f*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const f=new Map;this.hasStarted()&&this._finalKeyframe.forEach((A,L)=>{"offset"!==L&&f.set(L,this._finished?A:hc(this.element,L))}),this.currentSnapshot=f}triggerCallback(f){const v="start"===f?this._onStartFns:this._onDoneFns;v.forEach(A=>A()),v.length=0}}class ps{validateStyleProperty(f){return!0}validateAnimatableStyleProperty(f){return!0}containsElement(f,v){return pa(f,v)}getParentElement(f){return fa(f)}query(f,v,A){return Ja(f,v,A)}computeStyle(f,v,A){return hc(f,v)}animate(f,v,A,L,ee,Ee=[]){const lt={duration:A,delay:L,fill:0==L?"both":"forwards"};ee&&(lt.easing=ee);const Ct=new Map,gn=Ee.filter(ar=>ar instanceof Cl);(function Rc(T,f){return 0===T||0===f})(A,L)&&gn.forEach(ar=>{ar.currentSnapshot.forEach((Wn,Tr)=>Ct.set(Tr,Wn))});let wn=function os(T){return T.length?T[0]instanceof Map?T:T.map(f=>new Map(Object.entries(f))):[]}(v).map(ar=>new Map(ar));wn=function ed(T,f,v){if(v.size&&f.length){let A=f[0],L=[];if(v.forEach((ee,Ee)=>{A.has(Ee)||L.push(Ee),A.set(Ee,ee)}),L.length)for(let ee=1;ee<f.length;ee++){let Ee=f[ee];L.forEach(Le=>Ee.set(Le,hc(T,Le)))}}return f}(f,wn,Ct);const yr=function ol(T,f){let v=null,A=null;return Array.isArray(f)&&f.length?(v=Fc(f[0]),f.length>1&&(A=Fc(f[f.length-1]))):f instanceof Map&&(v=Fc(f)),v||A?new Dr(T,v,A):null}(f,wn);return new Cl(f,wn,lt,yr)}}const La="@.disabled";class ld{constructor(f,v,A,L){this.namespaceId=f,this.delegate=v,this.engine=A,this._onDestroy=L,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(f){this.delegate.destroyNode?.(f)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(f,v){return this.delegate.createElement(f,v)}createComment(f){return this.delegate.createComment(f)}createText(f){return this.delegate.createText(f)}appendChild(f,v){this.delegate.appendChild(f,v),this.engine.onInsert(this.namespaceId,v,f,!1)}insertBefore(f,v,A,L=!0){this.delegate.insertBefore(f,v,A),this.engine.onInsert(this.namespaceId,v,f,L)}removeChild(f,v,A){this.engine.onRemove(this.namespaceId,v,this.delegate)}selectRootElement(f,v){return this.delegate.selectRootElement(f,v)}parentNode(f){return this.delegate.parentNode(f)}nextSibling(f){return this.delegate.nextSibling(f)}setAttribute(f,v,A,L){this.delegate.setAttribute(f,v,A,L)}removeAttribute(f,v,A){this.delegate.removeAttribute(f,v,A)}addClass(f,v){this.delegate.addClass(f,v)}removeClass(f,v){this.delegate.removeClass(f,v)}setStyle(f,v,A,L){this.delegate.setStyle(f,v,A,L)}removeStyle(f,v,A){this.delegate.removeStyle(f,v,A)}setProperty(f,v,A){"@"==v.charAt(0)&&v==La?this.disableAnimations(f,!!A):this.delegate.setProperty(f,v,A)}setValue(f,v){this.delegate.setValue(f,v)}listen(f,v,A){return this.delegate.listen(f,v,A)}disableAnimations(f,v){this.engine.disableAnimations(f,v)}}class Hl extends ld{constructor(f,v,A,L,ee){super(v,A,L,ee),this.factory=f,this.namespaceId=v}setProperty(f,v,A){"@"==v.charAt(0)?"."==v.charAt(1)&&v==La?this.disableAnimations(f,A=void 0===A||!!A):this.engine.process(this.namespaceId,f,v.slice(1),A):this.delegate.setProperty(f,v,A)}listen(f,v,A){if("@"==v.charAt(0)){const L=function Zs(T){switch(T){case"body":return document.body;case"document":return document;case"window":return window;default:return T}}(f);let ee=v.slice(1),Ee="";return"@"!=ee.charAt(0)&&([ee,Ee]=function va(T){const f=T.indexOf(".");return[T.substring(0,f),T.slice(f+1)]}(ee)),this.engine.listen(this.namespaceId,L,ee,Ee,Le=>{this.factory.scheduleListenerCallback(Le._data||-1,A,Le)})}return this.delegate.listen(f,v,A)}}class fr{constructor(f,v,A){this.delegate=f,this.engine=v,this._zone=A,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,v.onRemovalComplete=(L,ee)=>{const Ee=ee?.parentNode(L);Ee&&ee.removeChild(Ee,L)}}createRenderer(f,v){const L=this.delegate.createRenderer(f,v);if(!f||!v?.data?.animation){const Ct=this._rendererCache;let gn=Ct.get(L);return gn||(gn=new ld("",L,this.engine,()=>Ct.delete(L)),Ct.set(L,gn)),gn}const ee=v.id,Ee=v.id+"-"+this._currentId;this._currentId++,this.engine.register(Ee,f);const Le=Ct=>{Array.isArray(Ct)?Ct.forEach(Le):this.engine.registerTrigger(ee,Ee,f,Ct.name,Ct)};return v.data.animation.forEach(Le),new Hl(this,Ee,L,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(f,v,A){if(f>=0&&f<this._microtaskId)return void this._zone.run(()=>v(A));const L=this._animationCallbacksBuffer;0==L.length&&queueMicrotask(()=>{this._zone.run(()=>{L.forEach(ee=>{const[Ee,Le]=ee;Ee(Le)}),this._animationCallbacksBuffer=[]})}),L.push([v,A])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var au=k(177);const yc=[{provide:ml,useFactory:function Js(){return new ao}},{provide:es,useClass:(()=>{class T extends es{constructor(v,A,L){super(v,A,L)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(A){return new(A||T)(me.KVO(au.qQ),me.KVO(Ma),me.KVO(ml))};static#t=this.\u0275prov=me.jDH({token:T,factory:T.\u0275fac})}return T})()},{provide:me._9s,useFactory:function zl(T,f,v){return new fr(T,f,v)},deps:[l.B7,es,me.SKi]}],Qi=[{provide:Ma,useFactory:()=>new ps},{provide:me.bc$,useValue:"BrowserAnimations"},...yc],Ru=[{provide:Ma,useClass:Us},{provide:me.bc$,useValue:"NoopAnimations"},...yc];let As=(()=>{class T{static withConfig(v){return{ngModule:T,providers:v.disableAnimations?Ru:Qi}}static#e=this.\u0275fac=function(A){return new(A||T)};static#t=this.\u0275mod=me.$C({type:T});static#n=this.\u0275inj=me.G2t({providers:Qi,imports:[l.Bb]})}return T})();var cd=k(6554),Fa=k(9942);let Pu=(()=>{class T{constructor(){Fa.IW.initialize({testingDevices:[],initializeForTesting:!0})}static#e=this.\u0275fac=function(A){return new(A||T)};static#t=this.\u0275mod=me.$C({type:T,bootstrap:[Ae]});static#n=this.\u0275inj=me.G2t({providers:[{provide:U.b,useClass:Te.jM}],imports:[l.Bb,tc.YN,cd.PO.forRoot(),tc.X1,As,ie.bv.forRoot(),Ke.bf.initializeApp(Pl_firebase),Me.cM,Jc,$e]})}return T})();l.sG().bootstrapModule(Pu).catch(T=>console.log(T))},4412:(_n,vt,k)=>{"use strict";k.d(vt,{t:()=>U});var l=k(1413);class U extends l.B{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const me=super._subscribe(ie);return!me.closed&&ie.next(this._value),me}getValue(){const{hasError:ie,thrownError:me,_value:Ae}=this;if(ie)throw me;return this._throwIfClosed(),Ae}next(ie){super.next(this._value=ie)}}},1985:(_n,vt,k)=>{"use strict";k.d(vt,{c:()=>$e});var l=k(7707),U=k(8359),Te=k(3494),ie=k(1203),me=k(1026),Ae=k(8071),Oe=k(9786);let $e=(()=>{class Be{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const ct=new Be;return ct.source=this,ct.operator=Ue,ct}subscribe(Ue,ct,ut){const st=function le(Be){return Be&&Be instanceof l.vU||function Me(Be){return Be&&(0,Ae.T)(Be.next)&&(0,Ae.T)(Be.error)&&(0,Ae.T)(Be.complete)}(Be)&&(0,U.Uv)(Be)}(Ue)?Ue:new l.Ms(Ue,ct,ut);return(0,Oe.Y)(()=>{const{operator:Ze,source:wt}=this;st.add(Ze?Ze.call(st,wt):wt?this._subscribe(st):this._trySubscribe(st))}),st}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(ct){Ue.error(ct)}}forEach(Ue,ct){return new(ct=Ke(ct))((ut,st)=>{const Ze=new l.Ms({next:wt=>{try{Ue(wt)}catch(yt){st(yt),Ze.unsubscribe()}},error:st,complete:ut});this.subscribe(Ze)})}_subscribe(Ue){var ct;return null===(ct=this.source)||void 0===ct?void 0:ct.subscribe(Ue)}[Te.s](){return this}pipe(...Ue){return(0,ie.m)(Ue)(this)}toPromise(Ue){return new(Ue=Ke(Ue))((ct,ut)=>{let st;this.subscribe(Ze=>st=Ze,Ze=>ut(Ze),()=>ct(st))})}}return Be.create=je=>new Be(je),Be})();function Ke(Be){var je;return null!==(je=Be??me.$.Promise)&&void 0!==je?je:Promise}},1413:(_n,vt,k)=>{"use strict";k.d(vt,{B:()=>Oe});var l=k(1985),U=k(8359);const ie=(0,k(1853).L)(Ke=>function(){Ke(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=k(7908),Ae=k(9786);let Oe=(()=>{class Ke extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Be=new $e(this,this);return Be.operator=le,Be}_throwIfClosed(){if(this.closed)throw new ie}next(le){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Be of this.currentObservers)Be.next(le)}})}error(le){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Be}=this;for(;Be.length;)Be.shift().error(le)}})}complete(){(0,Ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Be,isStopped:je,observers:Ue}=this;return Be||je?U.Kn:(this.currentObservers=null,Ue.push(le),new U.yU(()=>{this.currentObservers=null,(0,me.o)(Ue,le)}))}_checkFinalizedStatuses(le){const{hasError:Be,thrownError:je,isStopped:Ue}=this;Be?le.error(je):Ue&&le.complete()}asObservable(){const le=new l.c;return le.source=this,le}}return Ke.create=(Me,le)=>new $e(Me,le),Ke})();class $e extends Oe{constructor(Me,le){super(),this.destination=Me,this.source=le}next(Me){var le,Be;null===(Be=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Be||Be.call(le,Me)}error(Me){var le,Be;null===(Be=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Be||Be.call(le,Me)}complete(){var Me,le;null===(le=null===(Me=this.destination)||void 0===Me?void 0:Me.complete)||void 0===le||le.call(Me)}_subscribe(Me){var le,Be;return null!==(Be=null===(le=this.source)||void 0===le?void 0:le.subscribe(Me))&&void 0!==Be?Be:U.Kn}}},7707:(_n,vt,k)=>{"use strict";k.d(vt,{Ms:()=>ut,vU:()=>Be});var l=k(8071),U=k(8359),Te=k(1026),ie=k(5334),me=k(5343);const Ae=Ke("C",void 0,void 0);function Ke(it,Re,_e){return{kind:it,value:Re,error:_e}}var Me=k(9270),le=k(9786);class Be extends U.yU{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,U.Uv)(Re)&&Re.add(this)):this.destination=yt}static create(Re,_e,et){return new ut(Re,_e,et)}next(Re){this.isStopped?wt(function $e(it){return Ke("N",it,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?wt(function Oe(it){return Ke("E",void 0,it)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?wt(Ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Ue(it,Re){return je.call(it,Re)}class ct{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:_e}=this;if(_e.next)try{_e.next(Re)}catch(et){st(et)}}error(Re){const{partialObserver:_e}=this;if(_e.error)try{_e.error(Re)}catch(et){st(et)}else st(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(_e){st(_e)}}}class ut extends Be{constructor(Re,_e,et){let at;if(super(),(0,l.T)(Re)||!Re)at={next:Re??void 0,error:_e??void 0,complete:et??void 0};else{let ze;this&&Te.$.useDeprecatedNextContext?(ze=Object.create(Re),ze.unsubscribe=()=>this.unsubscribe(),at={next:Re.next&&Ue(Re.next,ze),error:Re.error&&Ue(Re.error,ze),complete:Re.complete&&Ue(Re.complete,ze)}):at=Re}this.destination=new ct(at)}}function st(it){Te.$.useDeprecatedSynchronousErrorHandling?(0,le.l)(it):(0,ie.m)(it)}function wt(it,Re){const{onStoppedNotification:_e}=Te.$;_e&&Me.f.setTimeout(()=>_e(it,Re))}const yt={closed:!0,next:me.l,error:function Ze(it){throw it},complete:me.l}},8359:(_n,vt,k)=>{"use strict";k.d(vt,{Kn:()=>Ae,yU:()=>me,Uv:()=>Oe});var l=k(8071);const Te=(0,k(1853).L)(Ke=>function(le){Ke(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Be,je)=>`${je+1}) ${Be.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var ie=k(7908);class me{constructor(Me){this.initialTeardown=Me,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Me;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const Ue of le)Ue.remove(this);else le.remove(this);const{initialTeardown:Be}=this;if((0,l.T)(Be))try{Be()}catch(Ue){Me=Ue instanceof Te?Ue.errors:[Ue]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Ue of je)try{$e(Ue)}catch(ct){Me=Me??[],ct instanceof Te?Me=[...Me,...ct.errors]:Me.push(ct)}}if(Me)throw new Te(Me)}}add(Me){var le;if(Me&&Me!==this)if(this.closed)$e(Me);else{if(Me instanceof me){if(Me.closed||Me._hasParent(this))return;Me._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(Me)}}_hasParent(Me){const{_parentage:le}=this;return le===Me||Array.isArray(le)&&le.includes(Me)}_addParent(Me){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(Me),le):le?[le,Me]:Me}_removeParent(Me){const{_parentage:le}=this;le===Me?this._parentage=null:Array.isArray(le)&&(0,ie.o)(le,Me)}remove(Me){const{_finalizers:le}=this;le&&(0,ie.o)(le,Me),Me instanceof me&&Me._removeParent(this)}}me.EMPTY=(()=>{const Ke=new me;return Ke.closed=!0,Ke})();const Ae=me.EMPTY;function Oe(Ke){return Ke instanceof me||Ke&&"closed"in Ke&&(0,l.T)(Ke.remove)&&(0,l.T)(Ke.add)&&(0,l.T)(Ke.unsubscribe)}function $e(Ke){(0,l.T)(Ke)?Ke():Ke.unsubscribe()}},1026:(_n,vt,k)=>{"use strict";k.d(vt,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(_n,vt,k)=>{"use strict";k.d(vt,{z:()=>Me});var l=k(1985),U=k(3073),Te=k(8455),ie=k(3669),me=k(6450),Ae=k(3794),Oe=k(8496),$e=k(4360),Ke=k(5225);function Me(...je){const Ue=(0,Ae.lI)(je),ct=(0,Ae.ms)(je),{args:ut,keys:st}=(0,U.D)(je);if(0===ut.length)return(0,Te.H)([],Ue);const Ze=new l.c(function le(je,Ue,ct=ie.D){return ut=>{Be(Ue,()=>{const{length:st}=je,Ze=new Array(st);let wt=st,yt=st;for(let it=0;it<st;it++)Be(Ue,()=>{const Re=(0,Te.H)(je[it],Ue);let _e=!1;Re.subscribe((0,$e._)(ut,et=>{Ze[it]=et,_e||(_e=!0,yt--),yt||ut.next(ct(Ze.slice()))},()=>{--wt||ut.complete()}))},ut)},ut)}}(ut,Ue,st?wt=>(0,Oe.e)(st,wt):ie.D));return ct?Ze.pipe((0,me.I)(ct)):Ze}function Be(je,Ue,ct){je?(0,Ke.N)(ct,je,Ue):Ue()}},8793:(_n,vt,k)=>{"use strict";k.d(vt,{x:()=>me});var l=k(6365),Te=k(3794),ie=k(8455);function me(...Ae){return function U(){return(0,l.U)(1)}()((0,ie.H)(Ae,(0,Te.lI)(Ae)))}},983:(_n,vt,k)=>{"use strict";k.d(vt,{w:()=>U});const U=new(k(1985).c)(me=>me.complete())},8455:(_n,vt,k)=>{"use strict";k.d(vt,{H:()=>Re});var l=k(8750),U=k(941),Te=k(6745),Ae=k(1985),$e=k(4761),Ke=k(8071),Me=k(5225);function Be(_e,et){if(!_e)throw new Error("Iterable cannot be null");return new Ae.c(at=>{(0,Me.N)(at,et,()=>{const ze=_e[Symbol.asyncIterator]();(0,Me.N)(at,et,()=>{ze.next().then(Nt=>{Nt.done?at.complete():at.next(Nt.value)})},0,!0)})})}var je=k(5055),Ue=k(9858),ct=k(7441),ut=k(5397),st=k(7953),Ze=k(591),wt=k(5196);function Re(_e,et){return et?function it(_e,et){if(null!=_e){if((0,je.l)(_e))return function ie(_e,et){return(0,l.Tg)(_e).pipe((0,Te._)(et),(0,U.Q)(et))}(_e,et);if((0,ct.X)(_e))return function Oe(_e,et){return new Ae.c(at=>{let ze=0;return et.schedule(function(){ze===_e.length?at.complete():(at.next(_e[ze++]),at.closed||this.schedule())})})}(_e,et);if((0,Ue.y)(_e))return function me(_e,et){return(0,l.Tg)(_e).pipe((0,Te._)(et),(0,U.Q)(et))}(_e,et);if((0,st.T)(_e))return Be(_e,et);if((0,ut.x)(_e))return function le(_e,et){return new Ae.c(at=>{let ze;return(0,Me.N)(at,et,()=>{ze=_e[$e.l](),(0,Me.N)(at,et,()=>{let Nt,ke;try{({value:Nt,done:ke}=ze.next())}catch(mt){return void at.error(mt)}ke?at.complete():at.next(Nt)},0,!0)}),()=>(0,Ke.T)(ze?.return)&&ze.return()})}(_e,et);if((0,wt.U)(_e))return function yt(_e,et){return Be((0,wt.C)(_e),et)}(_e,et)}throw(0,Ze.L)(_e)}(_e,et):(0,l.Tg)(_e)}},3726:(_n,vt,k)=>{"use strict";k.d(vt,{R:()=>Me});var l=k(8750),U=k(1985),Te=k(1397),ie=k(7441),me=k(8071),Ae=k(6450);const Oe=["addListener","removeListener"],$e=["addEventListener","removeEventListener"],Ke=["on","off"];function Me(ct,ut,st,Ze){if((0,me.T)(st)&&(Ze=st,st=void 0),Ze)return Me(ct,ut,st).pipe((0,Ae.I)(Ze));const[wt,yt]=function Ue(ct){return(0,me.T)(ct.addEventListener)&&(0,me.T)(ct.removeEventListener)}(ct)?$e.map(it=>Re=>ct[it](ut,Re,st)):function Be(ct){return(0,me.T)(ct.addListener)&&(0,me.T)(ct.removeListener)}(ct)?Oe.map(le(ct,ut)):function je(ct){return(0,me.T)(ct.on)&&(0,me.T)(ct.off)}(ct)?Ke.map(le(ct,ut)):[];if(!wt&&(0,ie.X)(ct))return(0,Te.Z)(it=>Me(it,ut,st))((0,l.Tg)(ct));if(!wt)throw new TypeError("Invalid event target");return new U.c(it=>{const Re=(..._e)=>it.next(1<_e.length?_e:_e[0]);return wt(Re),()=>yt(Re)})}function le(ct,ut){return st=>Ze=>ct[st](ut,Ze)}},8750:(_n,vt,k)=>{"use strict";k.d(vt,{Tg:()=>je});var l=k(1635),U=k(7441),Te=k(9858),ie=k(1985),me=k(5055),Ae=k(7953),Oe=k(591),$e=k(5397),Ke=k(5196),Me=k(8071),le=k(5334),Be=k(3494);function je(it){if(it instanceof ie.c)return it;if(null!=it){if((0,me.l)(it))return function Ue(it){return new ie.c(Re=>{const _e=it[Be.s]();if((0,Me.T)(_e.subscribe))return _e.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(it);if((0,U.X)(it))return function ct(it){return new ie.c(Re=>{for(let _e=0;_e<it.length&&!Re.closed;_e++)Re.next(it[_e]);Re.complete()})}(it);if((0,Te.y)(it))return function ut(it){return new ie.c(Re=>{it.then(_e=>{Re.closed||(Re.next(_e),Re.complete())},_e=>Re.error(_e)).then(null,le.m)})}(it);if((0,Ae.T)(it))return Ze(it);if((0,$e.x)(it))return function st(it){return new ie.c(Re=>{for(const _e of it)if(Re.next(_e),Re.closed)return;Re.complete()})}(it);if((0,Ke.U)(it))return function wt(it){return Ze((0,Ke.C)(it))}(it)}throw(0,Oe.L)(it)}function Ze(it){return new ie.c(Re=>{(function yt(it,Re){var _e,et,at,ze;return(0,l.sH)(this,void 0,void 0,function*(){try{for(_e=(0,l.xN)(it);!(et=yield _e.next()).done;)if(Re.next(et.value),Re.closed)return}catch(Nt){at={error:Nt}}finally{try{et&&!et.done&&(ze=_e.return)&&(yield ze.call(_e))}finally{if(at)throw at.error}}Re.complete()})})(it,Re).catch(_e=>Re.error(_e))})}},7673:(_n,vt,k)=>{"use strict";k.d(vt,{of:()=>Te});var l=k(3794),U=k(8455);function Te(...ie){const me=(0,l.lI)(ie);return(0,U.H)(ie,me)}},4360:(_n,vt,k)=>{"use strict";k.d(vt,{_:()=>U});var l=k(7707);function U(ie,me,Ae,Oe,$e){return new Te(ie,me,Ae,Oe,$e)}class Te extends l.vU{constructor(me,Ae,Oe,$e,Ke,Me){super(me),this.onFinalize=Ke,this.shouldUnsubscribe=Me,this._next=Ae?function(le){try{Ae(le)}catch(Be){me.error(Be)}}:super._next,this._error=$e?function(le){try{$e(le)}catch(Be){me.error(Be)}finally{this.unsubscribe()}}:super._error,this._complete=Oe?function(){try{Oe()}catch(le){me.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ae}=this;super.unsubscribe(),!Ae&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},9901:(_n,vt,k)=>{"use strict";k.d(vt,{U:()=>Te});var l=k(9974),U=k(4360);function Te(ie){return(0,l.N)((me,Ae)=>{let Oe=!1;me.subscribe((0,U._)(Ae,$e=>{Oe=!0,Ae.next($e)},()=>{Oe||Ae.next(ie),Ae.complete()}))})}},3294:(_n,vt,k)=>{"use strict";k.d(vt,{F:()=>ie});var l=k(3669),U=k(9974),Te=k(4360);function ie(Ae,Oe=l.D){return Ae=Ae??me,(0,U.N)(($e,Ke)=>{let Me,le=!0;$e.subscribe((0,Te._)(Ke,Be=>{const je=Oe(Be);(le||!Ae(Me,je))&&(le=!1,Me=je,Ke.next(Be))}))})}function me(Ae,Oe){return Ae===Oe}},5964:(_n,vt,k)=>{"use strict";k.d(vt,{p:()=>Te});var l=k(9974),U=k(4360);function Te(ie,me){return(0,l.N)((Ae,Oe)=>{let $e=0;Ae.subscribe((0,U._)(Oe,Ke=>ie.call(me,Ke,$e++)&&Oe.next(Ke)))})}},1594:(_n,vt,k)=>{"use strict";k.d(vt,{$:()=>Oe});var l=k(9350),U=k(5964),Te=k(6697),ie=k(9901),me=k(3774),Ae=k(3669);function Oe($e,Ke){const Me=arguments.length>=2;return le=>le.pipe($e?(0,U.p)((Be,je)=>$e(Be,je,le)):Ae.D,(0,Te.s)(1),Me?(0,ie.U)(Ke):(0,me.v)(()=>new l.G))}},6354:(_n,vt,k)=>{"use strict";k.d(vt,{T:()=>Te});var l=k(9974),U=k(4360);function Te(ie,me){return(0,l.N)((Ae,Oe)=>{let $e=0;Ae.subscribe((0,U._)(Oe,Ke=>{Oe.next(ie.call(me,Ke,$e++))}))})}},6365:(_n,vt,k)=>{"use strict";k.d(vt,{U:()=>Te});var l=k(1397),U=k(3669);function Te(ie=1/0){return(0,l.Z)(U.D,ie)}},1397:(_n,vt,k)=>{"use strict";k.d(vt,{Z:()=>$e});var l=k(6354),U=k(8750),Te=k(9974),ie=k(5225),me=k(4360),Oe=k(8071);function $e(Ke,Me,le=1/0){return(0,Oe.T)(Me)?$e((Be,je)=>(0,l.T)((Ue,ct)=>Me(Be,Ue,je,ct))((0,U.Tg)(Ke(Be,je))),le):("number"==typeof Me&&(le=Me),(0,Te.N)((Be,je)=>function Ae(Ke,Me,le,Be,je,Ue,ct,ut){const st=[];let Ze=0,wt=0,yt=!1;const it=()=>{yt&&!st.length&&!Ze&&Me.complete()},Re=et=>Ze<Be?_e(et):st.push(et),_e=et=>{Ue&&Me.next(et),Ze++;let at=!1;(0,U.Tg)(le(et,wt++)).subscribe((0,me._)(Me,ze=>{je?.(ze),Ue?Re(ze):Me.next(ze)},()=>{at=!0},void 0,()=>{if(at)try{for(Ze--;st.length&&Ze<Be;){const ze=st.shift();ct?(0,ie.N)(Me,ct,()=>_e(ze)):_e(ze)}it()}catch(ze){Me.error(ze)}}))};return Ke.subscribe((0,me._)(Me,Re,()=>{yt=!0,it()})),()=>{ut?.()}}(Be,je,Ke,le)))}},941:(_n,vt,k)=>{"use strict";k.d(vt,{Q:()=>ie});var l=k(5225),U=k(9974),Te=k(4360);function ie(me,Ae=0){return(0,U.N)((Oe,$e)=>{Oe.subscribe((0,Te._)($e,Ke=>(0,l.N)($e,me,()=>$e.next(Ke),Ae),()=>(0,l.N)($e,me,()=>$e.complete(),Ae),Ke=>(0,l.N)($e,me,()=>$e.error(Ke),Ae)))})}},2816:(_n,vt,k)=>{"use strict";k.d(vt,{S:()=>ie});var l=k(9974),U=k(4360);function ie(me,Ae){return(0,l.N)(function Te(me,Ae,Oe,$e,Ke){return(Me,le)=>{let Be=Oe,je=Ae,Ue=0;Me.subscribe((0,U._)(le,ct=>{const ut=Ue++;je=Be?me(je,ct,ut):(Be=!0,ct),$e&&le.next(je)},Ke&&(()=>{Be&&le.next(je),le.complete()})))}}(me,Ae,arguments.length>=2,!0))}},9172:(_n,vt,k)=>{"use strict";k.d(vt,{Z:()=>ie});var l=k(8793),U=k(3794),Te=k(9974);function ie(...me){const Ae=(0,U.lI)(me);return(0,Te.N)((Oe,$e)=>{(Ae?(0,l.x)(me,Oe,Ae):(0,l.x)(me,Oe)).subscribe($e)})}},6745:(_n,vt,k)=>{"use strict";k.d(vt,{_:()=>U});var l=k(9974);function U(Te,ie=0){return(0,l.N)((me,Ae)=>{Ae.add(Te.schedule(()=>me.subscribe(Ae),ie))})}},5558:(_n,vt,k)=>{"use strict";k.d(vt,{n:()=>ie});var l=k(8750),U=k(9974),Te=k(4360);function ie(me,Ae){return(0,U.N)((Oe,$e)=>{let Ke=null,Me=0,le=!1;const Be=()=>le&&!Ke&&$e.complete();Oe.subscribe((0,Te._)($e,je=>{Ke?.unsubscribe();let Ue=0;const ct=Me++;(0,l.Tg)(me(je,ct)).subscribe(Ke=(0,Te._)($e,ut=>$e.next(Ae?Ae(je,ut,ct,Ue++):ut),()=>{Ke=null,Be()}))},()=>{le=!0,Be()}))})}},6697:(_n,vt,k)=>{"use strict";k.d(vt,{s:()=>ie});var l=k(983),U=k(9974),Te=k(4360);function ie(me){return me<=0?()=>l.w:(0,U.N)((Ae,Oe)=>{let $e=0;Ae.subscribe((0,Te._)(Oe,Ke=>{++$e<=me&&(Oe.next(Ke),me<=$e&&Oe.complete())}))})}},8141:(_n,vt,k)=>{"use strict";k.d(vt,{M:()=>me});var l=k(8071),U=k(9974),Te=k(4360),ie=k(3669);function me(Ae,Oe,$e){const Ke=(0,l.T)(Ae)||Oe||$e?{next:Ae,error:Oe,complete:$e}:Ae;return Ke?(0,U.N)((Me,le)=>{var Be;null===(Be=Ke.subscribe)||void 0===Be||Be.call(Ke);let je=!0;Me.subscribe((0,Te._)(le,Ue=>{var ct;null===(ct=Ke.next)||void 0===ct||ct.call(Ke,Ue),le.next(Ue)},()=>{var Ue;je=!1,null===(Ue=Ke.complete)||void 0===Ue||Ue.call(Ke),le.complete()},Ue=>{var ct;je=!1,null===(ct=Ke.error)||void 0===ct||ct.call(Ke,Ue),le.error(Ue)},()=>{var Ue,ct;je&&(null===(Ue=Ke.unsubscribe)||void 0===Ue||Ue.call(Ke)),null===(ct=Ke.finalize)||void 0===ct||ct.call(Ke)}))}):ie.D}},3774:(_n,vt,k)=>{"use strict";k.d(vt,{v:()=>ie});var l=k(9350),U=k(9974),Te=k(4360);function ie(Ae=me){return(0,U.N)((Oe,$e)=>{let Ke=!1;Oe.subscribe((0,Te._)($e,Me=>{Ke=!0,$e.next(Me)},()=>Ke?$e.complete():$e.error(Ae())))})}function me(){return new l.G}},6780:(_n,vt,k)=>{"use strict";k.d(vt,{R:()=>me});var l=k(8359);class U extends l.yU{constructor(Oe,$e){super()}schedule(Oe,$e=0){return this}}const Te={setInterval(Ae,Oe,...$e){const{delegate:Ke}=Te;return Ke?.setInterval?Ke.setInterval(Ae,Oe,...$e):setInterval(Ae,Oe,...$e)},clearInterval(Ae){const{delegate:Oe}=Te;return(Oe?.clearInterval||clearInterval)(Ae)},delegate:void 0};var ie=k(7908);class me extends U{constructor(Oe,$e){super(Oe,$e),this.scheduler=Oe,this.work=$e,this.pending=!1}schedule(Oe,$e=0){var Ke;if(this.closed)return this;this.state=Oe;const Me=this.id,le=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(le,Me,$e)),this.pending=!0,this.delay=$e,this.id=null!==(Ke=this.id)&&void 0!==Ke?Ke:this.requestAsyncId(le,this.id,$e),this}requestAsyncId(Oe,$e,Ke=0){return Te.setInterval(Oe.flush.bind(Oe,this),Ke)}recycleAsyncId(Oe,$e,Ke=0){if(null!=Ke&&this.delay===Ke&&!1===this.pending)return $e;null!=$e&&Te.clearInterval($e)}execute(Oe,$e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ke=this._execute(Oe,$e);if(Ke)return Ke;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Oe,$e){let Me,Ke=!1;try{this.work(Oe)}catch(le){Ke=!0,Me=le||new Error("Scheduled action threw falsy error")}if(Ke)return this.unsubscribe(),Me}unsubscribe(){if(!this.closed){const{id:Oe,scheduler:$e}=this,{actions:Ke}=$e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.o)(Ke,this),null!=Oe&&(this.id=this.recycleAsyncId($e,Oe,null)),this.delay=null,super.unsubscribe()}}}},9687:(_n,vt,k)=>{"use strict";k.d(vt,{q:()=>Te});var l=k(6129);class U{constructor(me,Ae=U.now){this.schedulerActionCtor=me,this.now=Ae}schedule(me,Ae=0,Oe){return new this.schedulerActionCtor(this,me).schedule(Oe,Ae)}}U.now=l.U.now;class Te extends U{constructor(me,Ae=U.now){super(me,Ae),this.actions=[],this._active=!1}flush(me){const{actions:Ae}=this;if(this._active)return void Ae.push(me);let Oe;this._active=!0;do{if(Oe=me.execute(me.state,me.delay))break}while(me=Ae.shift());if(this._active=!1,Oe){for(;me=Ae.shift();)me.unsubscribe();throw Oe}}}},3236:(_n,vt,k)=>{"use strict";k.d(vt,{E:()=>Te});var l=k(6780);const Te=new(k(9687).q)(l.R)},6129:(_n,vt,k)=>{"use strict";k.d(vt,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(_n,vt,k)=>{"use strict";k.d(vt,{f:()=>l});const l={setTimeout(U,Te,...ie){const{delegate:me}=l;return me?.setTimeout?me.setTimeout(U,Te,...ie):setTimeout(U,Te,...ie)},clearTimeout(U){const{delegate:Te}=l;return(Te?.clearTimeout||clearTimeout)(U)},delegate:void 0}},4761:(_n,vt,k)=>{"use strict";k.d(vt,{l:()=>U});const U=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(_n,vt,k)=>{"use strict";k.d(vt,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(_n,vt,k)=>{"use strict";k.d(vt,{G:()=>U});const U=(0,k(1853).L)(Te=>function(){Te(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(_n,vt,k)=>{"use strict";k.d(vt,{R0:()=>Ae,ms:()=>ie,lI:()=>me});var l=k(8071);function Te(Oe){return Oe[Oe.length-1]}function ie(Oe){return(0,l.T)(Te(Oe))?Oe.pop():void 0}function me(Oe){return function U(Oe){return Oe&&(0,l.T)(Oe.schedule)}(Te(Oe))?Oe.pop():void 0}function Ae(Oe,$e){return"number"==typeof Te(Oe)?Oe.pop():$e}},3073:(_n,vt,k)=>{"use strict";k.d(vt,{D:()=>me});const{isArray:l}=Array,{getPrototypeOf:U,prototype:Te,keys:ie}=Object;function me(Oe){if(1===Oe.length){const $e=Oe[0];if(l($e))return{args:$e,keys:null};if(function Ae(Oe){return Oe&&"object"==typeof Oe&&U(Oe)===Te}($e)){const Ke=ie($e);return{args:Ke.map(Me=>$e[Me]),keys:Ke}}}return{args:Oe,keys:null}}},7908:(_n,vt,k)=>{"use strict";function l(U,Te){if(U){const ie=U.indexOf(Te);0<=ie&&U.splice(ie,1)}}k.d(vt,{o:()=>l})},1853:(_n,vt,k)=>{"use strict";function l(U){const ie=U(me=>{Error.call(me),me.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}k.d(vt,{L:()=>l})},8496:(_n,vt,k)=>{"use strict";function l(U,Te){return U.reduce((ie,me,Ae)=>(ie[me]=Te[Ae],ie),{})}k.d(vt,{e:()=>l})},9786:(_n,vt,k)=>{"use strict";k.d(vt,{Y:()=>Te,l:()=>ie});var l=k(1026);let U=null;function Te(me){if(l.$.useDeprecatedSynchronousErrorHandling){const Ae=!U;if(Ae&&(U={errorThrown:!1,error:null}),me(),Ae){const{errorThrown:Oe,error:$e}=U;if(U=null,Oe)throw $e}}else me()}function ie(me){l.$.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=me)}},5225:(_n,vt,k)=>{"use strict";function l(U,Te,ie,me=0,Ae=!1){const Oe=Te.schedule(function(){ie(),Ae?U.add(this.schedule(null,me)):this.unsubscribe()},me);if(U.add(Oe),!Ae)return Oe}k.d(vt,{N:()=>l})},3669:(_n,vt,k)=>{"use strict";function l(U){return U}k.d(vt,{D:()=>l})},7441:(_n,vt,k)=>{"use strict";k.d(vt,{X:()=>l});const l=U=>U&&"number"==typeof U.length&&"function"!=typeof U},7953:(_n,vt,k)=>{"use strict";k.d(vt,{T:()=>U});var l=k(8071);function U(Te){return Symbol.asyncIterator&&(0,l.T)(Te?.[Symbol.asyncIterator])}},8071:(_n,vt,k)=>{"use strict";function l(U){return"function"==typeof U}k.d(vt,{T:()=>l})},5055:(_n,vt,k)=>{"use strict";k.d(vt,{l:()=>Te});var l=k(3494),U=k(8071);function Te(ie){return(0,U.T)(ie[l.s])}},5397:(_n,vt,k)=>{"use strict";k.d(vt,{x:()=>Te});var l=k(4761),U=k(8071);function Te(ie){return(0,U.T)(ie?.[l.l])}},9858:(_n,vt,k)=>{"use strict";k.d(vt,{y:()=>U});var l=k(8071);function U(Te){return(0,l.T)(Te?.then)}},5196:(_n,vt,k)=>{"use strict";k.d(vt,{C:()=>Te,U:()=>ie});var l=k(1635),U=k(8071);function Te(me){return(0,l.AQ)(this,arguments,function*(){const Oe=me.getReader();try{for(;;){const{value:$e,done:Ke}=yield(0,l.N3)(Oe.read());if(Ke)return yield(0,l.N3)(void 0);yield yield(0,l.N3)($e)}}finally{Oe.releaseLock()}})}function ie(me){return(0,U.T)(me?.getReader)}},9974:(_n,vt,k)=>{"use strict";k.d(vt,{N:()=>Te,S:()=>U});var l=k(8071);function U(ie){return(0,l.T)(ie?.lift)}function Te(ie){return me=>{if(U(me))return me.lift(function(Ae){try{return ie(Ae,this)}catch(Oe){this.error(Oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(_n,vt,k)=>{"use strict";k.d(vt,{I:()=>ie});var l=k(6354);const{isArray:U}=Array;function ie(me){return(0,l.T)(Ae=>function Te(me,Ae){return U(Ae)?me(...Ae):me(Ae)}(me,Ae))}},5343:(_n,vt,k)=>{"use strict";function l(){}k.d(vt,{l:()=>l})},1203:(_n,vt,k)=>{"use strict";k.d(vt,{F:()=>U,m:()=>Te});var l=k(3669);function U(...ie){return Te(ie)}function Te(ie){return 0===ie.length?l.D:1===ie.length?ie[0]:function(Ae){return ie.reduce((Oe,$e)=>$e(Oe),Ae)}}},5334:(_n,vt,k)=>{"use strict";k.d(vt,{m:()=>Te});var l=k(1026),U=k(9270);function Te(ie){U.f.setTimeout(()=>{const{onUnhandledError:me}=l.$;if(!me)throw ie;me(ie)})}},591:(_n,vt,k)=>{"use strict";function l(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(vt,{L:()=>l})},8996:(_n,vt,k)=>{var l={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function U(Te){if(!k.o(l,Te))return Promise.resolve().then(()=>{var Ae=new Error("Cannot find module '"+Te+"'");throw Ae.code="MODULE_NOT_FOUND",Ae});var ie=l[Te],me=ie[0];return Promise.all(ie.slice(1).map(k.e)).then(()=>k(me))}U.keys=()=>Object.keys(l),U.id=8996,_n.exports=U},177:(_n,vt,k)=>{"use strict";k.d(vt,{AJ:()=>ft,MD:()=>pt,N0:()=>mr,QT:()=>Te,Sm:()=>ut,Sq:()=>Ur,T3:()=>Li,VF:()=>me,Vy:()=>Zt,Xr:()=>Cn,ZD:()=>ie,_b:()=>Ie,aZ:()=>Ze,bT:()=>Hi,fw:()=>st,hb:()=>Ue,hj:()=>Ke,qQ:()=>Oe});var l=k(3953);let U=null;function Te(){return U}function ie(R){U??=R}class me{}const Oe=new l.nKC("");let $e=(()=>{class R{historyGo(V){throw new Error("")}static#e=this.\u0275fac=function(Z){return new(Z||R)};static#t=this.\u0275prov=l.jDH({token:R,factory:()=>(0,l.WQX)(Me),providedIn:"platform"})}return R})();const Ke=new l.nKC("");let Me=(()=>{class R extends $e{constructor(){super(),this._doc=(0,l.WQX)(Oe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Te().getBaseHref(this._doc)}onPopState(V){const Z=Te().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",V,!1),()=>Z.removeEventListener("popstate",V)}onHashChange(V){const Z=Te().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",V,!1),()=>Z.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,Z,Ve){this._history.pushState(V,Z,Ve)}replaceState(V,Z,Ve){this._history.replaceState(V,Z,Ve)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}static#e=this.\u0275fac=function(Z){return new(Z||R)};static#t=this.\u0275prov=l.jDH({token:R,factory:()=>new R,providedIn:"platform"})}return R})();function le(R,oe){if(0==R.length)return oe;if(0==oe.length)return R;let V=0;return R.endsWith("/")&&V++,oe.startsWith("/")&&V++,2==V?R+oe.substring(1):1==V?R+oe:R+"/"+oe}function Be(R){const oe=R.match(/#|\?|$/),V=oe&&oe.index||R.length;return R.slice(0,V-("/"===R[V-1]?1:0))+R.slice(V)}function je(R){return R&&"?"!==R[0]?"?"+R:R}let Ue=(()=>{class R{historyGo(V){throw new Error("")}static#e=this.\u0275fac=function(Z){return new(Z||R)};static#t=this.\u0275prov=l.jDH({token:R,factory:()=>(0,l.WQX)(ut),providedIn:"root"})}return R})();const ct=new l.nKC("");let ut=(()=>{class R extends Ue{constructor(V,Z){super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return le(this._baseHref,V)}path(V=!1){const Z=this._platformLocation.pathname+je(this._platformLocation.search),Ve=this._platformLocation.hash;return Ve&&V?`${Z}${Ve}`:Z}pushState(V,Z,Ve,jt){const un=this.prepareExternalUrl(Ve+je(jt));this._platformLocation.pushState(V,Z,un)}replaceState(V,Z,Ve,jt){const un=this.prepareExternalUrl(Ve+je(jt));this._platformLocation.replaceState(V,Z,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(Z){return new(Z||R)(l.KVO($e),l.KVO(ct,8))};static#t=this.\u0275prov=l.jDH({token:R,factory:R.\u0275fac,providedIn:"root"})}return R})(),st=(()=>{class R extends Ue{constructor(V,Z){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){const Z=this._platformLocation.hash??"#";return Z.length>0?Z.substring(1):Z}prepareExternalUrl(V){const Z=le(this._baseHref,V);return Z.length>0?"#"+Z:Z}pushState(V,Z,Ve,jt){let un=this.prepareExternalUrl(Ve+je(jt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.pushState(V,Z,un)}replaceState(V,Z,Ve,jt){let un=this.prepareExternalUrl(Ve+je(jt));0==un.length&&(un=this._platformLocation.pathname),this._platformLocation.replaceState(V,Z,un)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){this._platformLocation.historyGo?.(V)}static#e=this.\u0275fac=function(Z){return new(Z||R)(l.KVO($e),l.KVO(ct,8))};static#t=this.\u0275prov=l.jDH({token:R,factory:R.\u0275fac})}return R})(),Ze=(()=>{class R{constructor(V){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const Z=this._locationStrategy.getBaseHref();this._basePath=function Re(R){if(new RegExp("^(https?:)?//").test(R)){const[,V]=R.split(/\/\/[^\/]+/);return V}return R}(Be(it(Z))),this._locationStrategy.onPopState(Ve=>{this._subject.emit({url:this.path(!0),pop:!0,state:Ve.state,type:Ve.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,Z=""){return this.path()==this.normalize(V+je(Z))}normalize(V){return R.stripTrailingSlash(function yt(R,oe){if(!R||!oe.startsWith(R))return oe;const V=oe.substring(R.length);return""===V||["/",";","?","#"].includes(V[0])?V:oe}(this._basePath,it(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,Z="",Ve=null){this._locationStrategy.pushState(Ve,"",V,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+je(Z)),Ve)}replaceState(V,Z="",Ve=null){this._locationStrategy.replaceState(Ve,"",V,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+je(Z)),Ve)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){this._locationStrategy.historyGo?.(V)}onUrlChange(V){return this._urlChangeListeners.push(V),this._urlChangeSubscription??=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)}),()=>{const Z=this._urlChangeListeners.indexOf(V);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",Z){this._urlChangeListeners.forEach(Ve=>Ve(V,Z))}subscribe(V,Z,Ve){return this._subject.subscribe({next:V,error:Z,complete:Ve})}static#e=this.normalizeQueryParams=je;static#t=this.joinWithSlash=le;static#n=this.stripTrailingSlash=Be;static#r=this.\u0275fac=function(Z){return new(Z||R)(l.KVO(Ue))};static#i=this.\u0275prov=l.jDH({token:R,factory:()=>function wt(){return new Ze((0,l.KVO)(Ue))}(),providedIn:"root"})}return R})();function it(R){return R.replace(/\/index.html$/,"")}function Ie(R,oe){oe=encodeURIComponent(oe);for(const V of R.split(";")){const Z=V.indexOf("="),[Ve,jt]=-1==Z?[V,""]:[V.slice(0,Z),V.slice(Z+1)];if(Ve.trim()===oe)return decodeURIComponent(jt)}return null}class Ri{constructor(oe,V,Z,Ve){this.$implicit=oe,this.ngForOf=V,this.index=Z,this.count=Ve}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ur=(()=>{class R{set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,Z,Ve){this._viewContainer=V,this._template=Z,this._differs=Ve,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const Z=this._viewContainer;V.forEachOperation((Ve,jt,un)=>{if(null==Ve.previousIndex)Z.createEmbeddedView(this._template,new Ri(Ve.item,this._ngForOf,-1,-1),null===un?void 0:un);else if(null==un)Z.remove(null===jt?void 0:jt);else if(null!==jt){const sn=Z.get(jt);Z.move(sn,un),Ui(sn,Ve)}});for(let Ve=0,jt=Z.length;Ve<jt;Ve++){const sn=Z.get(Ve).context;sn.index=Ve,sn.count=jt,sn.ngForOf=this._ngForOf}V.forEachIdentityChange(Ve=>{Ui(Z.get(Ve.currentIndex),Ve)})}static ngTemplateContextGuard(V,Z){return!0}static#e=this.\u0275fac=function(Z){return new(Z||R)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))};static#t=this.\u0275dir=l.FsC({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return R})();function Ui(R,oe){R.context.$implicit=oe.item}let Hi=(()=>{class R{constructor(V,Z){this._viewContainer=V,this._context=new bt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Bi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Bi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,Z){return!0}static#e=this.\u0275fac=function(Z){return new(Z||R)(l.rXU(l.c1b),l.rXU(l.C4Q))};static#t=this.\u0275dir=l.FsC({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return R})();class bt{constructor(){this.$implicit=null,this.ngIf=null}}function Bi(R,oe){if(oe&&!oe.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,l.Tbb)(oe)}'.`)}let Li=(()=>{class R{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(this._shouldRecreateView(V)){const Z=this._viewContainerRef;if(this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Ve=this._createContextForwardProxy();this._viewRef=Z.createEmbeddedView(this.ngTemplateOutlet,Ve,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(V){return!!V.ngTemplateOutlet||!!V.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(V,Z,Ve)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Z,Ve),get:(V,Z,Ve)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Z,Ve)}})}static#e=this.\u0275fac=function(Z){return new(Z||R)(l.rXU(l.c1b))};static#t=this.\u0275dir=l.FsC({type:R,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}return R})(),pt=(()=>{class R{static#e=this.\u0275fac=function(Z){return new(Z||R)};static#t=this.\u0275mod=l.$C({type:R});static#n=this.\u0275inj=l.G2t({})}return R})();const ft="browser",Yt="server";function Zt(R){return R===Yt}let Cn=(()=>{class R{static#e=this.\u0275prov=(0,l.jDH)({token:R,providedIn:"root",factory:()=>function tn(R){return R===ft}((0,l.WQX)(l.Agw))?new An((0,l.WQX)(Oe),window):new tr})}return R})();class An{constructor(oe,V){this.document=oe,this.window=V,this.offset=()=>[0,0]}setOffset(oe){this.offset=Array.isArray(oe)?()=>oe:oe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(oe){this.window.scrollTo(oe[0],oe[1])}scrollToAnchor(oe){const V=function rr(R,oe){const V=R.getElementById(oe)||R.getElementsByName(oe)[0];if(V)return V;if("function"==typeof R.createTreeWalker&&R.body&&"function"==typeof R.body.attachShadow){const Z=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ve=Z.currentNode;for(;Ve;){const jt=Ve.shadowRoot;if(jt){const un=jt.getElementById(oe)||jt.querySelector(`[name="${oe}"]`);if(un)return un}Ve=Z.nextNode()}}return null}(this.document,oe);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(oe){this.window.history.scrollRestoration=oe}scrollToElement(oe){const V=oe.getBoundingClientRect(),Z=V.left+this.window.pageXOffset,Ve=V.top+this.window.pageYOffset,jt=this.offset();this.window.scrollTo(Z-jt[0],Ve-jt[1])}}class tr{setOffset(oe){}getScrollPosition(){return[0,0]}scrollToPosition(oe){}scrollToAnchor(oe){}setHistoryScrollRestoration(oe){}}class mr{}},3953:(_n,vt,k)=>{"use strict";function l(e,n){return Object.is(e,n)}k.d(vt,{bc$:()=>cI,iLQ:()=>NE,sZ2:()=>rg,hnV:()=>OS,Hbi:()=>M1,o8S:()=>Yu,BIS:()=>Iw,gRc:()=>WS,Ql9:()=>n1,Ocv:()=>d1,Z63:()=>fo,aKT:()=>yd,uvJ:()=>Oo,zcH:()=>Kc,bkB:()=>ql,$GK:()=>Gr,nKC:()=>xr,zZn:()=>mo,_q3:()=>S0,MKu:()=>R0,xe9:()=>kE,Co$:()=>Fb,Vns:()=>wp,SKi:()=>to,Xx1:()=>ho,Agw:()=>Gm,PLl:()=>Yv,sFG:()=>BR,_9s:()=>sT,czy:()=>Ig,WPN:()=>ah,kdw:()=>Yo,C4Q:()=>sf,NYb:()=>Qx,giA:()=>MS,xvI:()=>wx,RxE:()=>CS,c1b:()=>lE,gXe:()=>Co,mal:()=>Jw,L39:()=>hk,EWP:()=>pk,a0P:()=>Ik,Ol2:()=>bT,w6W:()=>$P,oH4:()=>HS,Rfq:()=>io,WQX:()=>vn,naY:()=>m1,QuC:()=>Xi,fpN:()=>P1,HJs:()=>Tk,N4e:()=>Du,vPA:()=>_b,O8t:()=>gk,H3F:()=>wS,zAP:()=>_R,H8p:()=>id,KH2:()=>fm,TgB:()=>Xd,wOt:()=>en,WHO:()=>RS,e01:()=>PS,lNU:()=>Or,h9k:()=>ly,$MX:()=>mg,ZF7:()=>Jf,Kcf:()=>Vu,e5t:()=>n_,UyX:()=>Id,cWb:()=>ep,osQ:()=>vI,H5H:()=>YT,mq5:()=>UA,JZv:()=>Ti,LfX:()=>Xa,plB:()=>pf,jNT:()=>y0,zjR:()=>NS,TL$:()=>Xv,Tbb:()=>Ni,rcV:()=>Ed,Vt3:()=>TT,GFd:()=>Lb,OA$:()=>vc,Jv_:()=>YD,aNF:()=>ZD,R7$:()=>Zh,BMQ:()=>VT,AVh:()=>zT,wni:()=>CD,VBU:()=>W,FsC:()=>Dn,jDH:()=>kn,G2t:()=>zi,$C:()=>$t,EJ8:()=>Yn,rXU:()=>_u,nrm:()=>XT,eu8:()=>QT,bVm:()=>wE,qex:()=>CE,k0s:()=>TE,j41:()=>IE,RV6:()=>LA,xGo:()=>Pv,KVO:()=>Vr,kS0:()=>Nh,QTQ:()=>Jh,bIt:()=>e0,lsd:()=>AD,XpG:()=>dD,nI1:()=>oS,bMT:()=>aS,SdG:()=>fD,NAR:()=>hD,Y8G:()=>jT,mGM:()=>bD,Njj:()=>hd,eBV:()=>hu,B4B:()=>cy,n$t:()=>d_,DNE:()=>DT,EFF:()=>LD,JRh:()=>s0,GBs:()=>wD});let U=null,Te=!1,ie=1;const me=Symbol("SIGNAL");function Ae(e){const n=U;return U=e,n}const Me={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function le(e){if(Te)throw new Error("");if(null===U)return;U.consumerOnSignalRead(e);const n=U.nextProducerIndex++;et(U),n<U.producerNode.length&&U.producerNode[n]!==e&&_e(U)&&Re(U.producerNode[n],U.producerIndexOfThis[n]),U.producerNode[n]!==e&&(U.producerNode[n]=e,U.producerIndexOfThis[n]=_e(U)?it(e,U,n):0),U.producerLastReadVersion[n]=e.version}function je(e){if((!_e(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ie)){if(!e.producerMustRecompute(e)&&!wt(e))return e.dirty=!1,void(e.lastCleanEpoch=ie);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ie}}function Ue(e){if(void 0===e.liveConsumerNode)return;const n=Te;Te=!0;try{for(const r of e.liveConsumerNode)r.dirty||ut(r)}finally{Te=n}}function ct(){return!1!==U?.consumerAllowSignalWrites}function ut(e){e.dirty=!0,Ue(e),e.consumerMarkedDirty?.(e)}function st(e){return e&&(e.nextProducerIndex=0),Ae(e)}function Ze(e,n){if(Ae(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_e(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)Re(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function wt(e){et(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],s=e.producerLastReadVersion[n];if(s!==r.version||(je(r),s!==r.version))return!0}return!1}function yt(e){if(et(e),_e(e))for(let n=0;n<e.producerNode.length;n++)Re(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function it(e,n,r){if(at(e),0===e.liveConsumerNode.length&&ze(e))for(let s=0;s<e.producerNode.length;s++)e.producerIndexOfThis[s]=it(e.producerNode[s],e,s);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function Re(e,n){if(at(e),1===e.liveConsumerNode.length&&ze(e))for(let s=0;s<e.producerNode.length;s++)Re(e.producerNode[s],e.producerIndexOfThis[s]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const s=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];et(a),a.producerIndexOfThis[s]=n}}function _e(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function et(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function at(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function ze(e){return void 0!==e.producerNode}const ke=Symbol("UNSET"),mt=Symbol("COMPUTING"),Ye=Symbol("ERRORED"),Et={...Me,value:ke,dirty:!0,error:null,equal:l,producerMustRecompute:e=>e.value===ke||e.value===mt,producerRecomputeValue(e){if(e.value===mt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=mt;const r=st(e);let s;try{s=e.computation()}catch(a){s=Ye,e.error=a}finally{Ze(e,r)}n!==ke&&n!==Ye&&s!==Ye&&e.equal(n,s)?e.value=n:(e.value=s,e.version++)}};let rn=function It(){throw new Error};function Qe(){rn()}let q=null;function Tt(e,n){ct()||Qe(),e.equal(e.value,n)||(e.value=n,function Hn(e){e.version++,function Be(){ie++}(),Ue(e),q?.()}(e))}const an={...Me,equal:l,value:void 0};var Zn=k(4412),pr=k(1413),Gn=k(8359),dn=k(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Or="https://g.co/ng/security#xss";class en extends Error{constructor(n,r){super(function Pi(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,r)),this.code=n}}function _o(e){return{toString:e}.toString()}const Xr="__parameters__";function ds(e,n,r){return _o(()=>{const s=function Fs(e){return function(...r){if(e){const s=e(...r);for(const a in s)this[a]=s[a]}}}(n);function a(...d){if(this instanceof a)return s.apply(this,d),this;const m=new a(...d);return I.annotation=m,I;function I(D,B,X){const ye=D.hasOwnProperty(Xr)?D[Xr]:Object.defineProperty(D,Xr,{value:[]})[Xr];for(;ye.length<=X;)ye.push(null);return(ye[X]=ye[X]||[]).push(m),D}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Ti=globalThis;function ii(e){for(let n in e)if(e[n]===ii)return n;throw Error("Could not find renamed property on target object.")}function Ps(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Ni(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ni).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function ws(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Go=ii({__forward_ref__:ii});function io(e){return e.__forward_ref__=io,e.toString=function(){return Ni(this())},e}function Qn(e){return Eo(e)?e():e}function Eo(e){return"function"==typeof e&&e.hasOwnProperty(Go)&&e.__forward_ref__===io}function kn(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function zi(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ra(e){return ca(e,dl)||ca(e,fl)}function Xa(e){return null!==Ra(e)}function ca(e,n){return e.hasOwnProperty(n)?e[n]:null}function Pa(e){return e&&(e.hasOwnProperty(hl)||e.hasOwnProperty(wc))?e[hl]:null}const dl=ii({\u0275prov:ii}),hl=ii({\u0275inj:ii}),fl=ii({ngInjectableDef:ii}),wc=ii({ngInjectorDef:ii});class xr{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=kn({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ol(e){return e&&!!e.\u0275providers}const pl=ii({\u0275cmp:ii}),Ya=ii({\u0275dir:ii}),Wo=ii({\u0275pipe:ii}),Dc=ii({\u0275mod:ii}),Vs=ii({\u0275fac:ii}),rc=ii({__NG_ELEMENT_ID__:ii}),gl=ii({__NG_ENV_ID__:ii});function Ar(e){return"string"==typeof e?e:null==e?"":String(e)}function qo(e,n){throw new en(-201,!1)}var Gr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Gr||{});let Xo;function Za(){return Xo}function zs(e){const n=Xo;return Xo=e,n}function kl(e,n,r){const s=Ra(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:r&Gr.Optional?null:void 0!==n?n:void qo()}const Ji={},ac="__NG_DI_FLAG__",R="ngTempTokenPath",V=/\n/gm,Ve="__source";let jt;function sn(e){const n=jt;return jt=e,n}function Vi(e,n=Gr.Default){if(void 0===jt)throw new en(-203,!1);return null===jt?kl(e,void 0,n):jt.get(e,n&Gr.Optional?null:void 0,n)}function Vr(e,n=Gr.Default){return(Za()||Vi)(Qn(e),n)}function vn(e,n=Gr.Default){return Vr(e,Qr(n))}function Qr(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fi(e){const n=[];for(let r=0;r<e.length;r++){const s=Qn(e[r]);if(Array.isArray(s)){if(0===s.length)throw new en(900,!1);let a,d=Gr.Default;for(let m=0;m<s.length;m++){const I=s[m],D=fa(I);"number"==typeof D?-1===D?a=I.token:d|=D:a=I}n.push(Vr(a,d))}else n.push(Vr(s))}return n}function hs(e,n){return e[ac]=n,e.prototype[ac]=n,e}function fa(e){return e[ac]}const ho=hs(ds("Optional"),8),Yo=hs(ds("SkipSelf"),4);function Ja(e,n){return e.hasOwnProperty(Vs)?e[Vs]:null}function Ma(e,n){e.forEach(r=>Array.isArray(r)?Ma(r,n):n(r))}function ml(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function Gi(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function To(e,n,r){let s=Zo(e,n);return s>=0?e[1|s]=r:(s=~s,function eu(e,n,r,s){let a=e.length;if(a==n)e.push(r,s);else if(1===a)e.push(s,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>n;)e[a]=e[a-2],a--;e[n]=r,e[n+1]=s}}(e,s,n,r)),s}function nl(e,n){const r=Zo(e,n);if(r>=0)return e[1|r]}function Zo(e,n){return function Ro(e,n,r){let s=0,a=e.length>>r;for(;a!==s;){const d=s+(a-s>>1),m=e[d<<r];if(n===m)return d<<r;m>n?a=d:s=d+1}return~(a<<r)}(e,n,1)}const Po={},si=[],fo=new xr(""),os=new xr("",-1),cc=new xr("");class oo{get(n,r=Ji){if(r===Ji){const s=new Error(`NullInjectorError: No provider for ${Ni(n)}!`);throw s.name="NullInjectorError",s}return r}}var ga=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ga||{}),Co=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Co||{}),yl=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(yl||{});function Es(e,n,r){let s=e.length;for(;;){const a=e.indexOf(n,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=n.length;if(a+d===s||e.charCodeAt(a+d)<=32)return a}r=a+1}}function di(e,n,r){let s=0;for(;s<r.length;){const a=r[s];if("number"==typeof a){if(0!==a)break;s++;const d=r[s++],m=r[s++],I=r[s++];e.setAttribute(n,m,I,d)}else{const d=a,m=r[++s];uc(d)?e.setProperty(n,d,m):e.setAttribute(n,d,m),s++}}return s}function vl(e){return 3===e||4===e||6===e}function uc(e){return 64===e.charCodeAt(0)}function ma(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?r=a:0===r||dc(e,r,a,null,-1===r||2===r?n[++s]:null)}}return e}function dc(e,n,r,s,a){let d=0,m=e.length;if(-1===n)m=-1;else for(;d<e.length;){const I=e[d++];if("number"==typeof I){if(I===n){m=-1;break}if(I>n){m=d-1;break}}}for(;d<e.length;){const I=e[d];if("number"==typeof I)break;if(I===r){if(null===s)return void(null!==a&&(e[d+1]=a));if(s===e[d+1])return void(e[d+2]=a)}d++,null!==s&&d++,null!==a&&d++}-1!==m&&(e.splice(m,0,n),d=m+1),e.splice(d++,0,r),null!==s&&e.splice(d++,0,s),null!==a&&e.splice(d++,0,a)}const Rc="ng-template";function ed(e,n,r,s){let a=0;if(s){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==Es(n[a+1].toLowerCase(),r,0))return!0}else if(Ws(e))return!1;if(a=n.indexOf(1,a),a>-1){let d;for(;++a<n.length&&"string"==typeof(d=n[a]);)if(d.toLowerCase()===r)return!0}return!1}function Ws(e){return 4===e.type&&e.value!==Rc}function hc(e,n,r){return n===(4!==e.type||r?e.value:Rc)}function _l(e,n,r){let s=4;const a=e.attrs,d=null!==a?function vh(e){for(let n=0;n<e.length;n++)if(vl(e[n]))return n;return e.length}(a):0;let m=!1;for(let I=0;I<n.length;I++){const D=n[I];if("number"!=typeof D){if(!m)if(4&s){if(s=2|1&s,""!==D&&!hc(e,D,r)||""===D&&1===n.length){if(ao(s))return!1;m=!0}}else if(8&s){if(null===a||!ed(e,a,D,r)){if(ao(s))return!1;m=!0}}else{const B=n[++I],X=Pc(D,a,Ws(e),r);if(-1===X){if(ao(s))return!1;m=!0;continue}if(""!==B){let ye;if(ye=X>d?"":a[X+1].toLowerCase(),2&s&&B!==ye){if(ao(s))return!1;m=!0}}}}else{if(!m&&!ao(s)&&!ao(D))return!1;if(m&&ao(D))continue;m=!1,s=D|1&s}}return ao(s)||m}function ao(e){return!(1&e)}function Pc(e,n,r,s){if(null===n)return-1;let a=0;if(s||!r){let d=!1;for(;a<n.length;){const m=n[a];if(m===e)return a;if(3===m||6===m)d=!0;else{if(1===m||2===m){let I=n[++a];for(;"string"==typeof I;)I=n[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=d?1:2}return-1}return function _f(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const s=e[r];if("number"==typeof s)return-1;if(s===n)return r;r++}return-1}(n,e)}function tu(e,n,r=!1){for(let s=0;s<n.length;s++)if(_l(e,n[s],r))return!0;return!1}function nu(e,n){e:for(let r=0;r<n.length;r++){const s=n[r];if(e.length===s.length){for(let a=0;a<e.length;a++)if(e[a]!==s[a])continue e;return!0}}return!1}function C(e,n){return e?":not("+n.trim()+")":n}function P(e){let n=e[0],r=1,s=2,a="",d=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&s){const I=e[++r];a+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&s?a+="."+m:4&s&&(a+=" "+m);else""!==a&&!ao(m)&&(n+=C(d,a),a=""),s=m,d=d||!ao(s);r++}return""!==a&&(n+=C(d,a)),n}function W(e){return _o(()=>{const n=Mo(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ga.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Co.Emulated,styles:e.styles||si,_:null,schemas:e.schemas||null,tView:null,id:""};No(r);const s=e.dependencies;return r.directiveDefs=Oa(s,!1),r.pipeDefs=Oa(s,!0),r.id=function Mc(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function fe(e){return Pn(e)||Hr(e)}function Fe(e){return null!==e}function $t(e){return _o(()=>({type:e.type,bootstrap:e.bootstrap||si,declarations:e.declarations||si,imports:e.imports||si,exports:e.exports||si,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Dt(e,n){if(null==e)return Po;const r={};for(const s in e)if(e.hasOwnProperty(s)){const a=e[s];let d,m,I=yl.None;Array.isArray(a)?(I=a[0],d=a[1],m=a[2]??d):(d=a,m=a),n?(r[d]=I!==yl.None?[s,I]:s,n[d]=m):r[d]=s}return r}function Dn(e){return _o(()=>{const n=Mo(e);return No(n),n})}function Yn(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Pn(e){return e[pl]||null}function Hr(e){return e[Ya]||null}function qi(e){return e[Wo]||null}function Xi(e){const n=Pn(e)||Hr(e)||qi(e);return null!==n&&n.standalone}function bi(e,n){const r=e[Dc]||null;if(!r&&!0===n)throw new Error(`Type ${Ni(e)} does not have '\u0275mod' property.`);return r}function Mo(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Po,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||si,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dt(e.inputs,n),outputs:Dt(e.outputs),debugInfo:null}}function No(e){e.features?.forEach(n=>n(e))}function Oa(e,n){if(!e)return null;const r=n?qi:fe;return()=>("function"==typeof e?e():e).map(s=>r(s)).filter(Fe)}function Md(...e){return{\u0275providers:Nd(0,e),\u0275fromNgModule:!0}}function Nd(e,...n){const r=[],s=new Set;let a;const d=m=>{r.push(m)};return Ma(n,m=>{const I=m;Fl(I,d,[],s)&&(a||=[],a.push(I))}),void 0!==a&&fc(a,d),r}function fc(e,n){for(let r=0;r<e.length;r++){const{ngModule:s,providers:a}=e[r];nd(a,d=>{n(d,s)})}}function Fl(e,n,r,s){if(!(e=Qn(e)))return!1;let a=null,d=Pa(e);const m=!d&&Pn(e);if(d||m){if(m&&!m.standalone)return!1;a=e}else{const D=e.ngModule;if(d=Pa(D),!d)return!1;a=D}const I=s.has(a);if(m){if(I)return!1;if(s.add(a),m.dependencies){const D="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const B of D)Fl(B,n,r,s)}}else{if(!d)return!1;{if(null!=d.imports&&!I){let B;s.add(a);try{Ma(d.imports,X=>{Fl(X,n,r,s)&&(B||=[],B.push(X))})}finally{}void 0!==B&&fc(B,n)}if(!I){const B=Ja(a)||(()=>new a);n({provide:a,useFactory:B,deps:si},a),n({provide:cc,useValue:a,multi:!0},a),n({provide:fo,useValue:()=>Vr(a),multi:!0},a)}const D=d.providers;if(null!=D&&!I){const B=e;nd(D,X=>{n(X,B)})}}}return a!==e&&void 0!==e.providers}function nd(e,n){for(let r of e)Ol(r)&&(r=r.\u0275providers),Array.isArray(r)?nd(r,n):n(r)}const Vl=ii({provide:String,useValue:ii});function El(e){return null!==e&&"object"==typeof e&&Vl in e}function Ul(e){return"function"==typeof e}const id=new xr(""),pc={},Il={};let Nc;function Au(){return void 0===Nc&&(Nc=new oo),Nc}class Oo{}class Oc extends Oo{get destroyed(){return this._destroyed}constructor(n,r,s,a){super(),this.parent=r,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,il(n,m=>this.processProvider(m)),this.records.set(os,Bl(void 0,this)),a.has("environment")&&this.records.set(Oo,Bl(void 0,this));const d=this.records.get(id);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(cc,si,Gr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=Ae(null);try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of r)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=sn(this),s=zs(void 0);try{return n()}finally{sn(r),zs(s)}}get(n,r=Ji,s=Gr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(gl))return n[gl](this);s=Qr(s);const d=sn(this),m=zs(void 0);try{if(!(s&Gr.SkipSelf)){let D=this.records.get(n);if(void 0===D){const B=function xc(e){return"function"==typeof e||"object"==typeof e&&e instanceof xr}(n)&&Ra(n);D=B&&this.injectableDefInScope(B)?Bl(ya(n),pc):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(s&Gr.Self?Au():this.parent).get(n,r=s&Gr.Optional&&r===Ji?null:r)}catch(I){if("NullInjectorError"===I.name){if((I[R]=I[R]||[]).unshift(Ni(n)),d)throw I;return function Qo(e,n,r,s){const a=e[R];throw n[Ve]&&a.unshift(n[Ve]),e.message=function Oi(e,n,r,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Ni(n);if(Array.isArray(n))a=n.map(Ni).join(" -> ");else if("object"==typeof n){let d=[];for(let m in n)if(n.hasOwnProperty(m)){let I=n[m];d.push(m+":"+("string"==typeof I?JSON.stringify(I):Ni(I)))}a=`{${d.join(", ")}}`}return`${r}${s?"("+s+")":""}[${a}]: ${e.replace(V,"\n  ")}`}("\n"+e.message,a,r,s),e.ngTokenPath=a,e[R]=null,e}(I,n,"R3InjectorError",this.source)}throw I}finally{zs(m),sn(d)}}resolveInjectorInitializers(){const n=Ae(null),r=sn(this),s=zs(void 0);try{const d=this.get(fo,si,Gr.Self);for(const m of d)m()}finally{sn(r),zs(s),Ae(n)}}toString(){const n=[],r=this.records;for(const s of r.keys())n.push(Ni(s));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new en(205,!1)}processProvider(n){let r=Ul(n=Qn(n))?n:Qn(n&&n.provide);const s=function Od(e){return El(e)?Bl(void 0,e.useValue):Bl(ru(e),pc)}(n);if(!Ul(n)&&!0===n.multi){let a=this.records.get(r);a||(a=Bl(void 0,pc,!0),a.factory=()=>fi(a.multi),this.records.set(r,a)),r=n,a.multi.push(n)}this.records.set(r,s)}hydrate(n,r){const s=Ae(null);try{return r.value===pc&&(r.value=Il,r.value=r.factory()),"object"==typeof r.value&&r.value&&function gc(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ae(s)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=Qn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ya(e){const n=Ra(e),r=null!==n?n.factory:Ja(e);if(null!==r)return r;if(e instanceof xr)throw new en(204,!1);if(e instanceof Function)return function _h(e){if(e.length>0)throw new en(204,!1);const r=function Ml(e){return e&&(e[dl]||e[fl])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new en(204,!1)}function ru(e,n,r){let s;if(Ul(e)){const a=Qn(e);return Ja(a)||ya(a)}if(El(e))s=()=>Qn(e.useValue);else if(function rd(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...fi(e.deps||[]));else if(function xa(e){return!(!e||!e.useExisting)}(e))s=()=>Vr(Qn(e.useExisting));else{const a=Qn(e&&(e.useClass||e.provide));if(!function rl(e){return!!e.deps}(e))return Ja(a)||ya(a);s=()=>new a(...fi(e.deps))}return s}function Bl(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function il(e,n){for(const r of e)Array.isArray(r)?il(r,n):r&&Ol(r)?il(r.\u0275providers,n):n(r)}function Du(e,n){e instanceof Oc&&e.assertNotDestroyed();const s=sn(e),a=zs(void 0);try{return n()}finally{sn(s),zs(a)}}function iu(){return void 0!==Za()||null!=function un(){return jt}()}const Ai=0,Tn=1,sr=2,as=3,ka=4,qs=5,Qs=6,Lc=7,Wi=8,es=9,ol=10,Dr=11,Fc=12,ou=13,Cl=14,ps=15,mc=16,wl=17,Ys=18,La=19,ld=20,Hl=21,Zs=22,va=23,fr=25,au=1,Js=7,yc=9,Qi=10;var Ru=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ru||{});function As(e){return Array.isArray(e)&&"object"==typeof e[au]}function po(e){return Array.isArray(e)&&!0===e[au]}function Gl(e){return!!(4&e.flags)}function Vc(e){return e.componentOffset>-1}function cd(e){return!(1&~e.flags)}function Fa(e){return!!e.template}function Pu(e){return!!(512&e[sr])}class Zi{constructor(n,r,s){this.previousValue=n,this.currentValue=r,this.firstChange=s}isFirstChange(){return this.firstChange}}function xo(e,n,r,s){null!==n?n.applyValueToInputSignal(n,s):e[r]=s}function vc(){return cu}function cu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Uc),Kl}function Kl(){const e=uu(this),n=e?.current;if(n){const r=e.previous;if(r===Po)e.previous=n;else for(let s in n)r[s]=n[s];e.current=null,this.ngOnChanges(n)}}function Uc(e,n,r,s,a){const d=this.declaredInputs[s],m=uu(e)||function ur(e,n){return e[Bc]=n}(e,{previous:Po,current:null}),I=m.current||(m.current={}),D=m.previous,B=D[d];I[d]=new Zi(B&&B.currentValue,r,D===Po),xo(e,n,a,r)}vc.ngInherit=!0;const Bc="__ngSimpleChanges__";function uu(e){return e[Bc]||null}const Zr=function(e,n,r){};function Wr(e){for(;Array.isArray(e);)e=e[Ai];return e}function rs(e,n){return Wr(n[e])}function co(e,n){return Wr(n[e.index])}function Bs(e,n){return e.data[n]}function ji(e,n){const r=n[e];return As(r)?r:r[Ai]}function $c(e){return!(128&~e[sr])}function ea(e,n){return null==n?null:e[n]}function Tf(e){e[wl]=0}function Cf(e){1024&e[sr]||(e[sr]|=1024,$c(e)&&ud(e))}function du(e){return!!(9216&e[sr]||e[va]?.dirty)}function wf(e){e[ol].changeDetectionScheduler?.notify(7),64&e[sr]&&(e[sr]|=1024),du(e)&&ud(e)}function ud(e){e[ol].changeDetectionScheduler?.notify(0);let n=Ea(e);for(;null!==n&&!(8192&n[sr])&&(n[sr]|=8192,$c(n));)n=Ea(n)}function Fd(e,n){if(!(256&~e[sr]))throw new en(911,!1);null===e[Hl]&&(e[Hl]=[]),e[Hl].push(n)}function Ea(e){const n=e[as];return po(n)?n[as]:n}const $r={lFrame:Je(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ch=!1;function Vd(){return $r.bindingsEnabled}function Wl(){return null!==$r.skipHydrationRootTNode}function Jt(){return $r.lFrame.lView}function li(){return $r.lFrame.tView}function hu(e){return $r.lFrame.contextLView=e,e[Wi]}function hd(e){return $r.lFrame.contextLView=null,e}function ts(){let e=Pf();for(;null!==e&&64===e.type;)e=e.parent;return e}function Pf(){return $r.lFrame.currentTNode}function wo(e,n){const r=$r.lFrame;r.currentTNode=e,r.isParent=n}function wh(){return $r.lFrame.isParent}function Mf(){$r.lFrame.isParent=!1}function Mu(){return Ch}function Hc(e){Ch=e}function $a(){return $r.lFrame.bindingIndex++}function Nf(e,n){const r=$r.lFrame;r.bindingIndex=r.bindingRootIndex=e,$d(n)}function $d(e){$r.lFrame.currentDirectiveIndex=e}function E(){return $r.lFrame.currentQueryIndex}function h(e){$r.lFrame.currentQueryIndex=e}function g(e){const n=e[Tn];return 2===n.type?n.declTNode:1===n.type?e[qs]:null}function w(e,n,r){if(r&Gr.SkipSelf){let a=n,d=e;for(;!(a=a.parent,null!==a||r&Gr.Host||(a=g(d),null===a||(d=d[Cl],10&a.type))););if(null===a)return!1;n=a,e=d}const s=$r.lFrame=ue();return s.currentTNode=n,s.lView=e,!0}function $(e){const n=ue(),r=e[Tn];$r.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function ue(){const e=$r.lFrame,n=null===e?null:e.child;return null===n?Je(e):n}function Je(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function St(){const e=$r.lFrame;return $r.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const on=St;function $n(){const e=St();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ln(){return $r.lFrame.selectedIndex}function is(e){$r.lFrame.selectedIndex=e}function _i(){const e=$r.lFrame;return Bs(e.tView,e.selectedIndex)}let gd=!0;function Nu(){return gd}function ll(e){gd=e}function Ou(e,n){for(let r=n.directiveStart,s=n.directiveEnd;r<s;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:B,ngOnDestroy:X}=d;m&&(e.contentHooks??=[]).push(-r,m),I&&((e.contentHooks??=[]).push(r,I),(e.contentCheckHooks??=[]).push(r,I)),D&&(e.viewHooks??=[]).push(-r,D),B&&((e.viewHooks??=[]).push(r,B),(e.viewCheckHooks??=[]).push(r,B)),null!=X&&(e.destroyHooks??=[]).push(r,X)}}function zc(e,n,r){zd(e,n,3,r)}function cl(e,n,r,s){(3&e[sr])===r&&zd(e,n,r,s)}function Hd(e,n){let r=e[sr];(3&r)===n&&(r&=16383,r+=1,e[sr]=r)}function zd(e,n,r,s){const d=s??-1,m=n.length-1;let I=0;for(let D=void 0!==s?65535&e[wl]:0;D<m;D++)if("number"==typeof n[D+1]){if(I=n[D],null!=s&&I>=s)break}else n[D]<0&&(e[wl]+=65536),(I<d||-1==d)&&(bv(e,r,n,D),e[wl]=(4294901760&e[wl])+D+2),D++}function Gd(e,n){Zr(4,e,n);const r=Ae(null);try{n.call(e)}finally{Ae(r),Zr(5,e,n)}}function bv(e,n,r,s){const a=r[s]<0,d=r[s+1],I=e[a?-r[s]:r[s]];a?e[sr]>>14<e[wl]>>16&&(3&e[sr])===n&&(e[sr]+=16384,Gd(I,d)):Gd(I,d)}const Gc=-1;class Lf{constructor(n,r,s){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=s}}const Vf={};class xu{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,s){s=Qr(s);const a=this.injector.get(n,Vf,s);return a!==Vf||r===Vf?a:this.parentInjector.get(n,r,s)}}function kp(e){return e!==Gc}function Kd(e){return 32767&e}function Rh(e,n){let r=function GE(e){return e>>16}(e),s=n;for(;r>0;)s=s[Cl],r--;return s}let Lp=!0;function Uf(e){const n=Lp;return Lp=e,n}const Tm=255,Av=5;let qE=0;const pu={};function Ph(e,n){const r=Fp(e,n);if(-1!==r)return r;const s=n[Tn];s.firstCreatePass&&(e.injectorIndex=n.length,Cm(s.data,e),Cm(n,null),Cm(s.blueprint,null));const a=Bf(e,n),d=e.injectorIndex;if(kp(a)){const m=Kd(a),I=Rh(a,n),D=I[Tn].data;for(let B=0;B<8;B++)n[d+B]=I[m+B]|D[m+B]}return n[d+8]=a,d}function Cm(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Fp(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Bf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,s=null,a=n;for(;null!==a;){if(s=jp(a),null===s)return Gc;if(r++,a=a[Cl],-1!==s.injectorIndex)return s.injectorIndex|r<<16}return Gc}function $f(e,n,r){!function XE(e,n,r){let s;"string"==typeof r?s=r.charCodeAt(0)||0:r.hasOwnProperty(rc)&&(s=r[rc]),null==s&&(s=r[rc]=qE++);const a=s&Tm;n.data[e+(a>>Av)]|=1<<a}(e,n,r)}function Vp(e,n,r){if(r&Gr.Optional||void 0!==e)return e;qo()}function Dv(e,n,r,s){if(r&Gr.Optional&&void 0===s&&(s=null),!(r&(Gr.Self|Gr.Host))){const a=e[es],d=zs(void 0);try{return a?a.get(n,s,r&Gr.Optional):kl(n,s,r&Gr.Optional)}finally{zs(d)}}return Vp(s,0,r)}function Up(e,n,r,s=Gr.Default,a){if(null!==e){if(2048&n[sr]&&!(s&Gr.Self)){const m=function QE(e,n,r,s,a){let d=e,m=n;for(;null!==d&&null!==m&&2048&m[sr]&&!(512&m[sr]);){const I=Sv(d,m,r,s|Gr.Self,pu);if(I!==pu)return I;let D=d.parent;if(!D){const B=m[ld];if(B){const X=B.get(r,pu,s);if(X!==pu)return X}D=jp(m),m=m[Cl]}d=D}return a}(e,n,r,s,pu);if(m!==pu)return m}const d=Sv(e,n,r,s,pu);if(d!==pu)return d}return Dv(n,r,s,a)}function Sv(e,n,r,s,a){const d=function Rv(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(rc)?e[rc]:void 0;return"number"==typeof n?n>=0?n&Tm:Dm:n}(r);if("function"==typeof d){if(!w(n,e,s))return s&Gr.Host?Vp(a,0,s):Dv(n,r,s,a);try{let m;if(m=d(s),null!=m||s&Gr.Optional)return m;qo()}finally{on()}}else if("number"==typeof d){let m=null,I=Fp(e,n),D=Gc,B=s&Gr.Host?n[ps][qs]:null;for((-1===I||s&Gr.SkipSelf)&&(D=-1===I?Bf(e,n):n[I+8],D!==Gc&&Am(s,!1)?(m=n[Tn],I=Kd(D),n=Rh(D,n)):I=-1);-1!==I;){const X=n[Tn];if($p(d,I,X.data)){const ye=bm(I,n,r,m,s,B);if(ye!==pu)return ye}D=n[I+8],D!==Gc&&Am(s,n[Tn].data[I+8]===B)&&$p(d,I,n)?(m=X,I=Kd(D),n=Rh(D,n)):I=-1}}return a}function bm(e,n,r,s,a,d){const m=n[Tn],I=m.data[e+8],X=Bp(I,m,r,null==s?Vc(I)&&Lp:s!=m&&!!(3&I.type),a&Gr.Host&&d===I);return null!==X?ku(n,m,X,I):pu}function Bp(e,n,r,s,a){const d=e.providerIndexes,m=n.data,I=1048575&d,D=e.directiveStart,X=d>>20,Xe=a?I+X:e.directiveEnd;for(let rt=s?I:I+X;rt<Xe;rt++){const Mt=m[rt];if(rt<D&&r===Mt||rt>=D&&Mt.type===r)return rt}if(a){const rt=m[D];if(rt&&Fa(rt)&&rt.type===r)return D}return null}function ku(e,n,r,s){let a=e[r];const d=n.data;if(function zE(e){return e instanceof Lf}(a)){const m=a;m.resolving&&function ic(e,n){throw n&&n.join(" > "),new en(-200,e)}(function kr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ar(e)}(d[r]));const I=Uf(m.canSeeViewProviders);m.resolving=!0;const B=m.injectImpl?zs(m.injectImpl):null;w(e,s,Gr.Default);try{a=e[r]=m.factory(void 0,d,e,s),n.firstCreatePass&&r>=s.directiveStart&&function jd(e,n,r){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(s){const m=cu(n);(r.preOrderHooks??=[]).push(e,m),(r.preOrderCheckHooks??=[]).push(e,m)}a&&(r.preOrderHooks??=[]).push(0-e,a),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==B&&zs(B),Uf(I),m.resolving=!1,on()}}return a}function $p(e,n,r){return!!(r[n+(e>>Av)]&1<<e)}function Am(e,n){return!(e&Gr.Self||e&Gr.Host&&n)}class Vo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,s){return Up(this._tNode,this._lView,n,Qr(s),r)}}function Dm(){return new Vo(ts(),Jt())}function Pv(e){return _o(()=>{const n=e.prototype.constructor,r=n[Vs]||jf(n),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const d=a[Vs]||jf(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function jf(e){return Eo(e)?()=>{const n=jf(Qn(e));return n&&n()}:Ja(e)}function jp(e){const n=e[Tn],r=n.type;return 2===r?n.declTNode:1===r?e[qs]:null}function Nh(e){return function wm(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const s=r.length;let a=0;for(;a<s;){const d=r[a];if(vl(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<s&&"string"==typeof r[a];)a++;else{if(d===n)return r[a+1];a+=2}}}return null}(ts(),e)}function zp(e,n=null,r=null,s){const a=xv(e,n,r,s);return a.resolveInjectorInitializers(),a}function xv(e,n=null,r=null,s,a=new Set){const d=[r||si,Md(e)];return s=s||("object"==typeof e?void 0:Ni(e)),new Oc(d,n||Au(),s||null,a)}class mo{static#e=this.THROW_IF_NOT_FOUND=Ji;static#t=this.NULL=new oo;static create(n,r){if(Array.isArray(n))return zp({name:""},r,n,"");{const s=n.name??"";return zp({name:s},n.parent,n.providers,s)}}static#n=this.\u0275prov=kn({token:mo,providedIn:"any",factory:()=>Vr(os)});static#r=this.__NG_ELEMENT_ID__=-1}new xr("").__NG_ELEMENT_ID__=e=>{const n=ts();if(null===n)throw new en(204,!1);if(2&n.type)return n.value;if(e&Gr.Optional)return null;throw new en(204,!1)};function xm(e){return e.ngOriginalError}class Kc{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&xm(n);for(;r&&xm(r);)r=xm(r);return r||null}}const Kp=new xr("",{providedIn:"root",factory:()=>vn(Kc).handleError.bind(void 0)});let Hf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=Wp;static#t=this.__NG_ENV_ID__=r=>r}return e})();class km extends Hf{constructor(n){super(),this._lView=n}onDestroy(n){return Fd(this._lView,n),()=>function Th(e,n){if(null===e[Hl])return;const r=e[Hl].indexOf(n);-1!==r&&e[Hl].splice(r,1)}(this._lView,n)}}function Wp(){return new km(Jt())}function xh(){return qd(ts(),Jt())}function qd(e,n){return new yd(co(e,n))}let yd=(()=>{class e{constructor(r){this.nativeElement=r}static#e=this.__NG_ELEMENT_ID__=xh}return e})();function Lv(e){return e instanceof yd?e.nativeElement:e}let Xd=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Zn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=kn({token:e,providedIn:"root",factory:()=>new e})}return e})();const ql=class tI extends pr.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,iu()&&(this.destroyRef=vn(Hf,{optional:!0})??void 0,this.pendingTasks=vn(Xd,{optional:!0})??void 0)}emit(n){const r=Ae(null);try{super.next(n)}finally{Ae(r)}}subscribe(n,r,s){let a=n,d=r||(()=>null),m=s;if(n&&"object"==typeof n){const D=n;a=D.next?.bind(D),d=D.error?.bind(D),m=D.complete?.bind(D)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),m&&(m=this.wrapInTimeout(m)));const I=super.subscribe({next:a,error:d,complete:m});return n instanceof Gn.yU&&n.add(I),I}wrapInTimeout(n){return r=>{const s=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==s&&this.pendingTasks?.remove(s)})}}};function Lm(){return this._results[Symbol.iterator]()}class Gf{static#e=Symbol.iterator;get changes(){return this._changes??=new ql}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Gf.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Lm)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const s=function Us(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function Pd(e,n,r){if(e.length!==n.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],d=n[s];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,s,r))&&(this._results=s,this.length=s.length,this.last=s[this.length-1],this.first=s[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Yd(e){return!(128&~e.flags)}const Yp=new Map;let Lh=0;const Kf="__ngContext__";function ja(e,n){As(n)?(e[Kf]=n[La],function Fm(e){Yp.set(e[La],e)}(n)):e[Kf]=n}function Ei(e){return Hm(e[Fc])}function jm(e){return Hm(e[ka])}function Hm(e){for(;null!==e&&!po(e);)e=e[ka];return e}let Ns;function Xv(e){Ns=e}const rg=new xr("",{providedIn:"root",factory:()=>Qv}),Qv="ng",Yv=new xr(""),Gm=new xr("",{providedIn:"platform",factory:()=>"unknown"}),cI=new xr(""),Iw=new xr("",{providedIn:"root",factory:()=>function _d(){if(void 0!==Ns)return Ns;if(typeof document<"u")return document;throw new en(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cg=()=>null;function Xf(e,n,r=!1){return cg(e,n,r)}const hg=new xr("",{providedIn:"root",factory:()=>!1});let sh,Zf;function Kh(e){return function ry(){if(void 0===sh&&(sh=null,Ti.trustedTypes))try{sh=Ti.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return sh}()?.createHTML(e)||e}function oy(e){return function pg(){if(void 0===Zf&&(Zf=null,Ti.trustedTypes))try{Zf=Ti.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zf}()?.createScriptURL(e)||e}class Fu{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Or})`}}class gg extends Fu{getTypeName(){return"HTML"}}class mI extends Fu{getTypeName(){return"Style"}}class Cw extends Fu{getTypeName(){return"Script"}}class ww extends Fu{getTypeName(){return"URL"}}class yI extends Fu{getTypeName(){return"ResourceURL"}}function Ed(e){return e instanceof Fu?e.changingThisBreaksApplicationSecurity:e}function Jf(e,n){const r=function oh(e){return e instanceof Fu&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Or})`)}return r===n}function Vu(e){return new gg(e)}function ep(e){return new mI(e)}function Id(e){return new Cw(e)}function vI(e){return new ww(e)}function n_(e){return new yI(e)}class Td{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const r=(new window.DOMParser).parseFromString(Kh(n),"text/html").body;return null===r?this.inertDocumentHelper.getInertBodyElement(n):(r.removeChild(r.firstChild),r)}catch{return null}}}class _I{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const r=this.inertDocument.createElement("template");return r.innerHTML=Kh(n),r}}const II=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function mg(e){return(e=String(e)).match(II)?e:"unsafe:"+e}function Uu(e){const n={};for(const r of e.split(","))n[r]=!0;return n}function Wh(...e){const n={};for(const r of e)for(const s in r)r.hasOwnProperty(s)&&(n[s]=!0);return n}const ay=Uu("area,br,col,hr,img,wbr"),i_=Uu("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),s_=Uu("rp,rt"),np=Wh(ay,Wh(i_,Uu("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wh(s_,Uu("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wh(s_,i_)),o_=Uu("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),a_=Wh(o_,Uu("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Uu("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),CI=Uu("script,style,template");class wI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let r=n.firstChild,s=!0,a=[];for(;r;)if(r.nodeType===Node.ELEMENT_NODE?s=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,s&&r.firstChild)a.push(r),r=Pw(r);else for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let d=Rw(r);if(d){r=d;break}r=a.pop()}return this.buf.join("")}startElement(n){const r=bI(n).toLowerCase();if(!np.hasOwnProperty(r))return this.sanitizedSomething=!0,!CI.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);const s=n.attributes;for(let a=0;a<s.length;a++){const d=s.item(a),m=d.name,I=m.toLowerCase();if(!a_.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let D=d.value;o_[I]&&(D=mg(D)),this.buf.push(" ",m,'="',SI(D),'"')}return this.buf.push(">"),!0}endElement(n){const r=bI(n).toLowerCase();np.hasOwnProperty(r)&&!ay.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(n){this.buf.push(SI(n))}}function Rw(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw l_(n);return n}function Pw(e){const n=e.firstChild;if(n&&function Sw(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw l_(n);return n}function bI(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function l_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const AI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,DI=/([^\#-~ |!])/g;function SI(e){return e.replace(/&/g,"&amp;").replace(AI,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(DI,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yg;function ly(e,n){let r=null;try{yg=yg||function r_(e){const n=new _I(e);return function EI(){try{return!!(new window.DOMParser).parseFromString(Kh(""),"text/html")}catch{return!1}}()?new Td(n):n}(e);let s=n?String(n):"";r=yg.getInertBodyElement(s);let a=5,d=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=d,d=r.innerHTML,r=yg.getInertBodyElement(s)}while(s!==d);return Kh((new wI).sanitizeChildren(yu(r)||r))}finally{if(r){const s=yu(r)||r;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function yu(e){return"content"in e&&function RI(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ah=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ah||{});function cy(e){const n=vg();return n?n.sanitize(ah.URL,e)||"":Jf(e,"URL")?Ed(e):mg(Ar(e))}function c_(e){const n=vg();if(n)return oy(n.sanitize(ah.RESOURCE_URL,e)||"");if(Jf(e,"ResourceURL"))return oy(Ed(e));throw new en(904,!1)}function d_(e,n,r){return function u_(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?c_:cy}(n,r)(e)}function vg(){const e=Jt();return e&&e[ol].sanitizer}const Ow=/^>|^->|<!--|-->|--!>|<!-$/g,h_=/(<|>)/g,f_="\u200b$1\u200b";function Ss(e){return e instanceof Function?e():e}var Ig=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ig||{});let Tg;function hy(e,n){return Tg(e,n)}function uh(e,n,r,s,a){if(null!=s){let d,m=!1;po(s)?d=s:As(s)&&(m=!0,s=s[Ai]);const I=Wr(s);0===e&&null!==r?null==a?u(n,r,I):o(n,r,I,a||null,!0):1===e&&null!==r?o(n,r,I,a||null,!0):2===e?function Mn(e,n,r){const s=N(e,n);s&&function _(e,n,r,s){e.removeChild(n,r,s)}(e,s,n,r)}(n,I,m):3===e&&n.destroyNode(I),null!=d&&function gt(e,n,r,s,a){const d=r[Js];d!==Wr(r)&&uh(n,e,s,d,a);for(let I=Qi;I<r.length;I++){const D=r[I];ci(D[Tn],D,e,n,s,d)}}(n,e,d,r,a)}}function gy(e,n){return e.createComment(function OI(e){return e.replace(Ow,n=>n.replace(h_,f_))}(n))}function Yh(e,n,r){return e.createElement(n,r)}function my(e,n){n[ol].changeDetectionScheduler?.notify(8),ci(e,n,n[Dr],2,null,null)}function yy(e,n){const r=e[yc],s=n[as];(As(s)||n[ps]!==s[as][ps])&&(e[sr]|=Ru.HasTransplantedViews),null===r?e[yc]=[n]:r.push(n)}function vy(e,n){const r=e[yc],s=r.indexOf(n);r.splice(s,1)}function ap(e,n){if(e.length<=Qi)return;const r=Qi+n,s=e[r];if(s){const a=s[mc];null!==a&&a!==e&&vy(a,s),n>0&&(e[r-1][ka]=s[ka]);const d=Gi(e,Qi+n);!function BI(e,n){my(e,n),n[Ai]=null,n[qs]=null}(s[Tn],s);const m=d[Ys];null!==m&&m.detachView(d[Tn]),s[as]=null,s[ka]=null,s[sr]&=-129}return s}function lp(e,n){if(!(256&n[sr])){const r=n[Dr];r.destroyNode&&ci(e,n,r,3,null,null),function $I(e){let n=e[Fc];if(!n)return Cg(e[Tn],e);for(;n;){let r=null;if(As(n))r=n[Fc];else{const s=n[Qi];s&&(r=s)}if(!r){for(;n&&!n[ka]&&n!==e;)As(n)&&Cg(n[Tn],n),n=n[as];null===n&&(n=e),As(n)&&Cg(n[Tn],n),r=n&&n[ka]}n=r}}(n)}}function Cg(e,n){if(256&n[sr])return;const r=Ae(null);try{n[sr]&=-129,n[sr]|=256,n[va]&&yt(n[va]),function c(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let s=0;s<r.length;s+=2){const a=n[r[s]];if(!(a instanceof Lf)){const d=r[s+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const I=a[d[m]],D=d[m+1];Zr(4,I,D);try{D.call(I)}finally{Zr(5,I,D)}}else{Zr(4,a,d);try{d.call(a)}finally{Zr(5,a,d)}}}}}(e,n),function jI(e,n){const r=e.cleanup,s=n[Lc];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const m=r[d+3];m>=0?s[m]():s[-m].unsubscribe(),d+=2}else r[d].call(s[r[d+1]]);null!==s&&(n[Lc]=null);const a=n[Hl];if(null!==a){n[Hl]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,n),1===n[Tn].type&&n[Dr].destroy();const s=n[mc];if(null!==s&&po(n[as])){s!==n[as]&&vy(s,n);const a=n[Ys];null!==a&&a.detachView(e)}!function Fh(e){Yp.delete(e[La])}(n)}finally{Ae(r)}}function t(e,n,r){return function i(e,n,r){let s=n;for(;null!==s&&168&s.type;)s=(n=s).parent;if(null===s)return r[Ai];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:d}=e.data[s.directiveStart+a];if(d===Co.None||d===Co.Emulated)return null}return co(s,r)}}(e,n.parent,r)}function o(e,n,r,s,a){e.insertBefore(n,r,s,a)}function u(e,n,r){e.appendChild(n,r)}function p(e,n,r,s,a){null!==s?o(e,n,r,s,a):u(e,n,r)}function N(e,n){return e.parentNode(n)}function he(e,n,r){return ot(e,n,r)}let Ft,ot=function Pe(e,n,r){return 40&e.type?co(e,r):null};function yn(e,n,r,s){const a=t(e,s,n),d=n[Dr],I=he(s.parent||n[qs],s,n);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)p(d,a,r[D],I,!1);else p(d,a,r,I,!1);void 0!==Ft&&Ft(d,s,n,r,a)}function ln(e,n){if(null!==n){const r=n.type;if(3&r)return co(n,e);if(4&r)return dr(-1,e[n.index]);if(8&r){const s=n.child;if(null!==s)return ln(e,s);{const a=e[n.index];return po(a)?dr(-1,a):Wr(a)}}if(32&r)return hy(n,e)()||Wr(e[n.index]);{const s=nr(e,n);return null!==s?Array.isArray(s)?s[0]:ln(Ea(e[ps]),s):ln(e,n.next)}}return null}function nr(e,n){return null!==n?e[ps][qs].projection[n.projection]:null}function dr(e,n){const r=Qi+e+1;if(r<n.length){const s=n[r],a=s[Tn].firstChild;if(null!==a)return ln(s,a)}return n[Js]}function ni(e,n,r,s,a,d,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const I=s[r.index],D=r.type;if(m&&0===n&&(I&&ja(Wr(I),s),r.flags|=2),32&~r.flags)if(8&D)ni(e,n,r.child,s,a,d,!1),uh(n,e,a,I,d);else if(32&D){const B=hy(r,s);let X;for(;X=B();)uh(n,e,a,X,d);uh(n,e,a,I,d)}else 16&D?tt(e,n,s,r,a,d):uh(n,e,a,I,d);r=m?r.projectionNext:r.next}}function ci(e,n,r,s,a,d){ni(r,s,e.firstChild,n,a,d,!1)}function tt(e,n,r,s,a,d){const m=r[ps],D=m[qs].projection[s.projection];if(Array.isArray(D))for(let B=0;B<D.length;B++)uh(n,e,a,D[B],d);else{let B=D;const X=m[as];Yd(s)&&(B.flags|=128),ni(e,n,B,X,a,d,!0)}}function Gt(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function ht(e,n,r){const{mergedAttrs:s,classes:a,styles:d}=r;null!==s&&di(e,n,s),null!==a&&Gt(e,n,a),null!==d&&function Lt(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const jr={};function Zh(e=1){T_(li(),Jt(),Ln()+e,!1)}function T_(e,n,r,s){if(!s)if(3&~n[sr]){const d=e.preOrderHooks;null!==d&&cl(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&zc(n,d,r)}is(r)}function _u(e,n=Gr.Default){const r=Jt();return null===r?Vr(e,n):Up(ts(),r,Qn(e),n)}function Jh(){throw new Error("invalid")}function wg(e,n,r,s,a,d){const m=Ae(null);try{let I=null;a&yl.SignalBased&&(I=n[s][me]),null!==I&&void 0!==I.transformFn&&(d=I.transformFn(d)),a&yl.HasDecoratorInputTransform&&(d=e.inputTransforms[s].call(n,d)),null!==e.setInput?e.setInput(n,I,d,r,s):xo(n,I,s,d)}finally{Ae(m)}}function bg(e,n,r,s,a,d,m,I,D,B,X){const ye=n.blueprint.slice();return ye[Ai]=a,ye[sr]=204|s,(null!==B||e&&2048&e[sr])&&(ye[sr]|=2048),Tf(ye),ye[as]=ye[Cl]=e,ye[Wi]=r,ye[ol]=m||e&&e[ol],ye[Dr]=I||e&&e[Dr],ye[es]=D||e&&e[es]||null,ye[qs]=d,ye[La]=function Vv(){return Lh++}(),ye[Qs]=X,ye[ld]=B,ye[ps]=2==n.type?e[ps]:ye,ye}function Dl(e,n,r,s,a){let d=e.data[n];if(null===d)d=function na(e,n,r,s,a){const d=Pf(),m=wh(),D=e.data[n]=function HI(e,n,r,s,a,d){let m=n?n.injectorIndex:-1,I=0;return Wl()&&(I|=128),{type:r,index:s,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:I,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,r,n,s,a);return null===e.firstChild&&(e.firstChild=D),null!==d&&(m?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(e,n,r,s,a),function Op(){return $r.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=s,d.attrs=a;const m=function Bd(){const e=$r.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return wo(d,!0),d}function cp(e,n,r,s){if(0===r)return-1;const a=n.length;for(let d=0;d<r;d++)n.push(s),e.blueprint.push(s),e.data.push(null);return a}function ef(e,n,r,s,a){const d=Ln(),m=2&s;try{is(-1),m&&n.length>fr&&T_(e,n,fr,!1),Zr(m?2:0,a),r(s,a)}finally{is(d),Zr(m?3:1,a)}}function _y(e,n,r){if(Gl(n)){const s=Ae(null);try{const d=n.directiveEnd;for(let m=n.directiveStart;m<d;m++){const I=e.data[m];I.contentQueries&&I.contentQueries(1,r[m],m)}}finally{Ae(s)}}}function dh(e,n,r){Vd()&&(function P_(e,n,r,s){const a=r.directiveStart,d=r.directiveEnd;Vc(r)&&function O_(e,n,r){const s=co(n,e),a=w_(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const I=fh(e,bg(e,a,null,m,s,n,null,e[ol].rendererFactory.createRenderer(s,r),null,null,null));e[n.index]=I}(n,r,e.data[a+r.componentOffset]),e.firstCreatePass||Ph(r,n),ja(s,n);const m=r.initialInputs;for(let I=a;I<d;I++){const D=e.data[I],B=ku(n,e,I,r);ja(B,n),null!==m&&My(0,I-a,B,D,0,m),Fa(D)&&(ji(r.index,n)[Wi]=ku(n,e,I,r))}}(e,n,r,co(r,n)),!(64&~r.flags)&&M_(e,n,r))}function Ey(e,n,r=co){const s=n.localNames;if(null!==s){let a=n.index+1;for(let d=0;d<s.length;d+=2){const m=s[d+1],I=-1===m?r(n,e):e[m];e[a++]=I}}}function w_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=tf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function tf(e,n,r,s,a,d,m,I,D,B,X){const ye=fr+s,Xe=ye+a,rt=function Ag(e,n){const r=[];for(let s=0;s<n;s++)r.push(s<e?null:jr);return r}(ye,Xe),Mt="function"==typeof B?B():B;return rt[Tn]={type:e,blueprint:rt,template:r,queries:null,viewQuery:I,declTNode:n,data:rt.slice().fill(null,ye),bindingStartIndex:ye,expandoStartIndex:Xe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:D,consts:Mt,incompleteFirstPass:!1,ssrId:X}}let Dg=()=>null;function wy(e,n,r,s,a){for(let d in n){if(!n.hasOwnProperty(d))continue;const m=n[d];if(void 0===m)continue;s??={};let I,D=yl.None;Array.isArray(m)?(I=m[0],D=m[1]):I=m;let B=d;if(null!==a){if(!a.hasOwnProperty(d))continue;B=a[d]}0===e?by(s,r,B,I,D):by(s,r,B,I)}return s}function by(e,n,r,s,a){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,s):d=e[r]=[n,s],void 0!==a&&d.push(a)}function ra(e,n,r,s){if(Vd()){const a=null===s?null:{"":-1},d=function N_(e,n){const r=e.directiveRegistry;let s=null,a=null;if(r)for(let d=0;d<r.length;d++){const m=r[d];if(tu(n,m.selectors,!1))if(s||(s=[]),Fa(m))if(null!==m.findHostDirectiveDefs){const I=[];a=a||new Map,m.findHostDirectiveDefs(m,I,a),s.unshift(...I,m),Rg(e,n,I.length)}else s.unshift(m),Rg(e,n,0);else a=a||new Map,m.findHostDirectiveDefs?.(m,s,a),s.push(m)}return null===s?null:[s,a]}(e,r);let m,I;null===d?m=I=null:[m,I]=d,null!==m&&za(e,n,r,m,a,I),a&&function Ry(e,n,r){if(n){const s=e.localNames=[];for(let a=0;a<n.length;a+=2){const d=r[n[a+1]];if(null==d)throw new en(-301,!1);s.push(n[a],d)}}}(r,s,a)}r.mergedAttrs=ma(r.mergedAttrs,r.attrs)}function za(e,n,r,s,a,d){for(let B=0;B<s.length;B++)$f(Ph(r,n),e,s[B].type);!function GI(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,s.length);for(let B=0;B<s.length;B++){const X=s[B];X.providersResolver&&X.providersResolver(X)}let m=!1,I=!1,D=cp(e,n,s.length,null);for(let B=0;B<s.length;B++){const X=s[B];r.mergedAttrs=ma(r.mergedAttrs,X.hostAttrs),Py(e,r,n,D,X),zI(D,X,a),null!==X.contentQueries&&(r.flags|=4),(null!==X.hostBindings||null!==X.hostAttrs||0!==X.hostVars)&&(r.flags|=64);const ye=X.type.prototype;!m&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),m=!0),!I&&(ye.ngOnChanges||ye.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),I=!0),D++}!function Ay(e,n,r){const a=n.directiveEnd,d=e.data,m=n.attrs,I=[];let D=null,B=null;for(let X=n.directiveStart;X<a;X++){const ye=d[X],Xe=r?r.get(ye):null,Mt=Xe?Xe.outputs:null;D=wy(0,ye.inputs,X,D,Xe?Xe.inputs:null),B=wy(1,ye.outputs,X,B,Mt);const nn=null===D||null===m||Ws(n)?null:Ny(D,X,m);I.push(nn)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=I,n.inputs=D,n.outputs=B}(e,r,d)}function M_(e,n,r){const s=r.directiveStart,a=r.directiveEnd,d=r.index,m=function _m(){return $r.lFrame.currentDirectiveIndex}();try{is(d);for(let I=s;I<a;I++){const D=e.data[I],B=n[I];$d(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&up(D,B)}}finally{is(-1),$d(m)}}function up(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Rg(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function zI(e,n,r){if(r){if(n.exportAs)for(let s=0;s<n.exportAs.length;s++)r[n.exportAs[s]]=e;Fa(n)&&(r[""]=e)}}function Py(e,n,r,s,a){e.data[s]=a;const d=a.factory||(a.factory=Ja(a.type)),m=new Lf(d,Fa(a),_u);e.blueprint[s]=m,r[s]=m,function Sg(e,n,r,s,a){const d=a.hostBindings;if(d){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const I=~n.index;(function R_(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(m)!=I&&m.push(I),m.push(r,s,d)}}(e,n,s,cp(e,r,a.hostVars,jr),a)}function Qc(e,n,r,s,a,d){const m=co(e,n);!function hh(e,n,r,s,a,d,m){if(null==d)e.removeAttribute(n,a,r);else{const I=null==m?Ar(d):m(d,s||"",a);e.setAttribute(n,a,I,r)}}(n[Dr],m,d,e.value,r,s,a)}function My(e,n,r,s,a,d){const m=d[n];if(null!==m)for(let I=0;I<m.length;)wg(s,r,m[I++],m[I++],m[I++],m[I++])}function Ny(e,n,r){let s=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===s&&(s=[]);const m=e[d];for(let I=0;I<m.length;I+=3)if(m[I]===n){s.push(d,m[I+1],m[I+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function wd(e,n,r,s){return[e,!0,0,n,null,s,null,r,null,null]}function Oy(e,n){const r=e.contentQueries;if(null!==r){const s=Ae(null);try{for(let a=0;a<r.length;a+=2){const m=r[a+1];if(-1!==m){const I=e.data[m];h(r[a]),I.contentQueries(2,n[m],m)}}}finally{Ae(s)}}}function fh(e,n){return e[Fc]?e[ou][ka]=n:e[Fc]=n,e[ou]=n,n}function Pg(e,n,r){h(0);const s=Ae(null);try{n(e,r)}finally{Ae(s)}}function xy(e){return e[Lc]??=[]}function Ga(e){return e.cleanup??=[]}function bd(e,n){const r=e[es],s=r?r.get(Kc,null):null;s&&s.handleError(n)}function ph(e,n,r,s,a){for(let d=0;d<r.length;){const m=r[d++],I=r[d++],D=r[d++];wg(e.data[m],n[m],s,I,D,a)}}function KI(e,n){const r=ji(n,e),s=r[Tn];!function nf(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(s,r);const a=r[Ai];null!==a&&null===r[Qs]&&(r[Qs]=Xf(a,r[es])),Ly(s,r,r[Wi])}function Ly(e,n,r){$(n);try{const s=e.viewQuery;null!==s&&Pg(1,s,r);const a=e.template;null!==a&&ef(e,n,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[Ys]?.finishViewCreation(e),e.staticContentQueries&&Oy(e,n),e.staticViewQueries&&Pg(2,e.viewQuery,r);const d=e.components;null!==d&&function WI(e,n){for(let r=0;r<n.length;r++)KI(e,n[r])}(n,d)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{n[sr]&=-5,$n()}}function $u(e,n,r,s){const a=Ae(null);try{const d=n.tView,D=bg(e,d,r,4096&e[sr]?4096:16,null,n,null,null,s?.injector??null,s?.embeddedViewInjector??null,s?.dehydratedView??null);D[mc]=e[n.index];const X=e[Ys];return null!==X&&(D[Ys]=X.createEmbeddedView(d)),Ly(d,D,r),D}finally{Ae(a)}}function ju(e,n){return!n||null===n.firstChild||Yd(e)}function Hu(e,n,r,s=!0){const a=n[Tn];if(function I_(e,n,r,s){const a=Qi+s,d=r.length;s>0&&(r[a-1][ka]=n),s<d-Qi?(n[ka]=r[a],ml(r,Qi+s,n)):(r.push(n),n[ka]=null),n[as]=r;const m=n[mc];null!==m&&r!==m&&yy(m,n);const I=n[Ys];null!==I&&I.insertView(e),wf(n),n[sr]|=128}(a,n,e,r),s){const m=dr(r,e),I=n[Dr],D=N(I,e[Js]);null!==D&&function E_(e,n,r,s,a,d){s[Ai]=a,s[qs]=n,ci(e,s,r,1,a,d)}(a,e[qs],I,n,D,m)}const d=n[Qs];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function rf(e,n,r,s,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&s.push(Wr(d)),po(d)&&Vy(d,s);const m=r.type;if(8&m)rf(e,n,r.child,s);else if(32&m){const I=hy(r,n);let D;for(;D=I();)s.push(D)}else if(16&m){const I=nr(n,r);if(Array.isArray(I))s.push(...I);else{const D=Ea(n[ps]);rf(D[Tn],D,I,s,!0)}}r=a?r.projectionNext:r.next}return s}function Vy(e,n){for(let r=Qi;r<e.length;r++){const s=e[r],a=s[Tn].firstChild;null!==a&&rf(s[Tn],s,a,n)}e[Js]!==e[Ai]&&n.push(e[Js])}let Ng=[];const qI={...Me,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ud(e.lView)},consumerOnSignalRead(){this.lView[va]=this}},L_={...Me,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Ea(e.lView);for(;n&&!xg(n[Tn]);)n=Ea(n);n&&Cf(n)},consumerOnSignalRead(){this.lView[va]=this}};function xg(e){return 2!==e.type}const dp=100;function Iu(e,n=!0,r=0){const s=e[ol],a=s.rendererFactory;a.begin?.();try{!function By(e,n){const r=Mu();try{Hc(!0),Lg(e,n);let s=0;for(;du(e);){if(s===dp)throw new en(103,!1);s++,Lg(e,1)}}finally{Hc(r)}}(e,r)}catch(m){throw n&&bd(e,m),m}finally{a.end?.(),s.inlineEffectRunner?.flush()}}function V_(e,n,r,s){const a=n[sr];if(!(256&~a))return;n[ol].inlineEffectRunner?.flush(),$(n);let I=!0,D=null,B=null;xg(e)?(B=function Uy(e){return e[va]??function x_(e){const n=Ng.pop()??Object.create(qI);return n.lView=e,n}(e)}(n),D=st(B)):null===function Oe(){return U}()?(I=!1,B=function Og(e){const n=e[va]??Object.create(L_);return n.lView=e,n}(n),D=st(B)):n[va]&&(yt(n[va]),n[va]=null);try{Tf(n),function fu(e){return $r.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&ef(e,n,r,2,s);const X=!(3&~a);if(X){const rt=e.preOrderCheckHooks;null!==rt&&zc(n,rt,null)}else{const rt=e.preOrderHooks;null!==rt&&cl(n,rt,0,null),Hd(n,0)}if(function U_(e){for(let n=Ei(e);null!==n;n=jm(n)){if(!(n[sr]&Ru.HasTransplantedViews))continue;const r=n[yc];for(let s=0;s<r.length;s++)Cf(r[s])}}(n),$y(n,0),null!==e.contentQueries&&Oy(e,n),X){const rt=e.contentCheckHooks;null!==rt&&zc(n,rt)}else{const rt=e.contentHooks;null!==rt&&cl(n,rt,1),Hd(n,1)}!function C_(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let s=0;s<r.length;s++){const a=r[s];if(a<0)is(~a);else{const d=a,m=r[++s],I=r[++s];Nf(m,d),I(2,n[d])}}}finally{is(-1)}}(e,n);const ye=e.components;null!==ye&&Hy(n,ye,0);const Xe=e.viewQuery;if(null!==Xe&&Pg(2,Xe,s),X){const rt=e.viewCheckHooks;null!==rt&&zc(n,rt)}else{const rt=e.viewHooks;null!==rt&&cl(n,rt,2),Hd(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Zs]){for(const rt of n[Zs])rt();n[Zs]=null}n[sr]&=-73}catch(X){throw ud(n),X}finally{null!==B&&(Ze(B,D),I&&function k_(e){e.lView[va]!==e&&(e.lView=null,Ng.push(e))}(B)),$n()}}function $y(e,n){for(let r=Ei(e);null!==r;r=jm(r))for(let s=Qi;s<r.length;s++)kg(r[s],n)}function jy(e,n,r){kg(ji(n,e),r)}function kg(e,n){$c(e)&&Lg(e,n)}function Lg(e,n){const s=e[Tn],a=e[sr],d=e[va];let m=!!(0===n&&16&a);if(m||=!!(64&a&&0===n),m||=!!(1024&a),m||=!(!d?.dirty||!wt(d)),m||=!1,d&&(d.dirty=!1),e[sr]&=-9217,m)V_(s,e,s.template,e[Wi]);else if(8192&a){$y(e,1);const I=s.components;null!==I&&Hy(e,I,1)}}function Hy(e,n,r){for(let s=0;s<n.length;s++)jy(e,n[s],r)}function hp(e,n){const r=Mu()?64:1088;for(e[ol].changeDetectionScheduler?.notify(n);e;){e[sr]|=r;const s=Ea(e);if(Pu(e)&&!s)return e;e=s}return null}class fp{get rootNodes(){const n=this._lView,r=n[Tn];return rf(r,n,r.firstChild,[])}constructor(n,r,s=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wi]}set context(n){this._lView[Wi]=n}get destroyed(){return!(256&~this._lView[sr])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[as];if(po(n)){const r=n[8],s=r?r.indexOf(this):-1;s>-1&&(ap(n,s),Gi(r,s))}this._attachedToViewContainer=!1}lp(this._lView[Tn],this._lView)}onDestroy(n){Fd(this._lView,n)}markForCheck(){hp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[sr]&=-129}reattach(){wf(this._lView),this._lView[sr]|=128}detectChanges(){this._lView[sr]|=1024,Iu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new en(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=Pu(this._lView),r=this._lView[mc];null!==r&&!n&&vy(r,this._lView),my(this._lView[Tn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new en(902,!1);this._appRef=n;const r=Pu(this._lView),s=this._lView[mc];null!==s&&!r&&yy(s,this._lView),wf(this._lView)}}let sf=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=gh}return e})();const B_=sf,XI=class extends B_{constructor(n,r,s){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,s){const a=$u(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:s});return new fp(a)}};function gh(){return Ec(ts(),Jt())}function Ec(e,n){return 4&e.type?new XI(n,e,qd(e,n)):null}let $w=()=>null;function Cp(e,n){return $w(e,n)}class Wg{}const tv=new xr("",{providedIn:"root",factory:()=>!1}),jw=new xr("");class FR{}class Hw{}class UR{resolveComponentFactory(n){throw function VR(e){const n=Error(`No component factory found for ${Ni(e)}.`);return n.ngComponent=e,n}(n)}}class iE{static#e=this.NULL=new UR}class sT{}let BR=(()=>{class e{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function $R(){const e=Jt(),r=ji(ts().index,e);return(As(r)?r:e)[Dr]}()}return e})(),jR=(()=>{class e{static#e=this.\u0275prov=kn({token:e,providedIn:"root",factory:()=>null})}return e})();const Gw=new Set;function Yl(e){Gw.has(e)||(Gw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Kw(e){let n=!0;return setTimeout(()=>{n&&(n=!1,e())}),"function"==typeof Ti.requestAnimationFrame&&Ti.requestAnimationFrame(()=>{n&&(n=!1,e())}),()=>{n=!1}}function Ww(e){let n=!0;return queueMicrotask(()=>{n&&e()}),()=>{n=!1}}function qw(...e){}class to{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ql(!1),this.onMicrotaskEmpty=new ql(!1),this.onStable=new ql(!1),this.onError=new ql(!1),typeof Zone>"u")throw new en(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&r,a.shouldCoalesceRunChangeDetection=s,a.callbackScheduled=!1,function GR(e){const n=()=>{!function zR(e){e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,Zone.root.run(()=>{Kw(()=>{e.callbackScheduled=!1,aT(e),e.isCheckStableRunning=!0,oT(e),e.isCheckStableRunning=!1})}),aT(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,s,a,d,m,I)=>{if(function KR(e){return Yw(e,"__ignore_ng_zone__")}(I))return r.invokeTask(a,d,m,I);try{return Xw(e),r.invokeTask(a,d,m,I)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||e.shouldCoalesceRunChangeDetection)&&n(),Qw(e)}},onInvoke:(r,s,a,d,m,I,D)=>{try{return Xw(e),r.invoke(a,d,m,I,D)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function WR(e){return Yw(e,"__scheduler_tick__")}(I)&&n(),Qw(e)}},onHasTask:(r,s,a,d)=>{r.hasTask(a,d),s===a&&("microTask"==d.change?(e._hasPendingMicrotasks=d.microTask,aT(e),oT(e)):"macroTask"==d.change&&(e.hasPendingMacrotasks=d.macroTask))},onHandleError:(r,s,a,d)=>(r.handleError(a,d),e.runOutsideAngular(()=>e.onError.emit(d)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!to.isInAngularZone())throw new en(909,!1)}static assertNotInAngularZone(){if(to.isInAngularZone())throw new en(909,!1)}run(n,r,s){return this._inner.run(n,r,s)}runTask(n,r,s,a){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+a,n,HR,qw,qw);try{return d.runTask(m,r,s)}finally{d.cancelTask(m)}}runGuarded(n,r,s){return this._inner.runGuarded(n,r,s)}runOutsideAngular(n){return this._outer.run(n)}}const HR={};function oT(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function aT(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Xw(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Qw(e){e._nesting--,oT(e)}class lT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ql,this.onMicrotaskEmpty=new ql,this.onStable=new ql,this.onError=new ql}run(n,r,s){return n.apply(r,s)}runGuarded(n,r,s){return n.apply(r,s)}runOutsideAngular(n){return n()}runTask(n,r,s,a){return n.apply(r,s)}}function Yw(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}var Zl=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Zl||{});const Zw={destroy(){}};function Jw(e,n){!n&&function su(e){if(!iu())throw new en(-203,!1)}();const r=n?.injector??vn(mo);return function Al(e){return"browser"===(e??vn(mo)).get(Gm)}(r)?(Yl("NgAfterNextRender"),function eb(e,n,r,s){const a=function QR(e,n){if(e instanceof Function)switch(n){case Zl.EarlyRead:return{earlyRead:e};case Zl.Write:return{write:e};case Zl.MixedReadWrite:return{mixedReadWrite:e};case Zl.Read:return{read:e}}return e}(e,s),d=n.get(sE),m=d.handler??=new ZR,I=[],D=[],B=()=>{for(const rt of D)m.unregister(rt);X()},X=n.get(Hf).onDestroy(B);let ye=0;const Xe=(rt,Mt)=>{if(!Mt)return;const nn=r?(...Vn)=>(ye--,ye<1&&B(),Mt(...Vn)):Mt,bn=Du(n,()=>new YR(rt,I,nn));m.register(bn),D.push(bn),ye++};return Xe(Zl.EarlyRead,a.earlyRead),Xe(Zl.Write,a.write),Xe(Zl.MixedReadWrite,a.mixedReadWrite),Xe(Zl.Read,a.read),{destroy:B}}(e,r,!0,n?.phase??Zl.MixedReadWrite)):Zw}class YR{constructor(n,r,s){this.phase=n,this.pipelinedArgs=r,this.callbackFn=s,this.zone=vn(to),this.errorHandler=vn(Kc,{optional:!0}),vn(Wg,{optional:!0})?.notify(6)}invoke(){try{const n=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,n)}catch(n){this.errorHandler?.handleError(n)}}}class ZR{constructor(){this.executingCallbacks=!1,this.buckets={[Zl.EarlyRead]:new Set,[Zl.Write]:new Set,[Zl.MixedReadWrite]:new Set,[Zl.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const r of n)r.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let sE=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const s of r)s()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=kn({token:e,providedIn:"root",factory:()=>new e})}return e})();function pf(e){return!!bi(e)}function aE(e,n,r){let s=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==n)for(let m=0;m<n.length;m++){const I=n[m];"number"==typeof I?d=I:1==d?a=ws(a,I):2==d&&(s=ws(s,I+": "+n[++m]+";"))}r?e.styles=s:e.stylesWithoutHost=s,r?e.classes=a:e.classesWithoutHost=a}class rb extends iE{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Pn(n);return new iv(r,this.ngModule)}}function ib(e,n){const r=[];for(const s in e){if(!e.hasOwnProperty(s))continue;const a=e[s];if(void 0===a)continue;const d=Array.isArray(a),m=d?a[0]:a;r.push(n?{propName:m,templateName:s,isSignal:!!((d?a[1]:yl.None)&yl.SignalBased)}:{propName:m,templateName:s})}return r}class iv extends Hw{get inputs(){const n=this.componentDef,r=n.inputTransforms,s=ib(n.inputs,!0);if(null!==r)for(const a of s)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return s}get outputs(){return ib(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function b(e){return e.map(P).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,s,a){const d=Ae(null);try{let m=(a=a||this.ngModule)instanceof Oo?a:a?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const I=m?new xu(n,m):n,D=I.get(sT,null);if(null===D)throw new en(407,!1);const B=I.get(jR,null),Xe={rendererFactory:D,sanitizer:B,inlineEffectRunner:null,afterRenderEventManager:I.get(sE,null),changeDetectionScheduler:I.get(Wg,null)},rt=D.createRenderer(null,this.componentDef),Mt=this.componentDef.selectors[0][0]||"div",nn=s?function Iy(e,n,r,s){const d=s.get(hg,!1)||r===Co.ShadowDom,m=e.selectRootElement(n,d);return function Ty(e){Dg(e)}(m),m}(rt,s,this.componentDef.encapsulation,I):Yh(rt,Mt,function tP(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(Mt));let bn=512;this.componentDef.signals?bn|=4096:this.componentDef.onPush||(bn|=16);let Vn=null;null!==nn&&(Vn=Xf(nn,I,!0));const hn=tf(0,null,null,1,0,null,null,null,null,null,null),Jr=bg(null,hn,null,bn,null,null,Xe,rt,I,null,Vn);let ns,Os;$(Jr);try{const ba=this.componentDef;let Tc,ym=null;ba.findHostDirectiveDefs?(Tc=[],ym=new Map,ba.findHostDirectiveDefs(ba,Tc,ym),Tc.push(ba)):Tc=[ba];const RR=function rP(e,n){const r=e[Tn],s=fr;return e[s]=n,Dl(r,s,2,"#host",null)}(Jr,nn),Ck=function iP(e,n,r,s,a,d,m){const I=a[Tn];!function sP(e,n,r,s){for(const a of e)n.mergedAttrs=ma(n.mergedAttrs,a.hostAttrs);null!==n.mergedAttrs&&(aE(n,n.mergedAttrs,!0),null!==r&&ht(s,r,n))}(s,e,n,m);let D=null;null!==n&&(D=Xf(n,a[es]));const B=d.rendererFactory.createRenderer(n,r);let X=16;r.signals?X=4096:r.onPush&&(X=64);const ye=bg(a,w_(r),null,X,a[e.index],e,d,B,null,null,D);return I.firstCreatePass&&Rg(I,e,s.length-1),fh(a,ye),a[e.index]=ye}(RR,nn,ba,Tc,Jr,Xe,rt);Os=Bs(hn,fr),nn&&function aP(e,n,r,s){if(s)di(e,r,["ng-version","18.1.2"]);else{const{attrs:a,classes:d}=function M(e){const n=[],r=[];let s=1,a=2;for(;s<e.length;){let d=e[s];if("string"==typeof d)2===a?""!==d&&n.push(d,e[++s]):8===a&&r.push(d);else{if(!ao(a))break;a=d}s++}return{attrs:n,classes:r}}(n.selectors[0]);a&&di(e,r,a),d&&d.length>0&&Gt(e,r,d.join(" "))}}(rt,ba,nn,s),void 0!==r&&function lP(e,n,r){const s=e.projection=[];for(let a=0;a<n.length;a++){const d=r[a];s.push(null!=d?Array.from(d):null)}}(Os,this.ngContentSelectors,r),ns=function oP(e,n,r,s,a,d){const m=ts(),I=a[Tn],D=co(m,a);za(I,a,m,r,null,s);for(let X=0;X<r.length;X++)ja(ku(a,I,m.directiveStart+X,m),a);M_(I,a,m),D&&ja(D,a);const B=ku(a,I,m.directiveStart+m.componentOffset,m);if(e[Wi]=a[Wi]=B,null!==d)for(const X of d)X(B,n);return _y(I,m,a),B}(Ck,ba,Tc,ym,Jr,[cP]),Ly(hn,Jr,null)}finally{$n()}return new nP(this.componentType,ns,qd(Os,Jr),Jr,Os)}finally{Ae(d)}}}class nP extends FR{constructor(n,r,s,a,d){super(),this.location=s,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new fp(a,void 0,!1),this.componentType=n}setInput(n,r){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;ph(d[Tn],d,a,n,r),this.previousInputValues.set(n,r),hp(ji(this._tNode.index,d),1)}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function cP(){const e=ts();Ou(Jt()[Tn],e)}let lE=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=uP}return e})();function uP(){return ab(ts(),Jt())}const dP=lE,sb=class extends dP{constructor(n,r,s){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=s}get element(){return qd(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bf(this._hostTNode,this._hostLView);if(kp(n)){const r=Rh(n,this._hostLView),s=Kd(n);return new Vo(r[Tn].data[s+8],r)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=ob(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-Qi}createEmbeddedView(n,r,s){let a,d;"number"==typeof s?a=s:null!=s&&(a=s.index,d=s.injector);const m=Cp(this._lContainer,n.ssrId),I=n.createEmbeddedViewImpl(r||{},d,m);return this.insertImpl(I,a,ju(this._hostTNode,m)),I}createComponent(n,r,s,a,d){const m=n&&!function sl(e){return"function"==typeof e}(n);let I;if(m)I=r;else{const Mt=r||{};I=Mt.index,s=Mt.injector,a=Mt.projectableNodes,d=Mt.environmentInjector||Mt.ngModuleRef}const D=m?n:new iv(Pn(n)),B=s||this.parentInjector;if(!d&&null==D.ngModule){const nn=(m?B:this.parentInjector).get(Oo,null);nn&&(d=nn)}const X=Pn(D.componentType??{}),ye=Cp(this._lContainer,X?.id??null),rt=D.create(B,a,ye?.firstChild??null,d);return this.insertImpl(rt.hostView,I,ju(this._hostTNode,ye)),rt}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,s){const a=n._lView;if(function Ih(e){return po(e[as])}(a)){const I=this.indexOf(n);if(-1!==I)this.detach(I);else{const D=a[as],B=new sb(D,D[qs],D[as]);B.detach(B.indexOf(n))}}const d=this._adjustIndex(r),m=this._lContainer;return Hu(m,a,d,s),n.attachToViewContainerRef(),ml(hT(m),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=ob(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),s=ap(this._lContainer,r);s&&(Gi(hT(this._lContainer),r),lp(s[Tn],s))}detach(n){const r=this._adjustIndex(n,-1),s=ap(this._lContainer,r);return s&&null!=Gi(hT(this._lContainer),r)?new fp(s):null}_adjustIndex(n,r=0){return n??this.length+r}};function ob(e){return e[8]}function hT(e){return e[8]||(e[8]=[])}function ab(e,n){let r;const s=n[e.index];return po(s)?r=s:(r=wd(s,n,null,e),n[e.index]=r,fh(n,r)),lb(r,n,e,s),new sb(r,e,n)}let lb=function ub(e,n,r,s){if(e[Js])return;let a;a=8&r.type?Wr(s):function hP(e,n){const r=e[Dr],s=r.createComment(""),a=co(n,e);return o(r,N(r,a),s,function K(e,n){return e.nextSibling(n)}(r,a),!1),s}(n,r),e[Js]=a},fT=()=>!1;class pT{constructor(n){this.queryList=n,this.matches=null}clone(){return new pT(this.queryList)}setDirty(){this.queryList.setDirty()}}class gT{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const s=null!==n.contentQueries?n.contentQueries[0]:r.length,a=[];for(let d=0;d<s;d++){const m=r.getByIndex(d);a.push(this.queries[m.indexInDeclarationView].clone())}return new gT(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==ET(n,r).matches&&this.queries[r].setDirty()}}class db{constructor(n,r,s=null){this.flags=r,this.read=s,this.predicate="string"==typeof n?function EP(e){return e.split(",").map(n=>n.trim())}(n):n}}class mT{constructor(n=[]){this.queries=n}elementStart(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let s=0;s<this.length;s++){const a=null!==r?r.length:0,d=this.getByIndex(s).embeddedTView(n,a);d&&(d.indexInDeclarationView=s,null!==r?r.push(d):r=[d])}return null!==r?new mT(r):null}template(n,r){for(let s=0;s<this.queries.length;s++)this.queries[s].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class yT{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new yT(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let s=n.parent;for(;null!==s&&8&s.type&&s.index!==r;)s=s.parent;return r===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const d=s[a];this.matchTNodeWithReadOption(n,r,mP(r,d)),this.matchTNodeWithReadOption(n,r,Bp(r,n,d,!1,!1))}else s===sf?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,Bp(r,n,s,!1,!1))}matchTNodeWithReadOption(n,r,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===yd||a===lE||a===sf&&4&r.type)this.addMatch(r.index,-2);else{const d=Bp(r,n,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,s)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function mP(e,n){const r=e.localNames;if(null!==r)for(let s=0;s<r.length;s+=2)if(r[s]===n)return r[s+1];return null}function vP(e,n,r,s){return-1===r?function yP(e,n){return 11&e.type?qd(e,n):4&e.type?Ec(e,n):null}(n,e):-2===r?function _P(e,n,r){return r===yd?qd(n,e):r===sf?Ec(n,e):r===lE?ab(n,e):void 0}(e,n,s):ku(e,e[Tn],r,n)}function hb(e,n,r,s){const a=n[Ys].queries[s];if(null===a.matches){const d=e.data,m=r.matches,I=[];for(let D=0;null!==m&&D<m.length;D+=2){const B=m[D];I.push(B<0?null:vP(n,d[B],m[D+1],r.metadata.read))}a.matches=I}return a.matches}function vT(e,n,r,s){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const m=hb(e,n,a,r);for(let I=0;I<d.length;I+=2){const D=d[I];if(D>0)s.push(m[I/2]);else{const B=d[I+1],X=n[-D];for(let ye=Qi;ye<X.length;ye++){const Xe=X[ye];Xe[mc]===Xe[as]&&vT(Xe[Tn],Xe,B,s)}if(null!==X[yc]){const ye=X[yc];for(let Xe=0;Xe<ye.length;Xe++){const rt=ye[Xe];vT(rt[Tn],rt,B,s)}}}}}return s}function fb(e,n,r){const s=new Gf(!(4&~r));return function A_(e,n,r,s){const a=xy(n);a.push(r),e.firstCreatePass&&Ga(e).push(s,a.length-1)}(e,n,s,s.destroy),(n[Ys]??=new gT).queries.push(new pT(s))-1}function mb(e,n,r){null===e.queries&&(e.queries=new mT),e.queries.track(new yT(n,r))}function ET(e,n){return e.queries.getByIndex(n)}function yb(e,n){const r=e[Tn],s=ET(r,n);return s.crossesNgTemplate?vT(r,e,n,[]):hb(r,e,s,n)}function _b(e,n){Yl("NgSignals");const r=function ne(e){const n=Object.create(an);n.value=e;const r=()=>(le(n),n.value);return r[me]=n,r}(e),s=r[me];return n?.equal&&(s.equal=n.equal),r.set=a=>Tt(s,a),r.update=a=>function Ne(e,n){ct()||Qe(),Tt(e,n(e.value))}(s,a),r.asReadonly=Eb.bind(r),r}function Eb(){const e=this[me];if(void 0===e.readonlyFn){const n=()=>this();n[me]=e,e.readonlyFn=n}return e.readonlyFn}function TT(e){let n=function Nb(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const s=[e];for(;n;){let a;if(Fa(e))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new en(903,!1);a=n.\u0275dir}if(a){if(r){s.push(a);const m=e;m.inputs=uE(e.inputs),m.inputTransforms=uE(e.inputTransforms),m.declaredInputs=uE(e.declaredInputs),m.outputs=uE(e.outputs);const I=a.hostBindings;I&&kP(e,I);const D=a.viewQuery,B=a.contentQueries;if(D&&OP(e,D),B&&xP(e,B),MP(e,a),Ps(e.outputs,a.outputs),Fa(a)&&a.data.animation){const X=e.data;X.animation=(X.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let m=0;m<d.length;m++){const I=d[m];I&&I.ngInherit&&I(e),I===TT&&(r=!1)}}n=Object.getPrototypeOf(n)}!function NP(e){let n=0,r=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=n+=a.hostVars,a.hostAttrs=ma(a.hostAttrs,r=ma(r,a.hostAttrs))}}(s)}function MP(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const s=n.inputs[r];if(void 0!==s&&(e.inputs[r]=s,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const a=Array.isArray(s)?s[0]:s;if(!n.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=n.inputTransforms[a]}}}function uE(e){return e===Po?{}:e===si?[]:e}function OP(e,n){const r=e.viewQuery;e.viewQuery=r?(s,a)=>{n(s,a),r(s,a)}:n}function xP(e,n){const r=e.contentQueries;e.contentQueries=r?(s,a,d)=>{n(s,a,d),r(s,a,d)}:n}function kP(e,n){const r=e.hostBindings;e.hostBindings=r?(s,a)=>{n(s,a),r(s,a)}:n}function Lb(e){const n=e.inputConfig,r={};for(const s in n)if(n.hasOwnProperty(s)){const a=n[s];Array.isArray(a)&&a[3]&&(r[s]=a[3])}e.inputTransforms=r}class wp{}class Fb{}function $P(e,n){return new CT(e,n??null,[])}class CT extends wp{constructor(n,r,s){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rb(this);const a=bi(n);this._bootstrapComponents=Ss(a.bootstrap),this._r3Injector=xv(n,r,[{provide:wp,useValue:this},{provide:iE,useValue:this.componentFactoryResolver},...s],Ni(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class wT extends Fb{constructor(n){super(),this.moduleType=n}create(n){return new CT(this.moduleType,n,[])}}class Vb extends wp{constructor(n){super(),this.componentFactoryResolver=new rb(this),this.instance=null;const r=new Oc([...n.providers,{provide:wp,useValue:this},{provide:iE,useValue:this.componentFactoryResolver}],n.parent||Au(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function bT(e,n,r=null){return new Vb({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function dE(e){return!!AT(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function AT(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Uo(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function av(e,n,r,s,a,d,m,I,D,B){const X=r+fr,ye=n.firstCreatePass?function WP(e,n,r,s,a,d,m,I,D){const B=n.consts,X=Dl(n,e,4,m||null,I||null);ra(n,r,X,ea(B,D)),Ou(n,X);const ye=X.tView=tf(2,X,s,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,B,null);return null!==n.queries&&(n.queries.template(n,X),ye.queries=n.queries.embeddedTView(X)),X}(X,n,e,s,a,d,m,I,D):n.data[X];wo(ye,!1);const Xe=Ub(n,e,ye,r);Nu()&&yn(n,e,Xe,ye),ja(Xe,e);const rt=wd(Xe,e,Xe,ye);return e[X]=rt,fh(e,rt),function cb(e,n,r){return fT(e,n,r)}(rt,ye,e),cd(ye)&&dh(n,e,ye),null!=D&&Ey(e,ye,B),ye}function DT(e,n,r,s,a,d,m,I){const D=Jt(),B=li();return av(D,B,e,n,r,s,a,ea(B.consts,d),m,I),DT}let Ub=function Bb(e,n,r,s){return ll(!0),n[Dr].createComment("")};function VT(e,n,r,s){const a=Jt();return Uo(a,$a(),n)&&(li(),Qc(_i(),a,e,n,r,s)),VT}function vE(e,n){return e<<17|n<<2}function yf(e){return e>>17&32767}function UT(e){return 2|e}function Dp(e){return(131068&e)>>2}function BT(e,n){return-131069&e|n<<2}function $T(e){return 1|e}function yA(e,n,r,s){const a=e[r+1],d=null===n;let m=s?yf(a):Dp(a),I=!1;for(;0!==m&&(!1===I||d);){const B=e[m+1];NM(e[m],n)&&(I=!0,e[m+1]=s?$T(B):UT(B)),m=s?yf(B):Dp(B)}I&&(e[r+1]=s?UT(a):$T(a))}function NM(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Zo(e,n)>=0}function jT(e,n,r){const s=Jt();return Uo(s,$a(),n)&&function Sl(e,n,r,s,a,d,m,I){const D=co(n,r);let X,B=n.inputs;!I&&null!=B&&(X=B[s])?(ph(e,r,X,s,a),Vc(n)&&function Dy(e,n){const r=ji(n,e);16&r[sr]||(r[sr]|=64)}(r,n.index)):3&n.type&&(s=function D_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=m?m(a,n.value||"",s):a,d.setProperty(D,s,a))}(li(),_i(),s,e,n,s[Dr],r,!1),jT}function HT(e,n,r,s,a){const m=a?"class":"style";ph(e,r,n.inputs[m],m,s)}function zT(e,n){return function Xu(e,n,r,s){const a=Jt(),d=li(),m=function Fo(e){const n=$r.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}(2);d.firstUpdatePass&&function AA(e,n,r,s){const a=e.data;if(null===a[r+1]){const d=a[Ln()],m=function bA(e,n){return n>=e.expandoStartIndex}(e,r);(function PA(e,n){return!!(e.flags&(n?8:16))})(d,s)&&null===n&&!m&&(n=!1),n=function $M(e,n,r,s){const a=function Of(e){const n=$r.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=s?n.residualClasses:n.residualStyles;if(null===a)0===(s?n.classBindings:n.styleBindings)&&(r=dv(r=GT(null,e,n,r,s),n.attrs,s),d=null);else{const m=n.directiveStylingLast;if(-1===m||e[m]!==a)if(r=GT(a,e,n,r,s),null===d){let D=function jM(e,n,r){const s=r?n.classBindings:n.styleBindings;if(0!==Dp(s))return e[yf(s)]}(e,n,s);void 0!==D&&Array.isArray(D)&&(D=GT(null,e,n,D[1],s),D=dv(D,n.attrs,s),function HM(e,n,r,s){e[yf(r?n.classBindings:n.styleBindings)]=s}(e,n,s,D))}else d=function zM(e,n,r){let s;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)s=dv(s,e[d].hostAttrs,r);return dv(s,n.attrs,r)}(e,n,s)}return void 0!==d&&(s?n.residualClasses=d:n.residualStyles=d),r}(a,d,n,s),function PM(e,n,r,s,a,d){let m=d?n.classBindings:n.styleBindings,I=yf(m),D=Dp(m);e[s]=r;let X,B=!1;if(Array.isArray(r)?(X=r[1],(null===X||Zo(r,X)>0)&&(B=!0)):X=r,a)if(0!==D){const Xe=yf(e[I+1]);e[s+1]=vE(Xe,I),0!==Xe&&(e[Xe+1]=BT(e[Xe+1],s)),e[I+1]=function SM(e,n){return 131071&e|n<<17}(e[I+1],s)}else e[s+1]=vE(I,0),0!==I&&(e[I+1]=BT(e[I+1],s)),I=s;else e[s+1]=vE(D,0),0===I?I=s:e[D+1]=BT(e[D+1],s),D=s;B&&(e[s+1]=UT(e[s+1])),yA(e,X,s,!0),yA(e,X,s,!1),function MM(e,n,r,s,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&Zo(d,n)>=0&&(r[s+1]=$T(r[s+1]))}(n,X,e,s,d),m=vE(I,D),d?n.classBindings=m:n.styleBindings=m}(a,d,n,r,m,s)}}(d,e,m,s),n!==jr&&Uo(a,m,n)&&function SA(e,n,r,s,a,d,m,I){if(!(3&n.type))return;const D=e.data,B=D[I+1],X=function RM(e){return!(1&~e)}(B)?RA(D,n,r,a,Dp(B),m):void 0;_E(X)||(_E(d)||function DM(e){return!(2&~e)}(B)&&(d=RA(D,null,r,a,I,m)),function Pt(e,n,r,s,a){if(n)a?e.addClass(r,s):e.removeClass(r,s);else{let d=-1===s.indexOf("-")?void 0:Ig.DashCase;null==a?e.removeStyle(r,s,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Ig.Important),e.setStyle(r,s,a,d))}}(s,m,rs(Ln(),r),a,d))}(d,d.data[Ln()],a,a[Dr],e,a[m+1]=function qM(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ni(Ed(e)))),e}(n,r),s,m)}(e,n,null,!0),zT}function GT(e,n,r,s,a){let d=null;const m=r.directiveEnd;let I=r.directiveStylingLast;for(-1===I?I=r.directiveStart:I++;I<m&&(d=n[I],s=dv(s,d.hostAttrs,a),d!==e);)I++;return null!==e&&(r.directiveStylingLast=I),s}function dv(e,n,r){const s=r?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const m=n[d];"number"==typeof m?a=m:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),To(e,m,!!r||n[++d]))}return void 0===e?null:e}function RA(e,n,r,s,a,d){const m=null===n;let I;for(;a>0;){const D=e[a],B=Array.isArray(D),X=B?D[1]:D,ye=null===X;let Xe=r[a+1];Xe===jr&&(Xe=ye?si:void 0);let rt=ye?nl(Xe,s):X===s?Xe:void 0;if(B&&!_E(rt)&&(rt=nl(D,s)),_E(rt)&&(I=rt,m))return I;const Mt=e[a+1];a=m?yf(Mt):Dp(Mt)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(I=nl(D,s))}return I}function _E(e){return void 0!==e}function IE(e,n,r,s){const a=Jt(),d=li(),m=fr+e,I=a[Dr],D=d.firstCreatePass?function yN(e,n,r,s,a,d){const m=n.consts,D=Dl(n,e,2,s,ea(m,a));return ra(n,r,D,ea(m,d)),null!==D.attrs&&aE(D,D.attrs,!1),null!==D.mergedAttrs&&aE(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(m,d,a,n,r,s):d.data[m],B=xA(d,a,D,I,n,e);a[m]=B;const X=cd(D);return wo(D,!0),ht(I,B,D),!function Xg(e){return!(32&~e.flags)}(D)&&Nu()&&yn(d,a,B,D),0===function bf(){return $r.lFrame.elementDepthCount}()&&ja(B,a),function Af(){$r.lFrame.elementDepthCount++}(),X&&(dh(d,a,D),_y(d,D,a)),null!==s&&Ey(a,D),IE}function TE(){let e=ts();wh()?Mf():(e=e.parent,wo(e,!1));const n=e;(function Sf(e){return $r.skipHydrationRootTNode===e})(n)&&function Ud(){$r.skipHydrationRootTNode=null}(),function Df(){$r.lFrame.elementDepthCount--}();const r=li();return r.firstCreatePass&&(Ou(r,e),Gl(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function Em(e){return!!(8&e.flags)}(n)&&HT(r,n,Jt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Im(e){return!!(16&e.flags)}(n)&&HT(r,n,Jt(),n.stylesWithoutHost,!1),TE}function XT(e,n,r,s){return IE(e,n,r,s),TE(),XT}let xA=(e,n,r,s,a,d)=>(ll(!0),Yh(s,a,function kf(){return $r.lFrame.currentNamespace}()));function CE(e,n,r){const s=Jt(),a=li(),d=e+fr,m=a.firstCreatePass?function EN(e,n,r,s,a){const d=n.consts,m=ea(d,s),I=Dl(n,e,8,"ng-container",m);return null!==m&&aE(I,m,!0),ra(n,r,I,ea(d,a)),null!==n.queries&&n.queries.elementStart(n,I),I}(d,a,s,n,r):a.data[d];wo(m,!0);const I=kA(a,s,m,e);return s[d]=I,Nu()&&yn(a,s,I,m),ja(I,s),cd(m)&&(dh(a,s,m),_y(a,m,s)),null!=r&&Ey(s,m),CE}function wE(){let e=ts();const n=li();return wh()?Mf():(e=e.parent,wo(e,!1)),n.firstCreatePass&&(Ou(n,e),Gl(e)&&n.queries.elementEnd(e)),wE}function QT(e,n,r){return CE(e,n,r),wE(),QT}let kA=(e,n,r,s)=>(ll(!0),gy(n[Dr],""));function LA(){return Jt()}const Sp=void 0;var wN=["en",[["a","p"],["AM","PM"],Sp],[["AM","PM"],Sp,Sp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Sp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Sp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Sp,"{1} 'at' {0}",Sp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CN(e){const r=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===s?1:5}];let hm={};function YT(e){const n=function bN(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=BA(n);if(r)return r;const s=n.split("-")[0];if(r=BA(s),r)return r;if("en"===s)return wN;throw new en(701,!1)}function UA(e){return YT(e)[fm.PluralCase]}function BA(e){return e in hm||(hm[e]=Ti.ng&&Ti.ng.common&&Ti.ng.common.locales&&Ti.ng.common.locales[e]),hm[e]}var fm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(fm||{});const pm="en-US";let $A=pm;let oD=(e,n,r)=>{};function e0(e,n,r,s){const a=Jt(),d=li(),m=ts();return function t0(e,n,r,s,a,d,m){const I=cd(s),B=e.firstCreatePass&&Ga(e),X=n[Wi],ye=xy(n);let Xe=!0;if(3&s.type||m){const nn=co(s,n),bn=m?m(nn):nn,Vn=ye.length,hn=m?ns=>m(Wr(ns[s.index])):s.index;let Jr=null;if(!m&&I&&(Jr=function hO(e,n,r,s){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const m=a[d];if(m===r&&a[d+1]===s){const I=n[Lc],D=a[d+2];return I.length>D?I[D]:null}"string"==typeof m&&(d+=2)}return null}(e,n,a,s.index)),null!==Jr)(Jr.__ngLastListenerFn__||Jr).__ngNextListenerFn__=d,Jr.__ngLastListenerFn__=d,Xe=!1;else{d=uD(s,n,X,d),oD(nn,a,d);const ns=r.listen(bn,a,d);ye.push(d,ns),B&&B.push(a,hn,Vn,Vn+1)}}else d=uD(s,n,X,d);const rt=s.outputs;let Mt;if(Xe&&null!==rt&&(Mt=rt[a])){const nn=Mt.length;if(nn)for(let bn=0;bn<nn;bn+=2){const Os=n[Mt[bn]][Mt[bn+1]].subscribe(d),ba=ye.length;ye.push(d,Os),B&&B.push(a,s.index,ba,-(ba+1))}}}(d,a,a[Dr],m,e,n,s),e0}function cD(e,n,r,s){const a=Ae(null);try{return Zr(6,n,r),!1!==r(s)}catch(d){return bd(e,d),!1}finally{Zr(7,n,r),Ae(a)}}function uD(e,n,r,s){return function a(d){if(d===Function)return s;hp(e.componentOffset>-1?ji(e.index,n):n,5);let I=cD(n,r,s,d),D=a.__ngNextListenerFn__;for(;D;)I=cD(n,r,D,d)&&I,D=D.__ngNextListenerFn__;return I}}function dD(e=1){return function lr(e){return($r.lFrame.contextLView=function Pp(e,n){for(;e>0;)n=n[Cl],e--;return n}(e,$r.lFrame.contextLView))[Wi]}(e)}function fO(e,n){let r=null;const s=function yh(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===s?tu(e,d,!0):nu(s,d))return a}else r=a}return r}function hD(e){const n=Jt()[ps][qs];if(!n.projection){const s=n.projection=function el(e,n){const r=[];for(let s=0;s<e;s++)r.push(n);return r}(e?e.length:1,null),a=s.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const m=e?fO(d,e):0;null!==m&&(a[m]?a[m].projectionNext=d:s[m]=d,a[m]=d)}d=d.next}}}function fD(e,n=0,r,s,a,d){const m=Jt(),I=li(),D=s?e+1:null;null!==D&&av(m,I,D,s,a,d,null,r);const B=Dl(I,fr+e,16,null,r||null);null===B.projection&&(B.projection=n),Mf();const ye=!m[Qs]||Wl();null===m[ps][qs].projection[B.projection]&&null!==D?function pO(e,n,r){const s=fr+r,a=n.data[s],d=e[s],m=Cp(d,a.tView.ssrId);Hu(d,$u(e,a,void 0,{dehydratedView:m}),0,ju(a,m))}(m,I,D):ye&&32&~B.flags&&function At(e,n,r){tt(n[Dr],0,n,r,t(e,r,n),he(r.parent||n[qs],r,n))}(I,m,B)}function CD(e,n,r,s){!function gb(e,n,r,s){const a=li();if(a.firstCreatePass){const d=ts();mb(a,new db(n,r,s),d.index),function IP(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return fb(a,Jt(),r)}(e,n,r,s)}function wD(e,n,r){!function pb(e,n,r){const s=li();return s.firstCreatePass&&(mb(s,new db(e,n,r),-1),!(2&~n)&&(s.staticViewQueries=!0)),fb(s,Jt(),n)}(e,n,r)}function bD(e){const n=Jt(),r=li(),s=E();h(s+1);const a=ET(r,s);if(e.dirty&&function al(e){return!(4&~e[sr])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=yb(n,s);e.reset(d,Lv),e.notifyOnChanges()}return!0}return!1}function AD(){return function _T(e,n){return e[Ys].queries[n].queryList}(Jt(),E())}function LD(e,n=""){const r=Jt(),s=li(),a=e+fr,d=s.firstCreatePass?Dl(s,a,1,n,null):s.data[a],m=FD(s,r,d,n,e);r[a]=m,Nu()&&yn(s,r,m,d),wo(d,!1)}let FD=(e,n,r,s,a)=>(ll(!0),function Qh(e,n){return e.createText(n)}(n[Dr],s));function s0(e){return o0("",e,""),s0}function o0(e,n,r){const s=Jt(),a=function rm(e,n,r,s){return Uo(e,$a(),r)?n+Ar(r)+s:jr}(s,e,n,r);return a!==jr&&function Bu(e,n,r){const s=rs(n,e);!function py(e,n,r){e.setValue(n,r)}(e[Dr],s,r)}(s,Ln(),a),o0}function a0(e,n,r,s,a){if(e=Qn(e),Array.isArray(e))for(let d=0;d<e.length;d++)a0(e[d],n,r,s,a);else{const d=li(),m=Jt(),I=ts();let D=Ul(e)?e:Qn(e.provide);const B=ru(e),X=1048575&I.providerIndexes,ye=I.directiveStart,Xe=I.providerIndexes>>20;if(Ul(e)||!e.multi){const rt=new Lf(B,a,_u),Mt=c0(D,n,a?X:X+Xe,ye);-1===Mt?($f(Ph(I,m),d,D),l0(d,e,n.length),n.push(D),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(rt),m.push(rt)):(r[Mt]=rt,m[Mt]=rt)}else{const rt=c0(D,n,X+Xe,ye),Mt=c0(D,n,X,X+Xe),bn=Mt>=0&&r[Mt];if(a&&!bn||!a&&!(rt>=0&&r[rt])){$f(Ph(I,m),d,D);const Vn=function LO(e,n,r,s,a){const d=new Lf(e,r,_u);return d.multi=[],d.index=n,d.componentProviders=0,QD(d,a,s&&!r),d}(a?kO:xO,r.length,a,s,B);!a&&bn&&(r[Mt].providerFactory=Vn),l0(d,e,n.length,0),n.push(D),I.directiveStart++,I.directiveEnd++,a&&(I.providerIndexes+=1048576),r.push(Vn),m.push(Vn)}else l0(d,e,rt>-1?rt:Mt,QD(r[a?Mt:rt],B,!a&&s));!a&&s&&bn&&r[Mt].componentProviders++}}}function l0(e,n,r,s){const a=Ul(n),d=function Ef(e){return!!e.useClass}(n);if(a||d){const D=(d?Qn(n.useClass):n).prototype.ngOnDestroy;if(D){const B=e.destroyHooks||(e.destroyHooks=[]);if(!a&&n.multi){const X=B.indexOf(r);-1===X?B.push(r,[s,D]):B[X+1].push(s,D)}else B.push(r,D)}}}function QD(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function c0(e,n,r,s){for(let a=r;a<s;a++)if(n[a]===e)return a;return-1}function xO(e,n,r,s){return u0(this.multi,[])}function kO(e,n,r,s){const a=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=ku(r,r[Tn],this.providerFactory.index,s);d=I.slice(0,m),u0(a,d);for(let D=m;D<I.length;D++)d.push(I[D])}else d=[],u0(a,d);return d}function u0(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function YD(e,n=[]){return r=>{r.providersResolver=(s,a)=>function OO(e,n,r){const s=li();if(s.firstCreatePass){const a=Fa(e);a0(r,s.data,s.blueprint,a,!0),a0(n,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,n)}}let FO=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const s=Nd(0,r.type),a=s.length>0?bT([s],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=kn({token:e,providedIn:"environment",factory:()=>new e(Vr(Oo))})}return e})();function ZD(e){Yl("NgStandalone"),e.getStandaloneInjector=n=>n.get(FO).getOrCreateStandaloneInjector(e)}function tS(e,n,r,s,a,d){const m=n+r;return Uo(e,m,a)?function Dd(e,n,r){return e[n]=r}(e,m+1,d?s.call(d,a):s(a)):function yv(e,n){const r=e[n];return r===jr?void 0:r}(e,m+1)}function oS(e,n){const r=li();let s;const a=e+fr;r.firstCreatePass?(s=function YO(e,n){if(n)for(let r=n.length-1;r>=0;r--){const s=n[r];if(e===s.name)return s}}(n,r.pipeRegistry),r.data[a]=s,s.onDestroy&&(r.destroyHooks??=[]).push(a,s.onDestroy)):s=r.data[a];const d=s.factory||(s.factory=Ja(s.type)),I=zs(_u);try{const D=Uf(!1),B=d();return Uf(D),function r0(e,n,r,s){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),n[r]=s}(r,Jt(),a,B),B}finally{zs(I)}}function aS(e,n,r){const s=e+fr,a=Jt(),d=function _a(e,n){return e[n]}(a,s);return function vv(e,n){return e[Tn].data[n].pure}(a,s)?tS(a,function Lo(){const e=$r.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),n,d.transform,r,d):d.transform(r)}class CS{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const wx=new CS("18.1.2");let wS=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();const RS=new xr(""),PS=new xr("");let m0,Qx=(()=>{class e{constructor(r,s,a){this._ngZone=r,this.registry=s,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,m0||(function Yx(e){m0=e}(a),a.addToWindow(s)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{to.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(r)||(clearTimeout(s.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,s,a){let d=-1;s&&s>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),r()},s)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:a})}whenStable(r,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,s,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,s,a){return[]}static#e=this.\u0275fac=function(s){return new(s||e)(Vr(to),Vr(MS),Vr(PS))};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac})}return e})(),MS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,s){this._applications.set(r,s)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,s=!0){return m0?.findTestabilityInTree(this,r,s)??null}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function y0(e){return!!e&&"function"==typeof e.then}function NS(e){return!!e&&"function"==typeof e.subscribe}const OS=new xr("");let v0=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,s)=>{this.resolve=r,this.reject=s}),this.appInits=vn(OS,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const d=a();if(y0(d))r.push(d);else if(NS(d)){const m=new Promise((I,D)=>{d.subscribe({complete:I,error:D})});r.push(m)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{s()}).catch(a=>{this.reject(a)}),0===r.length&&s(),this.initialized=!0}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const NE=new xr("");function LS(e,n){return Array.isArray(n)?n.reduce(LS,e):{...e,...n}}let Yu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=vn(Kp),this.afterRenderEffectManager=vn(sE),this.zonelessEnabled=vn(tv),this.externalTestViews=new Set,this.beforeRender=new pr.B,this.afterTick=new pr.B,this.componentTypes=[],this.components=[],this.isStable=vn(Xd).hasPendingTasks.pipe((0,dn.T)(r=>!r)),this._injector=vn(Oo)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,s){const a=r instanceof Hw;if(!this._injector.get(v0).done)throw!a&&Xi(r),new en(405,!1);let m;m=a?r:this._injector.get(iE).resolveComponentFactory(r),this.componentTypes.push(m.componentType);const I=function Zx(e){return e.isBoundToModule}(m)?void 0:this._injector.get(wp),B=m.create(mo.NULL,[],s||m.selector,I),X=B.location.nativeElement,ye=B.injector.get(RS,null);return ye?.registerApplication(X),B.onDestroy(()=>{this.detachView(B.hostView),OE(this.components,B),ye?.unregisterApplication(X)}),this._loadComponent(B),B}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new en(101,!1);const s=Ae(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,Ae(s),this.afterTick.next()}}detectChangesInAttachedViews(r){let s=null;this._injector.destroyed||(s=this._injector.get(sT,null,{optional:!0}));let a=0;const d=this.afterRenderEffectManager;for(;a<10;){const m=0===a;if(r||!m){this.beforeRender.next(m);for(let{_lView:I,notifyErrorHandler:D}of this._views)e1(I,D,m,this.zonelessEnabled)}else s?.begin?.(),s?.end?.();if(a++,d.executeInternalCallbacks(),!this.allViews.some(({_lView:I})=>du(I))&&(d.execute(),!this.allViews.some(({_lView:I})=>du(I))))break}}attachView(r){const s=r;this._views.push(s),s.attachToAppRef(this)}detachView(r){const s=r;OE(this._views,s),s.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const s=this._injector.get(NE,[]);[...this._bootstrapListeners,...s].forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>OE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new en(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OE(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function e1(e,n,r,s){(r||du(e))&&Iu(e,n,r&&!s?0:1)}class t1{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let n1=(()=>{class e{compileModuleSync(r){return new wT(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const s=this.compileModuleSync(r),d=Ss(bi(r).declarations).reduce((m,I)=>{const D=Pn(I);return D&&m.push(new iv(D)),m},[]);return new t1(s,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),o1=(()=>{class e{constructor(){this.zone=vn(to),this.changeDetectionScheduler=vn(Wg),this.applicationRef=vn(Yu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _0({ngZoneFactory:e,ignoreChangesOutsideZone:n}){return e??=()=>new to(E0()),[{provide:to,useFactory:e},{provide:fo,multi:!0,useFactory:()=>{const r=vn(o1,{optional:!0});return()=>r.initialize()}},{provide:fo,multi:!0,useFactory:()=>{const r=vn(c1);return()=>{r.initialize()}}},{provide:Kp,useFactory:l1},!0===n?{provide:jw,useValue:!0}:[]]}function l1(){const e=vn(to),n=vn(Kc);return r=>e.runOutsideAngular(()=>n.handleError(r))}function E0(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let c1=(()=>{class e{constructor(){this.subscription=new Gn.yU,this.initialized=!1,this.zone=vn(to),this.pendingTasks=vn(Xd)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{to.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{to.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iv=(()=>{class e{constructor(){this.appRef=vn(Yu),this.taskService=vn(Xd),this.ngZone=vn(to),this.zonelessEnabled=vn(tv),this.disableScheduling=vn(jw,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Gn.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof lT||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const s=this.useMicrotaskScheduler?Ww:Kw;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=s(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=s(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&to.isInAngularZone())}tick(r){if(this.runningTick||this.appRef.destroyed)return;const s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(r)},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(s),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ww(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static#e=this.\u0275fac=function(s){return new(s||e)};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();const kE=new xr("",{providedIn:"root",factory:()=>vn(kE,Gr.Optional|Gr.SkipSelf)||function u1(){return typeof $localize<"u"&&$localize.locale||pm}()}),d1=new xr("",{providedIn:"root",factory:()=>"USD"}),T0=new xr("");let $S=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,s){const a=function qR(e="zone.js",n){return"noop"===e?new lT:"zone.js"===e?new to(n):e}(s?.ngZone,E0({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return a.run(()=>{const d=s?.ignoreChangesOutsideZone,m=function jP(e,n,r){return new CT(e,n,r)}(r.moduleType,this.injector,[..._0({ngZoneFactory:()=>a,ignoreChangesOutsideZone:d}),{provide:Wg,useExisting:Iv}]),I=m.injector.get(Kc,null);return a.runOutsideAngular(()=>{const D=a.onError.subscribe({next:B=>{I.handleError(B)}});m.onDestroy(()=>{OE(this._modules,m),D.unsubscribe()})}),function kS(e,n,r){try{const s=r();return y0(s)?s.catch(a=>{throw n.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw n.runOutsideAngular(()=>e.handleError(s)),s}}(I,a,()=>{const D=m.injector.get(v0);return D.runInitializers(),D.donePromise.then(()=>(function jA(e){"string"==typeof e&&($A=e.toLowerCase().replace(/_/g,"-"))}(m.injector.get(kE,pm)||pm),this._moduleDoBootstrap(m),m))})})}bootstrapModule(r,s=[]){const a=LS({},s);return function s1(e,n,r){const s=new wT(r);return Promise.resolve(s)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,a))}_moduleDoBootstrap(r){const s=r.injector.get(Yu);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!r.instance.ngDoBootstrap)throw new en(-403,!1);r.instance.ngDoBootstrap(s)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new en(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const r=this._injector.get(T0,null);r&&(r.forEach(s=>s()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(s){return new(s||e)(Vr(mo))};static#t=this.\u0275prov=kn({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),vf=null;const jS=new xr("");function HS(e,n,r=[]){const s=`Platform: ${n}`,a=new xr(s);return(d=[])=>{let m=C0();if(!m||m.injector.get(jS,!1)){const I=[...r,...d,{provide:a,useValue:!0}];e?e(I):function f1(e){if(vf&&!vf.get(jS,!1))throw new en(400,!1);(function xS(){!function Ce(e){rn=e}(()=>{throw new en(600,!1)})})(),vf=e;const n=e.get($S);(function GS(e){e.get(Yv,null)?.forEach(r=>r())})(e)}(function zS(e=[],n){return mo.create({name:n,providers:[{provide:id,useValue:"platform"},{provide:T0,useValue:new Set([()=>vf=null])},...e]})}(I,s))}return function p1(e){const n=C0();if(!n)throw new en(401,!1);return n}()}}function C0(){return vf?.get($S)??null}function m1(){return!1}let WS=(()=>{class e{static#e=this.__NG_ELEMENT_ID__=y1}return e})();function y1(e){return function v1(e,n,r){if(Vc(e)&&!r){const s=ji(e.index,n);return new fp(s,s)}return 175&e.type?new fp(n[ps],n):null}(ts(),Jt(),!(16&~e))}class YS{constructor(){}supports(n){return dE(n)}create(n){return new C1(n)}}const T1=(e,n)=>n;class C1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||T1}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,s=this._removalsHead,a=0,d=null;for(;r||s;){const m=!s||r&&r.currentIndex<JS(s,a,d)?r:s,I=JS(m,a,d),D=m.currentIndex;if(m===s)a--,s=s._nextRemoved;else if(r=r._next,null==m.previousIndex)a++;else{d||(d=[]);const B=I-a,X=D-a;if(B!=X){for(let Xe=0;Xe<B;Xe++){const rt=Xe<d.length?d[Xe]:d[Xe]=0,Mt=rt+Xe;X<=Mt&&Mt<B&&(d[Xe]=rt+1)}d[m.previousIndex]=X-B}}I!==D&&n(m,I,D)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!dE(n))throw new en(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,m,r=this._itHead,s=!1;if(Array.isArray(n)){this.length=n.length;for(let I=0;I<this.length;I++)d=n[I],m=this._trackByFn(I,d),null!==r&&Object.is(r.trackById,m)?(s&&(r=this._verifyReinsertion(r,d,m,I)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,m,I),s=!0),r=r._next}else a=0,function GP(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let s;for(;!(s=r.next()).done;)n(s.value)}}(n,I=>{m=this._trackByFn(a,I),null!==r&&Object.is(r.trackById,m)?(s&&(r=this._verifyReinsertion(r,I,m,a)),Object.is(r.item,I)||this._addIdentityChange(r,I)):(r=this._mismatch(r,I,m,a),s=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,s,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,a)):n=this._addAfter(new w1(r,s),d,a),n}_verifyReinsertion(n,r,s,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,r,s),this._addToMoves(n,s),n}_moveAfter(n,r,s){return this._unlink(n),this._insertAfter(n,r,s),this._addToMoves(n,s),n}_addAfter(n,r,s){return this._insertAfter(n,r,s),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,s){const a=null===r?this._itHead:r._next;return n._next=a,n._prev=r,null===a?this._itTail=n:a._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new ZS),this._linkedRecords.put(n),n.currentIndex=s,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,s=n._next;return null===r?this._itHead=s:r._next=s,null===s?this._itTail=r:s._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ZS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class w1{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class b1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===r||r<=s.currentIndex)&&Object.is(s.trackById,n))return s;return null}remove(n){const r=n._prevDup,s=n._nextDup;return null===r?this._head=s:r._nextDup=s,null===s?this._tail=r:s._prevDup=r,null===this._head}}class ZS{constructor(){this.map=new Map}put(n){const r=n.trackById;let s=this.map.get(r);s||(s=new b1,this.map.set(r,s)),s.add(n)}get(n,r){const a=this.map.get(n);return a?a.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function JS(e,n,r){const s=e.previousIndex;if(null===s)return s;let a=0;return r&&s<r.length&&(a=r[s]),s+n+a}class eR{constructor(){}supports(n){return n instanceof Map||AT(n)}create(){return new A1}}class A1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||AT(n)))throw new en(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(s,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,s),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,s);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let s=r;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const s=n._prev;return r._next=n,r._prev=s,n._prev=r,s&&(s._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,r);const d=a._prev,m=a._next;return d&&(d._next=m),m&&(m._prev=d),a._next=null,a._prev=null,a}const s=new D1(n);return this._records.set(n,s),s.currentValue=r,this._addToAdditions(s),s}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(s=>r(n[s],s))}}class D1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tR(){return new S0([new YS])}let S0=(()=>{class e{static#e=this.\u0275prov=kn({token:e,providedIn:"root",factory:tR});constructor(r){this.factories=r}static create(r,s){if(null!=s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||tR()),deps:[[e,new Yo,new ho]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(null!=s)return s;throw new en(901,!1)}}return e})();function nR(){return new R0([new eR])}let R0=(()=>{class e{static#e=this.\u0275prov=kn({token:e,providedIn:"root",factory:nR});constructor(r){this.factories=r}static create(r,s){if(s){const a=s.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:s=>e.create(r,s||nR()),deps:[[e,new Yo,new ho]]}}find(r){const s=this.factories.find(a=>a.supports(r));if(s)return s;throw new en(901,!1)}}return e})();const P1=HS(null,"core",[]);let M1=(()=>{class e{constructor(r){}static#e=this.\u0275fac=function(s){return new(s||e)(Vr(Yu))};static#t=this.\u0275mod=$t({type:e});static#n=this.\u0275inj=zi({})}return e})();const _R=new xr("");function hk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function pk(e,n){Yl("NgSignals");const r=function Nt(e){const n=Object.create(Et);n.computation=e;const r=()=>{if(je(n),le(n),n.value===Ye)throw n.error;return n.value};return r[me]=n,r}(e);return n?.equal&&(r[me].equal=n.equal),r}function gk(e){const n=Ae(null);try{return e()}finally{Ae(n)}}function Ik(e,n){const r=Pn(e),s=n.elementInjector||Au();return new iv(r).create(s,n.projectableNodes,n.hostElement,n.environmentInjector)}function Tk(e){const n=Pn(e);if(!n)return null;const r=new iv(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},5063:(_n,vt,k)=>{"use strict";k.d(vt,{Qe:()=>Cg,cM:()=>jI});var l=k(177),U=k(3953),Te=k(1825),ie=k(9253),Ae=(k(2492),k(1413)),Oe=k(7673),$e=k(1985),Ke=k(8455),Me=k(6365),le=k(8750),Be=k(983),je=k(3794),ct=k(941),ut=k(5558),st=k(6354),Ze=k(6129);class wt extends Ae.B{constructor(t=1/0,i=1/0,o=Ze.U){super(),this._bufferSize=t,this._windowTime=i,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,i)}next(t){const{isStopped:i,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:p,_windowTime:_}=this;i||(o.push(t),!u&&o.push(p.now()+_)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(t),{_infiniteTimeWindow:o,_buffer:u}=this,p=u.slice();for(let _=0;_<p.length&&!t.closed;_+=o?1:2)t.next(p[_]);return this._checkFinalizedStatuses(t),i}_trimBuffer(){const{_bufferSize:t,_timestampProvider:i,_buffer:o,_infiniteTimeWindow:u}=this,p=(u?1:2)*t;if(t<1/0&&p<o.length&&o.splice(0,o.length-p),!u){const _=i.now();let S=0;for(let N=1;N<o.length&&o[N]<=_;N+=2)S=N;S&&o.splice(0,S+1)}}}var yt=k(7707),it=k(9974);function _e(c,t,...i){if(!0===t)return void c();if(!1===t)return;const o=new yt.Ms({next:()=>{o.unsubscribe(),c()}});return(0,le.Tg)(t(...i)).subscribe(o)}function et(c,t,i){let o,u=!1;return c&&"object"==typeof c?({bufferSize:o=1/0,windowTime:t=1/0,refCount:u=!1,scheduler:i}=c):o=c??1/0,function Re(c={}){const{connector:t=(()=>new Ae.B),resetOnError:i=!0,resetOnComplete:o=!0,resetOnRefCountZero:u=!0}=c;return p=>{let _,S,N,K=0,he=!1,Pe=!1;const ot=()=>{S?.unsubscribe(),S=void 0},Ft=()=>{ot(),_=N=void 0,he=Pe=!1},cn=()=>{const yn=_;Ft(),yn?.unsubscribe()};return(0,it.N)((yn,ln)=>{K++,!Pe&&!he&&ot();const nr=N=N??t();ln.add(()=>{K--,0===K&&!Pe&&!he&&(S=_e(cn,u))}),nr.subscribe(ln),!_&&K>0&&(_=new yt.Ms({next:dr=>nr.next(dr),error:dr=>{Pe=!0,ot(),S=_e(Ft,i,dr),nr.error(dr)},complete:()=>{he=!0,ot(),S=_e(Ft,o),nr.complete()}}),(0,le.Tg)(yn).subscribe(_))})(p)}}({connector:()=>new wt(o,t,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}var at=k(1594),ze=k(8071);function Nt(c,t){return(0,ze.T)(t)?(0,ut.n)(()=>c,t):(0,ut.n)(()=>c)}var ke=k(6745),mt=k(5964),Ye=k(7935);const It=new U.nKC("angularfire2.auth.use-emulator"),rn=new U.nKC("angularfire2.auth.settings"),Qe=new U.nKC("angularfire2.auth.tenant-id"),Ce=new U.nKC("angularfire2.auth.langugage-code"),q=new U.nKC("angularfire2.auth.use-device-language"),ne=new U.nKC("angularfire.auth.persistence"),ae=(c,t,i,o,u,p,_,S)=>(0,ie.BM)(`${c.name}.auth`,"AngularFireAuth",c.name,()=>{const N=t.runOutsideAngular(()=>c.auth());if(i&&N.useEmulator(...i),o&&(N.tenantId=o),N.languageCode=u,p&&N.useDeviceLanguage(),_)for(const[K,he]of Object.entries(_))N.settings[K]=he;return S&&N.setPersistence(S),N},[i,o,u,p,_,S]);let be=(()=>{class c{authState;idToken;user;idTokenResult;credential;constructor(i,o,u,p,_,S,N,K,he,Pe,ot,Ft){const cn=new Ae.B,yn=(0,Oe.of)(void 0).pipe((0,ct.Q)(_.outsideAngular),(0,ut.n)(()=>p.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,2492)))),(0,st.T)(()=>(0,ie.iB)(i,p,o)),(0,st.T)(ln=>ae(ln,p,S,K,he,Pe,N,ot)),et({bufferSize:1,refCount:!1}));if((0,l.Vy)(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Oe.of)(null);else{yn.pipe((0,at.$)()).subscribe();const ln=yn.pipe((0,ut.n)(Mn=>Mn.getRedirectResult().then(br=>br,()=>null)),Te.U0,et({bufferSize:1,refCount:!1})),nr=yn.pipe((0,ut.n)(Mn=>new $e.c(br=>({unsubscribe:p.runOutsideAngular(()=>Mn.onAuthStateChanged(ni=>br.next(ni),ni=>br.error(ni),()=>br.complete()))})))),dr=yn.pipe((0,ut.n)(Mn=>new $e.c(br=>({unsubscribe:p.runOutsideAngular(()=>Mn.onIdTokenChanged(ni=>br.next(ni),ni=>br.error(ni),()=>br.complete()))}))));this.authState=ln.pipe(Nt(nr),(0,ke._)(_.outsideAngular),(0,ct.Q)(_.insideAngular)),this.user=ln.pipe(Nt(dr),(0,ke._)(_.outsideAngular),(0,ct.Q)(_.insideAngular)),this.idToken=this.user.pipe((0,ut.n)(Mn=>Mn?(0,Ke.H)(Mn.getIdToken()):(0,Oe.of)(null))),this.idTokenResult=this.user.pipe((0,ut.n)(Mn=>Mn?(0,Ke.H)(Mn.getIdTokenResult()):(0,Oe.of)(null))),this.credential=function Ue(...c){const t=(0,je.lI)(c),i=(0,je.R0)(c,1/0),o=c;return o.length?1===o.length?(0,le.Tg)(o[0]):(0,Me.U)(i)((0,Ke.H)(o,t)):Be.w}(ln,cn,this.authState.pipe((0,mt.p)(Mn=>!Mn))).pipe((0,st.T)(Mn=>Mn?.user?Mn:null),(0,ke._)(_.outsideAngular),(0,ct.Q)(_.insideAngular))}return(0,ie.Gt)(this,yn,p,{spy:{apply:(ln,nr,dr)=>{(ln.startsWith("signIn")||ln.startsWith("createUser"))&&dr.then(Mn=>cn.next(Mn))}}})}static \u0275fac=function(o){return new(o||c)(U.KVO(ie.rx),U.KVO(ie.uP,8),U.KVO(U.Agw),U.KVO(U.SKi),U.KVO(Te.u0),U.KVO(It,8),U.KVO(rn,8),U.KVO(Qe,8),U.KVO(Ce,8),U.KVO(q,8),U.KVO(ne,8),U.KVO(Te.Jv,8))};static \u0275prov=U.jDH({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})();var Ne=k(3236),Ht=k(9172),an=k(4360);function Hn(){return(0,it.N)((c,t)=>{let i,o=!1;c.subscribe((0,an._)(t,u=>{const p=i;i=u,o&&t.next([p,u]),o=!0}))})}var kt,Bt,Kt=k(2816),Bn=k(3294),zn=k(3345),Ot=k(467),Zn=k(7852),pr=k(1362),Gn=k(8041),dn=k(1076),On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zt={};(function(){var c;function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(At,tt,gt){gt||(gt=0);var Pt=Array(16);if("string"==typeof tt)for(var Lt=0;16>Lt;++Lt)Pt[Lt]=tt.charCodeAt(gt++)|tt.charCodeAt(gt++)<<8|tt.charCodeAt(gt++)<<16|tt.charCodeAt(gt++)<<24;else for(Lt=0;16>Lt;++Lt)Pt[Lt]=tt[gt++]|tt[gt++]<<8|tt[gt++]<<16|tt[gt++]<<24;var Gt=At.g[3],ht=(tt=At.g[0])+(Gt^(gt=At.g[1])&((Lt=At.g[2])^Gt))+Pt[0]+3614090360&4294967295;ht=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=(gt=(Lt=(Gt=(tt=gt+(ht<<7&4294967295|ht>>>25))+((ht=Gt+(Lt^tt&(gt^Lt))+Pt[1]+3905402710&4294967295)<<12&4294967295|ht>>>20))+((ht=Lt+(gt^Gt&(tt^gt))+Pt[2]+606105819&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(tt^Lt&(Gt^tt))+Pt[3]+3250441966&4294967295)<<22&4294967295|ht>>>10))+((ht=tt+(Gt^gt&(Lt^Gt))+Pt[4]+4118548399&4294967295)<<7&4294967295|ht>>>25))+((ht=Gt+(Lt^tt&(gt^Lt))+Pt[5]+1200080426&4294967295)<<12&4294967295|ht>>>20))+((ht=Lt+(gt^Gt&(tt^gt))+Pt[6]+2821735955&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(tt^Lt&(Gt^tt))+Pt[7]+4249261313&4294967295)<<22&4294967295|ht>>>10))+((ht=tt+(Gt^gt&(Lt^Gt))+Pt[8]+1770035416&4294967295)<<7&4294967295|ht>>>25))+((ht=Gt+(Lt^tt&(gt^Lt))+Pt[9]+2336552879&4294967295)<<12&4294967295|ht>>>20))+((ht=Lt+(gt^Gt&(tt^gt))+Pt[10]+4294925233&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(tt^Lt&(Gt^tt))+Pt[11]+2304563134&4294967295)<<22&4294967295|ht>>>10))+((ht=tt+(Gt^gt&(Lt^Gt))+Pt[12]+1804603682&4294967295)<<7&4294967295|ht>>>25))+((ht=Gt+(Lt^tt&(gt^Lt))+Pt[13]+4254626195&4294967295)<<12&4294967295|ht>>>20))+((ht=Lt+(gt^Gt&(tt^gt))+Pt[14]+2792965006&4294967295)<<17&4294967295|ht>>>15))+((ht=gt+(tt^Lt&(Gt^tt))+Pt[15]+1236535329&4294967295)<<22&4294967295|ht>>>10))+((ht=tt+(Lt^Gt&(gt^Lt))+Pt[1]+4129170786&4294967295)<<5&4294967295|ht>>>27))+((ht=Gt+(gt^Lt&(tt^gt))+Pt[6]+3225465664&4294967295)<<9&4294967295|ht>>>23))+((ht=Lt+(tt^gt&(Gt^tt))+Pt[11]+643717713&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(Gt^tt&(Lt^Gt))+Pt[0]+3921069994&4294967295)<<20&4294967295|ht>>>12))+((ht=tt+(Lt^Gt&(gt^Lt))+Pt[5]+3593408605&4294967295)<<5&4294967295|ht>>>27))+((ht=Gt+(gt^Lt&(tt^gt))+Pt[10]+38016083&4294967295)<<9&4294967295|ht>>>23))+((ht=Lt+(tt^gt&(Gt^tt))+Pt[15]+3634488961&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(Gt^tt&(Lt^Gt))+Pt[4]+3889429448&4294967295)<<20&4294967295|ht>>>12))+((ht=tt+(Lt^Gt&(gt^Lt))+Pt[9]+568446438&4294967295)<<5&4294967295|ht>>>27))+((ht=Gt+(gt^Lt&(tt^gt))+Pt[14]+3275163606&4294967295)<<9&4294967295|ht>>>23))+((ht=Lt+(tt^gt&(Gt^tt))+Pt[3]+4107603335&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(Gt^tt&(Lt^Gt))+Pt[8]+1163531501&4294967295)<<20&4294967295|ht>>>12))+((ht=tt+(Lt^Gt&(gt^Lt))+Pt[13]+2850285829&4294967295)<<5&4294967295|ht>>>27))+((ht=Gt+(gt^Lt&(tt^gt))+Pt[2]+4243563512&4294967295)<<9&4294967295|ht>>>23))+((ht=Lt+(tt^gt&(Gt^tt))+Pt[7]+1735328473&4294967295)<<14&4294967295|ht>>>18))+((ht=gt+(Gt^tt&(Lt^Gt))+Pt[12]+2368359562&4294967295)<<20&4294967295|ht>>>12))+((ht=tt+(gt^Lt^Gt)+Pt[5]+4294588738&4294967295)<<4&4294967295|ht>>>28))+((ht=Gt+(tt^gt^Lt)+Pt[8]+2272392833&4294967295)<<11&4294967295|ht>>>21))+((ht=Lt+(Gt^tt^gt)+Pt[11]+1839030562&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(Lt^Gt^tt)+Pt[14]+4259657740&4294967295)<<23&4294967295|ht>>>9))+((ht=tt+(gt^Lt^Gt)+Pt[1]+2763975236&4294967295)<<4&4294967295|ht>>>28))+((ht=Gt+(tt^gt^Lt)+Pt[4]+1272893353&4294967295)<<11&4294967295|ht>>>21))+((ht=Lt+(Gt^tt^gt)+Pt[7]+4139469664&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(Lt^Gt^tt)+Pt[10]+3200236656&4294967295)<<23&4294967295|ht>>>9))+((ht=tt+(gt^Lt^Gt)+Pt[13]+681279174&4294967295)<<4&4294967295|ht>>>28))+((ht=Gt+(tt^gt^Lt)+Pt[0]+3936430074&4294967295)<<11&4294967295|ht>>>21))+((ht=Lt+(Gt^tt^gt)+Pt[3]+3572445317&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(Lt^Gt^tt)+Pt[6]+76029189&4294967295)<<23&4294967295|ht>>>9))+((ht=tt+(gt^Lt^Gt)+Pt[9]+3654602809&4294967295)<<4&4294967295|ht>>>28))+((ht=Gt+(tt^gt^Lt)+Pt[12]+3873151461&4294967295)<<11&4294967295|ht>>>21))+((ht=Lt+(Gt^tt^gt)+Pt[15]+530742520&4294967295)<<16&4294967295|ht>>>16))+((ht=gt+(Lt^Gt^tt)+Pt[2]+3299628645&4294967295)<<23&4294967295|ht>>>9))+((ht=tt+(Lt^(gt|~Gt))+Pt[0]+4096336452&4294967295)<<6&4294967295|ht>>>26))+((ht=Gt+(gt^(tt|~Lt))+Pt[7]+1126891415&4294967295)<<10&4294967295|ht>>>22))+((ht=Lt+(tt^(Gt|~gt))+Pt[14]+2878612391&4294967295)<<15&4294967295|ht>>>17))+((ht=gt+(Gt^(Lt|~tt))+Pt[5]+4237533241&4294967295)<<21&4294967295|ht>>>11))+((ht=tt+(Lt^(gt|~Gt))+Pt[12]+1700485571&4294967295)<<6&4294967295|ht>>>26))+((ht=Gt+(gt^(tt|~Lt))+Pt[3]+2399980690&4294967295)<<10&4294967295|ht>>>22))+((ht=Lt+(tt^(Gt|~gt))+Pt[10]+4293915773&4294967295)<<15&4294967295|ht>>>17))+((ht=gt+(Gt^(Lt|~tt))+Pt[1]+2240044497&4294967295)<<21&4294967295|ht>>>11))+((ht=tt+(Lt^(gt|~Gt))+Pt[8]+1873313359&4294967295)<<6&4294967295|ht>>>26))+((ht=Gt+(gt^(tt|~Lt))+Pt[15]+4264355552&4294967295)<<10&4294967295|ht>>>22))+((ht=Lt+(tt^(Gt|~gt))+Pt[6]+2734768916&4294967295)<<15&4294967295|ht>>>17))+((ht=gt+(Gt^(Lt|~tt))+Pt[13]+1309151649&4294967295)<<21&4294967295|ht>>>11))+((Gt=(tt=gt+((ht=tt+(Lt^(gt|~Gt))+Pt[4]+4149444226&4294967295)<<6&4294967295|ht>>>26))+((ht=Gt+(gt^(tt|~Lt))+Pt[11]+3174756917&4294967295)<<10&4294967295|ht>>>22))^((Lt=Gt+((ht=Lt+(tt^(Gt|~gt))+Pt[2]+718787259&4294967295)<<15&4294967295|ht>>>17))|~tt))+Pt[9]+3951481745&4294967295,At.g[0]=At.g[0]+tt&4294967295,At.g[1]=At.g[1]+(Lt+(ht<<21&4294967295|ht>>>11))&4294967295,At.g[2]=At.g[2]+Lt&4294967295,At.g[3]=At.g[3]+Gt&4294967295}function _(At,tt){this.h=tt;for(var gt=[],Pt=!0,Lt=At.length-1;0<=Lt;Lt--){var Gt=0|At[Lt];Pt&&Gt==tt||(gt[Lt]=Gt,Pt=!1)}this.g=gt}(function t(At,tt){function gt(){}gt.prototype=tt.prototype,At.D=tt.prototype,At.prototype=new gt,At.prototype.constructor=At,At.C=function(Pt,Lt,Gt){for(var ht=Array(arguments.length-2),jr=2;jr<arguments.length;jr++)ht[jr-2]=arguments[jr];return tt.prototype[Lt].apply(Pt,ht)}})(o,function i(){this.blockSize=-1}),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},o.prototype.u=function(At,tt){void 0===tt&&(tt=At.length);for(var gt=tt-this.blockSize,Pt=this.B,Lt=this.h,Gt=0;Gt<tt;){if(0==Lt)for(;Gt<=gt;)u(this,At,Gt),Gt+=this.blockSize;if("string"==typeof At){for(;Gt<tt;)if(Pt[Lt++]=At.charCodeAt(Gt++),Lt==this.blockSize){u(this,Pt),Lt=0;break}}else for(;Gt<tt;)if(Pt[Lt++]=At[Gt++],Lt==this.blockSize){u(this,Pt),Lt=0;break}}this.h=Lt,this.o+=tt},o.prototype.v=function(){var At=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);At[0]=128;for(var tt=1;tt<At.length-8;++tt)At[tt]=0;var gt=8*this.o;for(tt=At.length-8;tt<At.length;++tt)At[tt]=255&gt,gt/=256;for(this.u(At),At=Array(16),tt=gt=0;4>tt;++tt)for(var Pt=0;32>Pt;Pt+=8)At[gt++]=this.g[tt]>>>Pt&255;return At};var S={};function N(At){return-128<=At&&128>At?function p(At,tt){var gt=S;return Object.prototype.hasOwnProperty.call(gt,At)?gt[At]:gt[At]=tt(At)}(At,function(tt){return new _([0|tt],0>tt?-1:0)}):new _([0|At],0>At?-1:0)}function K(At){if(isNaN(At)||!isFinite(At))return Pe;if(0>At)return ln(K(-At));for(var tt=[],gt=1,Pt=0;At>=gt;Pt++)tt[Pt]=At/gt|0,gt*=4294967296;return new _(tt,0)}var Pe=N(0),ot=N(1),Ft=N(16777216);function cn(At){if(0!=At.h)return!1;for(var tt=0;tt<At.g.length;tt++)if(0!=At.g[tt])return!1;return!0}function yn(At){return-1==At.h}function ln(At){for(var tt=At.g.length,gt=[],Pt=0;Pt<tt;Pt++)gt[Pt]=~At.g[Pt];return new _(gt,~At.h).add(ot)}function nr(At,tt){return At.add(ln(tt))}function dr(At,tt){for(;(65535&At[tt])!=At[tt];)At[tt+1]+=At[tt]>>>16,At[tt]&=65535,tt++}function Mn(At,tt){this.g=At,this.h=tt}function br(At,tt){if(cn(tt))throw Error("division by zero");if(cn(At))return new Mn(Pe,Pe);if(yn(At))return tt=br(ln(At),tt),new Mn(ln(tt.g),ln(tt.h));if(yn(tt))return tt=br(At,ln(tt)),new Mn(ln(tt.g),tt.h);if(30<At.g.length){if(yn(At)||yn(tt))throw Error("slowDivide_ only works with positive integers.");for(var gt=ot,Pt=tt;0>=Pt.l(At);)gt=ni(gt),Pt=ni(Pt);var Lt=ci(gt,1),Gt=ci(Pt,1);for(Pt=ci(Pt,2),gt=ci(gt,2);!cn(Pt);){var ht=Gt.add(Pt);0>=ht.l(At)&&(Lt=Lt.add(gt),Gt=ht),Pt=ci(Pt,1),gt=ci(gt,1)}return tt=nr(At,Lt.j(tt)),new Mn(Lt,tt)}for(Lt=Pe;0<=At.l(tt);){for(gt=Math.max(1,Math.floor(At.m()/tt.m())),Pt=48>=(Pt=Math.ceil(Math.log(gt)/Math.LN2))?1:Math.pow(2,Pt-48),ht=(Gt=K(gt)).j(tt);yn(ht)||0<ht.l(At);)ht=(Gt=K(gt-=Pt)).j(tt);cn(Gt)&&(Gt=ot),Lt=Lt.add(Gt),At=nr(At,ht)}return new Mn(Lt,At)}function ni(At){for(var tt=At.g.length+1,gt=[],Pt=0;Pt<tt;Pt++)gt[Pt]=At.i(Pt)<<1|At.i(Pt-1)>>>31;return new _(gt,At.h)}function ci(At,tt){var gt=tt>>5;tt%=32;for(var Pt=At.g.length-gt,Lt=[],Gt=0;Gt<Pt;Gt++)Lt[Gt]=0<tt?At.i(Gt+gt)>>>tt|At.i(Gt+gt+1)<<32-tt:At.i(Gt+gt);return new _(Lt,At.h)}(c=_.prototype).m=function(){if(yn(this))return-ln(this).m();for(var At=0,tt=1,gt=0;gt<this.g.length;gt++){var Pt=this.i(gt);At+=(0<=Pt?Pt:4294967296+Pt)*tt,tt*=4294967296}return At},c.toString=function(At){if(2>(At=At||10)||36<At)throw Error("radix out of range: "+At);if(cn(this))return"0";if(yn(this))return"-"+ln(this).toString(At);for(var tt=K(Math.pow(At,6)),gt=this,Pt="";;){var Lt=br(gt,tt).g,Gt=((0<(gt=nr(gt,Lt.j(tt))).g.length?gt.g[0]:gt.h)>>>0).toString(At);if(cn(gt=Lt))return Gt+Pt;for(;6>Gt.length;)Gt="0"+Gt;Pt=Gt+Pt}},c.i=function(At){return 0>At?0:At<this.g.length?this.g[At]:this.h},c.l=function(At){return yn(At=nr(this,At))?-1:cn(At)?0:1},c.abs=function(){return yn(this)?ln(this):this},c.add=function(At){for(var tt=Math.max(this.g.length,At.g.length),gt=[],Pt=0,Lt=0;Lt<=tt;Lt++){var Gt=Pt+(65535&this.i(Lt))+(65535&At.i(Lt)),ht=(Gt>>>16)+(this.i(Lt)>>>16)+(At.i(Lt)>>>16);Pt=ht>>>16,gt[Lt]=(ht&=65535)<<16|(Gt&=65535)}return new _(gt,-2147483648&gt[gt.length-1]?-1:0)},c.j=function(At){if(cn(this)||cn(At))return Pe;if(yn(this))return yn(At)?ln(this).j(ln(At)):ln(ln(this).j(At));if(yn(At))return ln(this.j(ln(At)));if(0>this.l(Ft)&&0>At.l(Ft))return K(this.m()*At.m());for(var tt=this.g.length+At.g.length,gt=[],Pt=0;Pt<2*tt;Pt++)gt[Pt]=0;for(Pt=0;Pt<this.g.length;Pt++)for(var Lt=0;Lt<At.g.length;Lt++){var Gt=this.i(Pt)>>>16,ht=65535&this.i(Pt),jr=At.i(Lt)>>>16,Zh=65535&At.i(Lt);gt[2*Pt+2*Lt]+=ht*Zh,dr(gt,2*Pt+2*Lt),gt[2*Pt+2*Lt+1]+=Gt*Zh,dr(gt,2*Pt+2*Lt+1),gt[2*Pt+2*Lt+1]+=ht*jr,dr(gt,2*Pt+2*Lt+1),gt[2*Pt+2*Lt+2]+=Gt*jr,dr(gt,2*Pt+2*Lt+2)}for(Pt=0;Pt<tt;Pt++)gt[Pt]=gt[2*Pt+1]<<16|gt[2*Pt];for(Pt=tt;Pt<2*tt;Pt++)gt[Pt]=0;return new _(gt,0)},c.A=function(At){return br(this,At).h},c.and=function(At){for(var tt=Math.max(this.g.length,At.g.length),gt=[],Pt=0;Pt<tt;Pt++)gt[Pt]=this.i(Pt)&At.i(Pt);return new _(gt,this.h&At.h)},c.or=function(At){for(var tt=Math.max(this.g.length,At.g.length),gt=[],Pt=0;Pt<tt;Pt++)gt[Pt]=this.i(Pt)|At.i(Pt);return new _(gt,this.h|At.h)},c.xor=function(At){for(var tt=Math.max(this.g.length,At.g.length),gt=[],Pt=0;Pt<tt;Pt++)gt[Pt]=this.i(Pt)^At.i(Pt);return new _(gt,this.h^At.h)},o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Bt=zt.Md5=o,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=K,_.fromString=function he(At,tt){if(0==At.length)throw Error("number format error: empty string");if(2>(tt=tt||10)||36<tt)throw Error("radix out of range: "+tt);if("-"==At.charAt(0))return ln(he(At.substring(1),tt));if(0<=At.indexOf("-"))throw Error('number format error: interior "-" character');for(var gt=K(Math.pow(tt,8)),Pt=Pe,Lt=0;Lt<At.length;Lt+=8){var Gt=Math.min(8,At.length-Lt),ht=parseInt(At.substring(Lt,Lt+Gt),tt);8>Gt?(Gt=K(Math.pow(tt,Gt)),Pt=Pt.j(Gt).add(K(ht))):Pt=(Pt=Pt.j(gt)).add(K(ht))}return Pt},kt=zt.Integer=_}).apply(typeof On<"u"?On:typeof self<"u"?self:typeof window<"u"?window:{});var ri,gr,Sn,qt,Pr,Sr,qn,Jn,Ir,pn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Un={};(function(){var c,t="function"==typeof Object.defineProperties?Object.defineProperty:function(y,F,Y){return y==Array.prototype||y==Object.prototype||(y[F]=Y.value),y},o=function i(y){y=["object"==typeof globalThis&&globalThis,y,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof pn&&pn];for(var F=0;F<y.length;++F){var Y=y[F];if(Y&&Y.Math==Math)return Y}throw Error("Cannot find global object")}(this);!function u(y,F){if(F)e:{var Y=o;y=y.split(".");for(var Se=0;Se<y.length-1;Se++){var xt=y[Se];if(!(xt in Y))break e;Y=Y[xt]}(F=F(Se=Y[y=y[y.length-1]]))!=Se&&null!=F&&t(Y,y,{configurable:!0,writable:!0,value:F})}}("Array.prototype.values",function(y){return y||function(){return function p(y,F){y instanceof String&&(y+="");var Y=0,Se=!1,xt={next:function(){if(!Se&&Y<y.length){var Qt=Y++;return{value:F(Qt,y[Qt]),done:!1}}return Se=!0,{done:!0,value:void 0}}};return xt[Symbol.iterator]=function(){return xt},xt}(this,function(F,Y){return Y})}});var _=_||{},S=this||self;function N(y){var F=typeof y;return"array"==(F="object"!=F?F:y?Array.isArray(y)?"array":F:"null")||"object"==F&&"number"==typeof y.length}function K(y){var F=typeof y;return"object"==F&&null!=y||"function"==F}function he(y,F,Y){return y.call.apply(y.bind,arguments)}function Pe(y,F,Y){if(!y)throw Error();if(2<arguments.length){var Se=Array.prototype.slice.call(arguments,2);return function(){var xt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xt,Se),y.apply(F,xt)}}return function(){return y.apply(F,arguments)}}function ot(y,F,Y){return(ot=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?he:Pe).apply(null,arguments)}function Ft(y,F){var Y=Array.prototype.slice.call(arguments,1);return function(){var Se=Y.slice();return Se.push.apply(Se,arguments),y.apply(this,Se)}}function cn(y,F){function Y(){}Y.prototype=F.prototype,y.aa=F.prototype,y.prototype=new Y,y.prototype.constructor=y,y.Qb=function(Se,xt,Qt){for(var jn=Array(arguments.length-2),gs=2;gs<arguments.length;gs++)jn[gs-2]=arguments[gs];return F.prototype[xt].apply(Se,jn)}}function yn(y){const F=y.length;if(0<F){const Y=Array(F);for(let Se=0;Se<F;Se++)Y[Se]=y[Se];return Y}return[]}function ln(y,F){for(let Y=1;Y<arguments.length;Y++){const Se=arguments[Y];if(N(Se)){const xt=y.length||0,Qt=Se.length||0;y.length=xt+Qt;for(let jn=0;jn<Qt;jn++)y[xt+jn]=Se[jn]}else y.push(Se)}}function dr(y){return/^[\s\xa0]*$/.test(y)}function Mn(){var y=S.navigator;return y&&(y=y.userAgent)?y:""}function br(y){return br[" "](y),y}br[" "]=function(){};var ni=!(-1==Mn().indexOf("Gecko")||-1!=Mn().toLowerCase().indexOf("webkit")&&-1==Mn().indexOf("Edge")||-1!=Mn().indexOf("Trident")||-1!=Mn().indexOf("MSIE")||-1!=Mn().indexOf("Edge"));function ci(y,F,Y){for(const Se in y)F.call(Y,y[Se],Se,y)}function tt(y){const F={};for(const Y in y)F[Y]=y[Y];return F}const gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pt(y,F){let Y,Se;for(let xt=1;xt<arguments.length;xt++){for(Y in Se=arguments[xt],Se)y[Y]=Se[Y];for(let Qt=0;Qt<gt.length;Qt++)Y=gt[Qt],Object.prototype.hasOwnProperty.call(Se,Y)&&(y[Y]=Se[Y])}}function Lt(y){var F=1;y=y.split(":");const Y=[];for(;0<F&&y.length;)Y.push(y.shift()),F--;return y.length&&Y.push(y.join(":")),Y}function Gt(y){S.setTimeout(()=>{throw y},0)}function ht(){var y=wg;let F=null;return y.g&&(F=y.g,y.g=y.g.next,y.g||(y.h=null),F.next=null),F}var Zh=new class nr{constructor(F,Y){this.i=F,this.j=Y,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}(()=>new T_,y=>y.reset());class T_{constructor(){this.next=this.g=this.h=null}set(F,Y){this.h=F,this.g=Y,this.next=null}reset(){this.next=this.g=this.h=null}}let _u,Jh=!1,wg=new class jr{constructor(){this.h=this.g=null}add(F,Y){const Se=Zh.get();Se.set(F,Y),this.h?this.h.next=Se:this.g=Se,this.h=Se}},C_=()=>{const y=S.Promise.resolve(void 0);_u=()=>{y.then(bg)}};var bg=()=>{for(var y;y=ht();){try{y.h.call(y.g)}catch(Y){Gt(Y)}var F=Zh;F.j(y),100>F.h&&(F.h++,y.next=F.g,F.g=y)}Jh=!1};function Dl(){this.s=this.s,this.C=this.C}function na(y,F){this.type=y,this.g=this.target=F,this.defaultPrevented=!1}Dl.prototype.s=!1,Dl.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},na.prototype.h=function(){this.defaultPrevented=!0};var cp=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var y=!1,F=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const Y=()=>{};S.addEventListener("test",Y,F),S.removeEventListener("test",Y,F)}catch{}return y}();function ef(y,F){if(na.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y){var Y=this.type=y.type,Se=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;if(this.target=y.target||y.srcElement,this.g=F,F=y.relatedTarget){if(ni){e:{try{br(F.nodeName);var xt=!0;break e}catch{}xt=!1}xt||(F=null)}}else"mouseover"==Y?F=y.fromElement:"mouseout"==Y&&(F=y.toElement);this.relatedTarget=F,Se?(this.clientX=void 0!==Se.clientX?Se.clientX:Se.pageX,this.clientY=void 0!==Se.clientY?Se.clientY:Se.pageY,this.screenX=Se.screenX||0,this.screenY=Se.screenY||0):(this.clientX=void 0!==y.clientX?y.clientX:y.pageX,this.clientY=void 0!==y.clientY?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType="string"==typeof y.pointerType?y.pointerType:_y[y.pointerType]||"",this.state=y.state,this.i=y,y.defaultPrevented&&ef.aa.h.call(this)}}cn(ef,na);var _y={2:"touch",3:"pen",4:"mouse"};ef.prototype.h=function(){ef.aa.h.call(this);var y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var dh="closure_listenable_"+(1e6*Math.random()|0),Ey=0;function w_(y,F,Y,Se,xt){this.listener=y,this.proxy=null,this.src=F,this.type=Y,this.capture=!!Se,this.ha=xt,this.key=++Ey,this.da=this.fa=!1}function tf(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Ag(y){this.src=y,this.g={},this.h=0}function Iy(y,F){var Y=F.type;if(Y in y.g){var Qt,Se=y.g[Y],xt=Array.prototype.indexOf.call(Se,F,void 0);(Qt=0<=xt)&&Array.prototype.splice.call(Se,xt,1),Qt&&(tf(F),0==y.g[Y].length&&(delete y.g[Y],y.h--))}}function Ty(y,F,Y,Se){for(var xt=0;xt<y.length;++xt){var Qt=y[xt];if(!Qt.da&&Qt.listener==F&&Qt.capture==!!Y&&Qt.ha==Se)return xt}return-1}Ag.prototype.add=function(y,F,Y,Se,xt){var Qt=y.toString();(y=this.g[Qt])||(y=this.g[Qt]=[],this.h++);var jn=Ty(y,F,Se,xt);return-1<jn?(F=y[jn],Y||(F.fa=!1)):((F=new w_(F,this.src,Qt,!!Se,xt)).fa=Y,y.push(F)),F};var Dg="closure_lm_"+(1e6*Math.random()|0),Cy={};function b_(y,F,Y,Se,xt){if(Se&&Se.once)return wy(y,F,Y,Se,xt);if(Array.isArray(F)){for(var Qt=0;Qt<F.length;Qt++)b_(y,F[Qt],Y,Se,xt);return null}return Y=S_(Y),y&&y[dh]?y.K(F,Y,K(Se)?!!Se.capture:!!Se,xt):A_(y,F,Y,!1,Se,xt)}function A_(y,F,Y,Se,xt,Qt){if(!F)throw Error("Invalid event type");var jn=K(xt)?!!xt.capture:!!xt,gs=Dy(y);if(gs||(y[Dg]=gs=new Ag(y)),(Y=gs.add(F,Y,Se,jn,Qt)).proxy)return Y;if(Se=function HI(){const F=Sl;return function y(Y){return F.call(y.src,y.listener,Y)}}(),Y.proxy=Se,Se.src=y,Se.listener=Y,y.addEventListener)cp||(xt=jn),void 0===xt&&(xt=!1),y.addEventListener(F.toString(),Se,xt);else if(y.attachEvent)y.attachEvent(D_(F.toString()),Se);else{if(!y.addListener||!y.removeListener)throw Error("addEventListener and attachEvent are unavailable.");y.addListener(Se)}return Y}function wy(y,F,Y,Se,xt){if(Array.isArray(F)){for(var Qt=0;Qt<F.length;Qt++)wy(y,F[Qt],Y,Se,xt);return null}return Y=S_(Y),y&&y[dh]?y.L(F,Y,K(Se)?!!Se.capture:!!Se,xt):A_(y,F,Y,!0,Se,xt)}function by(y,F,Y,Se,xt){if(Array.isArray(F))for(var Qt=0;Qt<F.length;Qt++)by(y,F[Qt],Y,Se,xt);else Se=K(Se)?!!Se.capture:!!Se,Y=S_(Y),y&&y[dh]?(y=y.i,(F=String(F).toString())in y.g&&-1<(Y=Ty(Qt=y.g[F],Y,Se,xt))&&(tf(Qt[Y]),Array.prototype.splice.call(Qt,Y,1),0==Qt.length&&(delete y.g[F],y.h--))):y&&(y=Dy(y))&&(F=y.g[F.toString()],y=-1,F&&(y=Ty(F,Y,Se,xt)),(Y=-1<y?F[y]:null)&&Ay(Y))}function Ay(y){if("number"!=typeof y&&y&&!y.da){var F=y.src;if(F&&F[dh])Iy(F.i,y);else{var Y=y.type,Se=y.proxy;F.removeEventListener?F.removeEventListener(Y,Se,y.capture):F.detachEvent?F.detachEvent(D_(Y),Se):F.addListener&&F.removeListener&&F.removeListener(Se),(Y=Dy(F))?(Iy(Y,y),0==Y.h&&(Y.src=null,F[Dg]=null)):tf(y)}}}function D_(y){return y in Cy?Cy[y]:Cy[y]="on"+y}function Sl(y,F){if(y.da)y=!0;else{F=new ef(F,this);var Y=y.listener,Se=y.ha||y.src;y.fa&&Ay(y),y=Y.call(Se,F)}return y}function Dy(y){return(y=y[Dg])instanceof Ag?y:null}var Sy="__closure_events_fn_"+(1e9*Math.random()>>>0);function S_(y){return"function"==typeof y?y:(y[Sy]||(y[Sy]=function(F){return y.handleEvent(F)}),y[Sy])}function ra(){Dl.call(this),this.i=new Ag(this),this.M=this,this.F=null}function za(y,F){var Y,Se=y.F;if(Se)for(Y=[];Se;Se=Se.F)Y.push(Se);if(y=y.M,Se=F.type||F,"string"==typeof F)F=new na(F,y);else if(F instanceof na)F.target=F.target||y;else{var xt=F;Pt(F=new na(Se,y),xt)}if(xt=!0,Y)for(var Qt=Y.length-1;0<=Qt;Qt--){var jn=F.g=Y[Qt];xt=Sg(jn,Se,!0,F)&&xt}if(xt=Sg(jn=F.g=y,Se,!0,F)&&xt,xt=Sg(jn,Se,!1,F)&&xt,Y)for(Qt=0;Qt<Y.length;Qt++)xt=Sg(jn=F.g=Y[Qt],Se,!1,F)&&xt}function Sg(y,F,Y,Se){if(!(F=y.i.g[String(F)]))return!0;F=F.concat();for(var xt=!0,Qt=0;Qt<F.length;++Qt){var jn=F[Qt];if(jn&&!jn.da&&jn.capture==Y){var gs=jn.listener,Ia=jn.ha||jn.src;jn.fa&&Iy(y.i,jn),xt=!1!==gs.call(Ia,Se)&&xt}}return xt&&!Se.defaultPrevented}function R_(y,F,Y){if("function"==typeof y)Y&&(y=ot(y,Y));else{if(!y||"function"!=typeof y.handleEvent)throw Error("Invalid listener argument");y=ot(y.handleEvent,y)}return 2147483647<Number(F)?-1:S.setTimeout(y,F||0)}function P_(y){y.g=R_(()=>{y.g=null,y.i&&(y.i=!1,P_(y))},y.l);const F=y.h;y.h=null,y.m.apply(null,F)}cn(ra,Dl),ra.prototype[dh]=!0,ra.prototype.removeEventListener=function(y,F,Y,Se){by(this,y,F,Y,Se)},ra.prototype.N=function(){if(ra.aa.N.call(this),this.i){var F,y=this.i;for(F in y.g){for(var Y=y.g[F],Se=0;Se<Y.length;Se++)tf(Y[Se]);delete y.g[F],y.h--}}this.F=null},ra.prototype.K=function(y,F,Y,Se){return this.i.add(String(y),F,!1,Y,Se)},ra.prototype.L=function(y,F,Y,Se){return this.i.add(String(y),F,!0,Y,Se)};class M_ extends Dl{constructor(F,Y){super(),this.m=F,this.l=Y,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:P_(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function up(y){Dl.call(this),this.h=y,this.g={}}cn(up,Dl);var N_=[];function Rg(y){ci(y.g,function(F,Y){this.g.hasOwnProperty(Y)&&Ay(F)},y),y.g={}}up.prototype.N=function(){up.aa.N.call(this),Rg(this)},up.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ry=S.JSON.stringify,zI=S.JSON.parse,GI=class{stringify(y){return S.JSON.stringify(y,void 0)}parse(y){return S.JSON.parse(y,void 0)}};function Py(){}function Qc(){}Py.prototype.h=null;var hh={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function My(){na.call(this,"d")}function Ny(){na.call(this,"c")}cn(My,na),cn(Ny,na);var wd={},Oy=null;function fh(){return Oy=Oy||new ra}function Pg(y){na.call(this,wd.La,y)}function Mg(y){const F=fh();za(F,new Pg(F))}function xy(y,F){na.call(this,wd.STAT_EVENT,y),this.stat=F}function Ga(y){const F=fh();za(F,new xy(F,y))}function ky(y,F){na.call(this,wd.Ma,y),this.size=F}function bd(y,F){if("function"!=typeof y)throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){y()},F)}function ph(){this.g=!0}function nf(y,F,Y,Se){y.info(function(){return"XMLHTTP TEXT ("+F+"): "+function WI(y,F){if(!y.g)return F;if(!F)return null;try{var Y=JSON.parse(F);if(Y)for(y=0;y<Y.length;y++)if(Array.isArray(Y[y])){var Se=Y[y];if(!(2>Se.length)){var xt=Se[1];if(Array.isArray(xt)&&!(1>xt.length)){var Qt=xt[0];if("noop"!=Qt&&"stop"!=Qt&&"close"!=Qt)for(var jn=1;jn<xt.length;jn++)xt[jn]=""}}}return Ry(Y)}catch{return F}}(y,Y)+(Se?" "+Se:"")})}wd.La="serverreachability",cn(Pg,na),wd.STAT_EVENT="statevent",cn(xy,na),wd.Ma="timingevent",cn(ky,na),ph.prototype.xa=function(){this.g=!1},ph.prototype.info=function(){};var ju,$u={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Hu(){}function Eu(y,F,Y,Se){this.j=y,this.i=F,this.l=Y,this.R=Se||1,this.U=new up(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rf}function rf(){this.i=null,this.g="",this.h=!1}cn(Hu,Py),Hu.prototype.g=function(){return new XMLHttpRequest},Hu.prototype.i=function(){return{}},ju=new Hu;var Vy={},Ng={};function Uy(y,F,Y){y.L=1,y.v=Vg(Ec(F)),y.m=Y,y.P=!0,x_(y,null)}function x_(y,F){y.F=Date.now(),Og(y),y.A=Ec(y.v);var Y=y.A,Se=y.R;Array.isArray(Se)||(Se=[String(Se)]),lf(Y.i,"t",Se),y.C=0,Y=y.j.J,y.h=new rf,y.g=zg(y.j,Y?F:null,!y.m),0<y.O&&(y.M=new M_(ot(y.Y,y,y.g),y.O)),F=y.U,Y=y.g,Se=y.ca;var xt="readystatechange";Array.isArray(xt)||(xt&&(N_[0]=xt.toString()),xt=N_);for(var Qt=0;Qt<xt.length;Qt++){var jn=b_(Y,xt[Qt],Se||F.handleEvent,!1,F.h||F);if(!jn)break;F.g[jn.key]=jn}F=y.H?tt(y.H):{},y.m?(y.u||(y.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.A,y.u,y.m,F)):(y.u="GET",y.g.ea(y.A,y.u,null,F)),Mg(),function Bu(y,F,Y,Se,xt,Qt){y.info(function(){if(y.g)if(Qt)for(var jn="",gs=Qt.split("&"),Ia=0;Ia<gs.length;Ia++){var ki=gs[Ia].split("=");if(1<ki.length){var Ta=ki[0];ki=ki[1];var Ka=Ta.split("_");jn=2<=Ka.length&&"type"==Ka[1]?jn+(Ta+"=")+ki+"&":jn+(Ta+"=redacted&")}}else jn=null;else jn=Qt;return"XMLHTTP REQ ("+Se+") [attempt "+xt+"]: "+F+"\n"+Y+"\n"+jn})}(y.i,y.u,y.A,y.l,y.R,y.m)}function k_(y){return!!y.g&&"GET"==y.u&&2!=y.L&&y.j.Ca}function qI(y,F){var Y=y.C,Se=F.indexOf("\n",Y);return-1==Se?Ng:(Y=Number(F.substring(Y,Se)),isNaN(Y)?Vy:(Se+=1)+Y>F.length?Ng:(F=F.slice(Se,Se+Y),y.C=Se+Y,F))}function Og(y){y.S=Date.now()+y.I,L_(y,y.I)}function L_(y,F){if(null!=y.B)throw Error("WatchDog timer not null");y.B=bd(ot(y.ba,y),F)}function xg(y){y.B&&(S.clearTimeout(y.B),y.B=null)}function dp(y){0==y.j.G||y.J||Yy(y.j,y)}function Iu(y){xg(y);var F=y.M;F&&"function"==typeof F.ma&&F.ma(),y.M=null,Rg(y.U),y.g&&(F=y.g,y.g=null,F.abort(),F.ma())}function By(y,F){try{var Y=y.j;if(0!=Y.G&&(Y.g==y||jy(Y.h,y)))if(!y.K&&jy(Y.h,y)&&3==Y.G){try{var Se=Y.Da.g.parse(F)}catch{Se=null}if(Array.isArray(Se)&&3==Se.length){var xt=Se;if(0==xt[0]){e:if(!Y.u){if(Y.g){if(!(Y.g.F+3e3<y.F))break e;Hg(Y),uf(Y)}Qy(Y),Ga(18)}}else Y.za=xt[1],0<Y.za-Y.T&&37500>xt[2]&&Y.F&&0==Y.v&&!Y.C&&(Y.C=bd(ot(Y.Za,Y),6e3));if(1>=U_(Y.h)&&Y.ca){try{Y.ca()}catch{}Y.ca=void 0}}else Ad(Y,11)}else if((y.K||Y.g==y)&&Hg(Y),!dr(F))for(xt=Y.Da.g.parse(F),F=0;F<xt.length;F++){let ki=xt[F];if(Y.T=ki[0],ki=ki[1],2==Y.G)if("c"==ki[0]){Y.K=ki[1],Y.ia=ki[2];const Ta=ki[3];null!=Ta&&(Y.la=Ta,Y.j.info("VER="+Y.la));const Ka=ki[4];null!=Ka&&(Y.Aa=Ka,Y.j.info("SVER="+Y.Aa));const ff=ki[5];null!=ff&&"number"==typeof ff&&0<ff&&(Y.L=Se=1.5*ff,Y.j.info("backChannelRequestTimeoutMs_="+Se)),Se=Y;const Yc=y.g;if(Yc){const Kg=Yc.g?Yc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kg){var Qt=Se.h;Qt.g||-1==Kg.indexOf("spdy")&&-1==Kg.indexOf("quic")&&-1==Kg.indexOf("h2")||(Qt.j=Qt.l,Qt.g=new Set,Qt.h&&(kg(Qt,Qt.h),Qt.h=null))}if(Se.D){const ev=Yc.g?Yc.g.getResponseHeader("X-HTTP-Session-Id"):null;ev&&(Se.ya=ev,Xs(Se.I,Se.D,ev))}}Y.G=3,Y.l&&Y.l.ua(),Y.ba&&(Y.R=Date.now()-y.F,Y.j.info("Handshake RTT: "+Y.R+"ms"));var jn=y;if((Se=Y).qa=Jy(Se,Se.J?Se.ia:null,Se.W),jn.K){Lg(Se.h,jn);var gs=jn,Ia=Se.L;Ia&&(gs.I=Ia),gs.B&&(xg(gs),Og(gs)),Se.g=jn}else iT(Se);0<Y.i.length&&Ip(Y)}else"stop"!=ki[0]&&"close"!=ki[0]||Ad(Y,7);else 3==Y.G&&("stop"==ki[0]||"close"==ki[0]?"stop"==ki[0]?Ad(Y,7):Xy(Y):"noop"!=ki[0]&&Y.l&&Y.l.ta(ki),Y.v=0)}Mg()}catch{}}Eu.prototype.ca=function(y){y=y.target;const F=this.M;F&&3==Wu(y)?F.j():this.Y(y)},Eu.prototype.Y=function(y){try{if(y==this.g)e:{const Ka=Wu(this.g);var F=this.g.Ba();if(this.g.Z(),!(3>Ka)&&(3!=Ka||this.g&&(this.h.h||this.g.oa()||X_(this.g)))){this.J||4!=Ka||7==F||Mg(),xg(this);var Y=this.g.Z();this.X=Y;t:if(k_(this)){var Se=X_(this.g);y="";var xt=Se.length,Qt=4==Wu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Iu(this),dp(this);var jn="";break t}this.h.i=new S.TextDecoder}for(F=0;F<xt;F++)this.h.h=!0,y+=this.h.i.decode(Se[F],{stream:!(Qt&&F==xt-1)});Se.length=0,this.h.g+=y,this.C=0,jn=this.h.g}else jn=this.g.oa();if(this.o=200==Y,function KI(y,F,Y,Se,xt,Qt,jn){y.info(function(){return"XMLHTTP RESP ("+Se+") [ attempt "+xt+"]: "+F+"\n"+Y+"\n"+Qt+" "+jn})}(this.i,this.u,this.A,this.l,this.R,Ka,Y),this.o){if(this.T&&!this.K){t:{if(this.g){var gs,Ia=this.g;if((gs=Ia.g?Ia.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dr(gs)){var ki=gs;break t}}ki=null}if(!(Y=ki)){this.o=!1,this.s=3,Ga(12),Iu(this),dp(this);break e}nf(this.i,this.l,Y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,By(this,Y)}if(this.P){let Yc;for(Y=!0;!this.J&&this.C<jn.length;){if(Yc=qI(this,jn),Yc==Ng){4==Ka&&(this.s=4,Ga(14),Y=!1),nf(this.i,this.l,null,"[Incomplete Response]");break}if(Yc==Vy){this.s=4,Ga(15),nf(this.i,this.l,jn,"[Invalid Chunk]"),Y=!1;break}nf(this.i,this.l,Yc,null),By(this,Yc)}if(k_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ka||0!=jn.length||this.h.h||(this.s=1,Ga(16),Y=!1),this.o=this.o&&Y,Y){if(0<jn.length&&!this.W){this.W=!0;var Ta=this.j;Ta.g==this&&Ta.ba&&!Ta.M&&(Ta.j.info("Great, no buffering proxy detected. Bytes received: "+jn.length),$g(Ta),Ta.M=!0,Ga(11))}}else nf(this.i,this.l,jn,"[Invalid Chunked Response]"),Iu(this),dp(this)}else nf(this.i,this.l,jn,null),By(this,jn);4==Ka&&Iu(this),this.o&&!this.J&&(4==Ka?Yy(this.j,this):(this.o=!1,Og(this)))}else(function rT(y){const F={};y=(y.g&&2<=Wu(y)&&y.g.getAllResponseHeaders()||"").split("\r\n");for(let Se=0;Se<y.length;Se++){if(dr(y[Se]))continue;var Y=Lt(y[Se]);const xt=Y[0];if("string"!=typeof(Y=Y[1]))continue;Y=Y.trim();const Qt=F[xt]||[];F[xt]=Qt,Qt.push(Y)}!function At(y,F){for(const Y in y)F.call(void 0,y[Y],Y,y)}(F,function(Se){return Se.join(", ")})})(this.g),400==Y&&0<jn.indexOf("Unknown SID")?(this.s=3,Ga(12)):(this.s=0,Ga(13)),Iu(this),dp(this)}}}catch{}},Eu.prototype.cancel=function(){this.J=!0,Iu(this)},Eu.prototype.ba=function(){this.B=null;const y=Date.now();0<=y-this.S?(function Ly(y,F){y.info(function(){return"TIMEOUT: "+F})}(this.i,this.A),2!=this.L&&(Mg(),Ga(17)),Iu(this),this.s=2,dp(this)):L_(this,this.S-y)};var F_=class{constructor(y,F){this.g=y,this.map=F}};function V_(y){this.l=y||10,y=S.PerformanceNavigationTiming?0<(y=S.performance.getEntriesByType("navigation")).length&&("hq"==y[0].nextHopProtocol||"h2"==y[0].nextHopProtocol):!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $y(y){return!!y.h||!!y.g&&y.g.size>=y.j}function U_(y){return y.h?1:y.g?y.g.size:0}function jy(y,F){return y.h?y.h==F:!!y.g&&y.g.has(F)}function kg(y,F){y.g?y.g.add(F):y.h=F}function Lg(y,F){y.h&&y.h==F?y.h=null:y.g&&y.g.has(F)&&y.g.delete(F)}function Hy(y){if(null!=y.h)return y.i.concat(y.h.D);if(null!=y.g&&0!==y.g.size){let F=y.i;for(const Y of y.g.values())F=F.concat(Y.D);return F}return yn(y.i)}function sf(y,F){if(y.forEach&&"function"==typeof y.forEach)y.forEach(F,void 0);else if(N(y)||"string"==typeof y)Array.prototype.forEach.call(y,F,void 0);else for(var Y=function fp(y){if(y.na&&"function"==typeof y.na)return y.na();if(!y.V||"function"!=typeof y.V){if(typeof Map<"u"&&y instanceof Map)return Array.from(y.keys());if(!(typeof Set<"u"&&y instanceof Set)){if(N(y)||"string"==typeof y){var F=[];y=y.length;for(var Y=0;Y<y;Y++)F.push(Y);return F}F=[],Y=0;for(const Se in y)F[Y++]=Se;return F}}}(y),Se=function hp(y){if(y.V&&"function"==typeof y.V)return y.V();if(typeof Map<"u"&&y instanceof Map||typeof Set<"u"&&y instanceof Set)return Array.from(y.values());if("string"==typeof y)return y.split("");if(N(y)){for(var F=[],Y=y.length,Se=0;Se<Y;Se++)F.push(y[Se]);return F}for(Se in F=[],Y=0,y)F[Y++]=y[Se];return F}(y),xt=Se.length,Qt=0;Qt<xt;Qt++)F.call(void 0,Se[Qt],Y&&Y[Qt],y)}V_.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const y of this.g.values())y.cancel();this.g.clear()}};var B_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gh(y){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,y instanceof gh){this.h=y.h,af(this,y.j),this.o=y.o,this.g=y.g,Fg(this,y.s),this.l=y.l;var F=y.i,Y=new zu;Y.i=F.i,F.g&&(Y.g=new Map(F.g),Y.h=F.h),QI(this,Y),this.m=y.m}else y&&(F=String(y).match(B_))?(this.h=!1,af(this,F[1]||"",!0),this.o=pp(F[2]||""),this.g=pp(F[3]||"",!0),Fg(this,F[4]),this.l=pp(F[5]||"",!0),QI(this,F[6]||"",!0),this.m=pp(F[7]||"")):(this.h=!1,this.i=new zu(null,this.h))}function Ec(y){return new gh(y)}function af(y,F,Y){y.j=Y?pp(F,!0):F,y.j&&(y.j=y.j.replace(/:$/,""))}function Fg(y,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);y.s=F}else y.s=null}function QI(y,F,Y){F instanceof zu?(y.i=F,function nT(y,F){F&&!y.j&&(Tu(y),y.i=null,y.g.forEach(function(Y,Se){var xt=Se.toLowerCase();Se!=xt&&(gp(this,Se),lf(this,xt,Y))},y)),y.j=F}(y.i,y.h)):(Y||(F=Ug(F,tT)),y.i=new zu(F,y.h))}function Xs(y,F,Y){y.i.set(F,Y)}function Vg(y){return Xs(y,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),y}function pp(y,F){return y?F?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Ug(y,F,Y){return"string"==typeof y?(y=encodeURI(y).replace(F,YI),Y&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function YI(y){return"%"+((y=y.charCodeAt(0))>>4&15).toString(16)+(15&y).toString(16)}gh.prototype.toString=function(){var y=[],F=this.j;F&&y.push(Ug(F,ZI,!0),":");var Y=this.g;return(Y||"file"==F)&&(y.push("//"),(F=this.o)&&y.push(Ug(F,ZI,!0),"@"),y.push(encodeURIComponent(String(Y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(Y=this.s)&&y.push(":",String(Y))),(Y=this.l)&&(this.g&&"/"!=Y.charAt(0)&&y.push("/"),y.push(Ug(Y,"/"==Y.charAt(0)?eT:JI,!0))),(Y=this.i.toString())&&y.push("?",Y),(Y=this.m)&&y.push("#",Ug(Y,zy)),y.join("")};var ZI=/[#\/\?@]/g,JI=/[#\?:]/g,eT=/[#\?]/g,tT=/[#\?@]/g,zy=/#/g;function zu(y,F){this.h=this.g=null,this.i=y||null,this.j=!!F}function Tu(y){y.g||(y.g=new Map,y.h=0,y.i&&function XI(y,F){if(y){y=y.split("&");for(var Y=0;Y<y.length;Y++){var Se=y[Y].indexOf("="),xt=null;if(0<=Se){var Qt=y[Y].substring(0,Se);xt=y[Y].substring(Se+1)}else Qt=y[Y];F(Qt,xt?decodeURIComponent(xt.replace(/\+/g," ")):"")}}}(y.i,function(F,Y){y.add(decodeURIComponent(F.replace(/\+/g," ")),Y)}))}function gp(y,F){Tu(y),F=mh(y,F),y.g.has(F)&&(y.i=null,y.h-=y.g.get(F).length,y.g.delete(F))}function Gy(y,F){return Tu(y),F=mh(y,F),y.g.has(F)}function lf(y,F,Y){gp(y,F),0<Y.length&&(y.i=null,y.g.set(mh(y,F),yn(Y)),y.h+=Y.length)}function mh(y,F){return F=String(F),y.j&&(F=F.toLowerCase()),F}function Gu(y,F,Y,Se,xt){try{xt&&(xt.onload=null,xt.onerror=null,xt.onabort=null,xt.ontimeout=null),Se(Y)}catch{}}function j_(){this.g=new GI}function H_(y,F,Y){const Se=Y||"";try{sf(y,function(xt,Qt){let jn=xt;K(xt)&&(jn=Ry(xt)),F.push(Se+Qt+"="+encodeURIComponent(jn))})}catch(xt){throw F.push(Se+"type="+encodeURIComponent("_badmap")),xt}}function yp(y){this.l=y.Ub||null,this.j=y.eb||!1}function Bg(y,F){ra.call(this),this.D=y,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function z_(y){y.j.read().then(y.Pa.bind(y)).catch(y.ga.bind(y))}function Ku(y){y.readyState=4,y.l=null,y.j=null,y.v=null,vp(y)}function vp(y){y.onreadystatechange&&y.onreadystatechange.call(y)}function G_(y){let F="";return ci(y,function(Y,Se){F+=Se,F+=":",F+=Y,F+="\r\n"}),F}function Ky(y,F,Y){e:{for(Se in Y){var Se=!1;break e}Se=!0}Se||(Y=G_(Y),"string"==typeof y?null!=Y&&encodeURIComponent(String(Y)):Xs(y,F,Y))}function $s(y){ra.call(this),this.headers=new Map,this.o=y||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(c=zu.prototype).add=function(y,F){Tu(this),this.i=null,y=mh(this,y);var Y=this.g.get(y);return Y||this.g.set(y,Y=[]),Y.push(F),this.h+=1,this},c.forEach=function(y,F){Tu(this),this.g.forEach(function(Y,Se){Y.forEach(function(xt){y.call(F,xt,Se,this)},this)},this)},c.na=function(){Tu(this);const y=Array.from(this.g.values()),F=Array.from(this.g.keys()),Y=[];for(let Se=0;Se<F.length;Se++){const xt=y[Se];for(let Qt=0;Qt<xt.length;Qt++)Y.push(F[Se])}return Y},c.V=function(y){Tu(this);let F=[];if("string"==typeof y)Gy(this,y)&&(F=F.concat(this.g.get(mh(this,y))));else{y=Array.from(this.g.values());for(let Y=0;Y<y.length;Y++)F=F.concat(y[Y])}return F},c.set=function(y,F){return Tu(this),this.i=null,Gy(this,y=mh(this,y))&&(this.h-=this.g.get(y).length),this.g.set(y,[F]),this.h+=1,this},c.get=function(y,F){return y&&0<(y=this.V(y)).length?String(y[0]):F},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],F=Array.from(this.g.keys());for(var Y=0;Y<F.length;Y++){var Se=F[Y];const Qt=encodeURIComponent(String(Se)),jn=this.V(Se);for(Se=0;Se<jn.length;Se++){var xt=Qt;""!==jn[Se]&&(xt+="="+encodeURIComponent(String(jn[Se]))),y.push(xt)}}return this.i=y.join("&")},cn(yp,Py),yp.prototype.g=function(){return new Bg(this.l,this.j)},yp.prototype.i=function(y){return function(){return y}}({}),cn(Bg,ra),(c=Bg.prototype).open=function(y,F){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=y,this.A=F,this.readyState=1,vp(this)},c.send=function(y){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};y&&(F.body=y),(this.D||S).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},c.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ku(this)),this.readyState=0},c.Sa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,vp(this)),this.g&&(this.readyState=3,vp(this),this.g)))if("arraybuffer"===this.responseType)y.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;z_(this)}else y.text().then(this.Ra.bind(this),this.ga.bind(this))},c.Pa=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var F=y.value?y.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!y.done}))&&(this.response=this.responseText+=F)}y.done?Ku(this):vp(this),3==this.readyState&&z_(this)}},c.Ra=function(y){this.g&&(this.response=this.responseText=y,Ku(this))},c.Qa=function(y){this.g&&(this.response=y,Ku(this))},c.ga=function(){this.g&&Ku(this)},c.setRequestHeader=function(y,F){this.u.append(y,F)},c.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],F=this.h.entries();for(var Y=F.next();!Y.done;)y.push((Y=Y.value)[0]+": "+Y[1]),Y=F.next();return y.join("\r\n")},Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(y){this.m=y?"include":"same-origin"}}),cn($s,ra);var K_=/^https?$/i,W_=["POST","PUT"];function Wy(y,F){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=F,y.m=5,q_(y),cf(y)}function q_(y){y.A||(y.A=!0,za(y,"complete"),za(y,"error"))}function qy(y){if(y.h&&typeof _<"u"&&(!y.v[1]||4!=Wu(y)||2!=y.Z()))if(y.u&&4==Wu(y))R_(y.Ea,0,y);else if(za(y,"readystatechange"),4==Wu(y)){y.h=!1;try{const jn=y.Z();e:switch(jn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var Y;if(!(Y=F)){var Se;if(Se=0===jn){var xt=String(y.D).match(B_)[1]||null;!xt&&S.self&&S.self.location&&(xt=S.self.location.protocol.slice(0,-1)),Se=!K_.test(xt?xt.toLowerCase():"")}Y=Se}if(Y)za(y,"complete"),za(y,"success");else{y.m=6;try{var Qt=2<Wu(y)?y.g.statusText:""}catch{Qt=""}y.l=Qt+" ["+y.Z()+"]",q_(y)}}finally{cf(y)}}}function cf(y,F){if(y.g){_p(y);const Y=y.g,Se=y.v[0]?()=>{}:null;y.g=null,y.v=null,F||za(y,"ready");try{Y.onreadystatechange=Se}catch{}}}function _p(y){y.I&&(S.clearTimeout(y.I),y.I=null)}function Wu(y){return y.g?y.g.readyState:0}function X_(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.H){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function Ep(y,F,Y){return Y&&Y.internalChannelParams&&Y.internalChannelParams[y]||F}function Q_(y){this.Aa=0,this.i=[],this.j=new ph,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ep("failFast",!1,y),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ep("baseRetryDelayMs",5e3,y),this.cb=Ep("retryDelaySeedMs",1e4,y),this.Wa=Ep("forwardChannelMaxRetries",2,y),this.wa=Ep("forwardChannelRequestTimeoutMs",2e4,y),this.pa=y&&y.xmlHttpFactory||void 0,this.Xa=y&&y.Tb||void 0,this.Ca=y&&y.useFetchStreams||!1,this.L=void 0,this.J=y&&y.supportsCrossDomainXhr||!1,this.K="",this.h=new V_(y&&y.concurrentRequestLimit),this.Da=new j_,this.P=y&&y.fastHandshake||!1,this.O=y&&y.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=y&&y.Rb||!1,y&&y.xa&&this.j.xa(),y&&y.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&y&&y.detectBufferingProxy||!1,this.ja=void 0,y&&y.longPollingTimeout&&0<y.longPollingTimeout&&(this.ja=y.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Xy(y){if(df(y),3==y.G){var F=y.U++,Y=Ec(y.I);if(Xs(Y,"SID",y.K),Xs(Y,"RID",F),Xs(Y,"TYPE","terminate"),qu(y,Y),(F=new Eu(y,y.j,F)).L=2,F.v=Vg(Ec(Y)),Y=!1,S.navigator&&S.navigator.sendBeacon)try{Y=S.navigator.sendBeacon(F.v.toString(),"")}catch{}!Y&&S.Image&&((new Image).src=F.v,Y=!0),Y||(F.g=zg(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Og(F)}Zy(y)}function uf(y){y.g&&($g(y),y.g.cancel(),y.g=null)}function df(y){uf(y),y.u&&(S.clearTimeout(y.u),y.u=null),Hg(y),y.h.cancel(),y.s&&("number"==typeof y.s&&S.clearTimeout(y.s),y.s=null)}function Ip(y){if(!$y(y.h)&&!y.s){y.s=!0;var F=y.Ga;_u||C_(),Jh||(_u(),Jh=!0),wg.add(F,y),y.B=0}}function Z_(y,F){var Y;Y=F?F.l:y.U++;const Se=Ec(y.I);Xs(Se,"SID",y.K),Xs(Se,"RID",Y),Xs(Se,"AID",y.T),qu(y,Se),y.m&&y.o&&Ky(Se,y.m,y.o),Y=new Eu(y,y.j,Y,y.B+1),null===y.m&&(Y.H=y.o),F&&(y.i=F.D.concat(y.i)),F=Tp(y,Y,1e3),Y.I=Math.round(.5*y.wa)+Math.round(.5*y.wa*Math.random()),kg(y.h,Y),Uy(Y,Se,F)}function qu(y,F){y.H&&ci(y.H,function(Y,Se){Xs(F,Se,Y)}),y.l&&sf({},function(Y,Se){Xs(F,Se,Y)})}function Tp(y,F,Y){Y=Math.min(y.i.length,Y);var Se=y.l?ot(y.l.Na,y.l,y):null;e:{var xt=y.i;let Qt=-1;for(;;){const jn=["count="+Y];-1==Qt?0<Y?(Qt=xt[0].g,jn.push("ofs="+Qt)):Qt=0:jn.push("ofs="+Qt);let gs=!0;for(let Ia=0;Ia<Y;Ia++){let ki=xt[Ia].g;const Ta=xt[Ia].map;if(ki-=Qt,0>ki)Qt=Math.max(0,xt[Ia].g-100),gs=!1;else try{H_(Ta,jn,"req"+ki+"_")}catch{Se&&Se(Ta)}}if(gs){Se=jn.join("&");break e}}}return y=y.i.splice(0,Y),F.D=y,Se}function iT(y){if(!y.g&&!y.u){y.Y=1;var F=y.Fa;_u||C_(),Jh||(_u(),Jh=!0),wg.add(F,y),y.v=0}}function Qy(y){return!(y.g||y.u||3<=y.v||(y.Y++,y.u=bd(ot(y.Fa,y),J_(y,y.v)),y.v++,0))}function $g(y){null!=y.A&&(S.clearTimeout(y.A),y.A=null)}function jg(y){y.g=new Eu(y,y.j,"rpc",y.Y),null===y.m&&(y.g.H=y.o),y.g.O=0;var F=Ec(y.qa);Xs(F,"RID","rpc"),Xs(F,"SID",y.K),Xs(F,"AID",y.T),Xs(F,"CI",y.F?"0":"1"),!y.F&&y.ja&&Xs(F,"TO",y.ja),Xs(F,"TYPE","xmlhttp"),qu(y,F),y.m&&y.o&&Ky(F,y.m,y.o),y.L&&(y.g.I=y.L);var Y=y.g;y=y.ia,Y.L=1,Y.v=Vg(Ec(F)),Y.m=null,Y.P=!0,x_(Y,y)}function Hg(y){null!=y.C&&(S.clearTimeout(y.C),y.C=null)}function Yy(y,F){var Y=null;if(y.g==F){Hg(y),$g(y),y.g=null;var Se=2}else{if(!jy(y.h,F))return;Y=F.D,Lg(y.h,F),Se=1}if(0!=y.G)if(F.o)if(1==Se){Y=F.m?F.m.length:0,F=Date.now()-F.F;var xt=y.B;za(Se=fh(),new ky(Se,Y)),Ip(y)}else iT(y);else if(3==(xt=F.s)||0==xt&&0<F.X||!(1==Se&&function Y_(y,F){return!(U_(y.h)>=y.h.j-(y.s?1:0)||(y.s?(y.i=F.D.concat(y.i),0):1==y.G||2==y.G||y.B>=(y.Va?0:y.Wa)||(y.s=bd(ot(y.Ga,y,F),J_(y,y.B)),y.B++,0)))}(y,F)||2==Se&&Qy(y)))switch(Y&&0<Y.length&&(F=y.h,F.i=F.i.concat(Y)),xt){case 1:Ad(y,5);break;case 4:Ad(y,10);break;case 3:Ad(y,6);break;default:Ad(y,2)}}function J_(y,F){let Y=y.Ta+Math.floor(Math.random()*y.cb);return y.isActive()||(Y*=2),Y*F}function Ad(y,F){if(y.j.info("Error code "+F),2==F){var Y=ot(y.fb,y),Se=y.Xa;const xt=!Se;Se=new gh(Se||"//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||af(Se,"https"),Vg(Se),xt?function mp(y,F){const Y=new ph;if(S.Image){const Se=new Image;Se.onload=Ft(Gu,Y,"TestLoadImage: loaded",!0,F,Se),Se.onerror=Ft(Gu,Y,"TestLoadImage: error",!1,F,Se),Se.onabort=Ft(Gu,Y,"TestLoadImage: abort",!1,F,Se),Se.ontimeout=Ft(Gu,Y,"TestLoadImage: timeout",!1,F,Se),S.setTimeout(function(){Se.ontimeout&&Se.ontimeout()},1e4),Se.src=y}else F(!1)}(Se.toString(),Y):function $_(y,F){new ph;const Se=new AbortController,xt=setTimeout(()=>{Se.abort(),Gu(0,0,!1,F)},1e4);fetch(y,{signal:Se.signal}).then(Qt=>{clearTimeout(xt),Gu(0,0,!!Qt.ok,F)}).catch(()=>{clearTimeout(xt),Gu(0,0,!1,F)})}(Se.toString(),Y)}else Ga(2);y.G=0,y.l&&y.l.sa(F),Zy(y),df(y)}function Zy(y){if(y.G=0,y.ka=[],y.l){const F=Hy(y.h);(0!=F.length||0!=y.i.length)&&(ln(y.ka,F),ln(y.ka,y.i),y.h.i.length=0,yn(y.i),y.i.length=0),y.l.ra()}}function Jy(y,F,Y){var Se=Y instanceof gh?Ec(Y):new gh(Y);if(""!=Se.g)F&&(Se.g=F+"."+Se.g),Fg(Se,Se.s);else{var xt=S.location;Se=xt.protocol,F=F?F+"."+xt.hostname:xt.hostname,xt=+xt.port;var Qt=new gh(null);Se&&af(Qt,Se),F&&(Qt.g=F),xt&&Fg(Qt,xt),Y&&(Qt.l=Y),Se=Qt}return F=y.ya,(Y=y.D)&&F&&Xs(Se,Y,F),Xs(Se,"VER",y.la),qu(y,Se),Se}function zg(y,F,Y){if(F&&!y.J)throw Error("Can't create secondary domain capable XhrIo object.");return(F=new $s(y.Ca&&!y.pa?new yp({eb:Y}):y.pa)).Ha(y.J),F}function eE(){}function Gg(){}function Ql(y,F){ra.call(this),this.g=new Q_(F),this.l=y,this.h=F&&F.messageUrlParams||null,y=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(y?y["X-WebChannel-Content-Type"]=F.messageContentType:y={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(y?y["X-WebChannel-Client-Profile"]=F.va:y={"X-WebChannel-Client-Profile":F.va}),this.g.S=y,(y=F&&F.Sb)&&!dr(y)&&(this.g.m=y),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!dr(F)&&(this.g.D=F,null!==(y=this.h)&&F in y&&F in(y=this.h)&&delete y[F]),this.j=new hf(this)}function tE(y){My.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var F=y.__sm__;if(F){e:{for(const Y in F){y=Y;break e}y=void 0}(this.i=y)&&(y=this.i,F=null!==F&&y in F?F[y]:void 0),this.data=F}else this.data=y}function nE(){Ny.call(this),this.status=1}function hf(y){this.g=y}(c=$s.prototype).Ha=function(y){this.J=y},c.ea=function(y,F,Y,Se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);F=F?F.toUpperCase():"GET",this.D=y,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ju.g(),this.v=function O_(y){return y.h||(y.h=y.i())}(this.o?this.o:ju),this.g.onreadystatechange=ot(this.Ea,this);try{this.B=!0,this.g.open(F,String(y),!0),this.B=!1}catch(Qt){return void Wy(this,Qt)}if(y=Y||"",Y=new Map(this.headers),Se)if(Object.getPrototypeOf(Se)===Object.prototype)for(var xt in Se)Y.set(xt,Se[xt]);else{if("function"!=typeof Se.keys||"function"!=typeof Se.get)throw Error("Unknown input type for opt_headers: "+String(Se));for(const Qt of Se.keys())Y.set(Qt,Se.get(Qt))}Se=Array.from(Y.keys()).find(Qt=>"content-type"==Qt.toLowerCase()),xt=S.FormData&&y instanceof S.FormData,!(0<=Array.prototype.indexOf.call(W_,F,void 0))||Se||xt||Y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Qt,jn]of Y)this.g.setRequestHeader(Qt,jn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_p(this),this.u=!0,this.g.send(y),this.u=!1}catch(Qt){Wy(this,Qt)}},c.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=y||7,za(this,"complete"),za(this,"abort"),cf(this))},c.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cf(this,!0)),$s.aa.N.call(this)},c.Ea=function(){this.s||(this.B||this.u||this.j?qy(this):this.bb())},c.bb=function(){qy(this)},c.isActive=function(){return!!this.g},c.Z=function(){try{return 2<Wu(this)?this.g.status:-1}catch{return-1}},c.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},c.Oa=function(y){if(this.g){var F=this.g.responseText;return y&&0==F.indexOf(y)&&(F=F.substring(y.length)),zI(F)}},c.Ba=function(){return this.m},c.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(c=Q_.prototype).la=8,c.G=1,c.connect=function(y,F,Y,Se){Ga(0),this.W=y,this.H=F||{},Y&&void 0!==Se&&(this.H.OSID=Y,this.H.OAID=Se),this.F=this.X,this.I=Jy(this,null,this.W),Ip(this)},c.Ga=function(y){if(this.s)if(this.s=null,1==this.G){if(!y){this.U=Math.floor(1e5*Math.random()),y=this.U++;const xt=new Eu(this,this.j,y);let Qt=this.o;if(this.S&&(Qt?(Qt=tt(Qt),Pt(Qt,this.S)):Qt=this.S),null!==this.m||this.O||(xt.H=Qt,Qt=null),this.P)e:{for(var F=0,Y=0;Y<this.i.length;Y++){var Se=this.i[Y];if(void 0===(Se="__data__"in Se.map&&"string"==typeof(Se=Se.map.__data__)?Se.length:void 0))break;if(4096<(F+=Se)){F=Y;break e}if(4096===F||Y===this.i.length-1){F=Y+1;break e}}F=1e3}else F=1e3;F=Tp(this,xt,F),Xs(Y=Ec(this.I),"RID",y),Xs(Y,"CVER",22),this.D&&Xs(Y,"X-HTTP-Session-Id",this.D),qu(this,Y),Qt&&(this.O?F="headers="+encodeURIComponent(String(G_(Qt)))+"&"+F:this.m&&Ky(Y,this.m,Qt)),kg(this.h,xt),this.Ua&&Xs(Y,"TYPE","init"),this.P?(Xs(Y,"$req",F),Xs(Y,"SID","null"),xt.T=!0,Uy(xt,Y,null)):Uy(xt,Y,F),this.G=2}}else 3==this.G&&(y?Z_(this,y):0==this.i.length||$y(this.h)||Z_(this))},c.Fa=function(){if(this.u=null,jg(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var y=2*this.R;this.j.info("BP detection timer enabled: "+y),this.A=bd(ot(this.ab,this),y)}},c.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ga(10),uf(this),jg(this))},c.Za=function(){null!=this.C&&(this.C=null,uf(this),Qy(this),Ga(19))},c.fb=function(y){y?(this.j.info("Successfully pinged google.com"),Ga(2)):(this.j.info("Failed to ping google.com"),Ga(1))},c.isActive=function(){return!!this.l&&this.l.isActive(this)},(c=eE.prototype).ua=function(){},c.ta=function(){},c.sa=function(){},c.ra=function(){},c.isActive=function(){return!0},c.Na=function(){},Gg.prototype.g=function(y,F){return new Ql(y,F)},cn(Ql,ra),Ql.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ql.prototype.close=function(){Xy(this.g)},Ql.prototype.o=function(y){var F=this.g;if("string"==typeof y){var Y={};Y.__data__=y,y=Y}else this.u&&((Y={}).__data__=Ry(y),y=Y);F.i.push(new F_(F.Ya++,y)),3==F.G&&Ip(F)},Ql.prototype.N=function(){this.g.l=null,delete this.j,Xy(this.g),delete this.g,Ql.aa.N.call(this)},cn(tE,My),cn(nE,Ny),cn(hf,eE),hf.prototype.ua=function(){za(this.g,"a")},hf.prototype.ta=function(y){za(this.g,new tE(y))},hf.prototype.sa=function(y){za(this.g,new nE)},hf.prototype.ra=function(){za(this.g,"b")},Gg.prototype.createWebChannel=Gg.prototype.g,Ql.prototype.send=Ql.prototype.o,Ql.prototype.open=Ql.prototype.m,Ql.prototype.close=Ql.prototype.close,Ir=Un.createWebChannelTransport=function(){return new Gg},Jn=Un.getStatEventTarget=function(){return fh()},qn=Un.Event=wd,Sr=Un.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$u.NO_ERROR=0,$u.TIMEOUT=8,$u.HTTP_ERROR=6,Pr=Un.ErrorCode=$u,Fy.COMPLETE="complete",qt=Un.EventType=Fy,Qc.EventType=hh,hh.OPEN="a",hh.CLOSE="b",hh.ERROR="c",hh.MESSAGE="d",ra.prototype.listen=ra.prototype.K,Sn=Un.WebChannel=Qc,gr=Un.FetchXmlHttpFactory=yp,$s.prototype.listenOnce=$s.prototype.L,$s.prototype.getLastError=$s.prototype.Ka,$s.prototype.getLastErrorCode=$s.prototype.Ba,$s.prototype.getStatus=$s.prototype.Z,$s.prototype.getResponseJson=$s.prototype.Oa,$s.prototype.getResponseText=$s.prototype.oa,$s.prototype.send=$s.prototype.ea,$s.prototype.setWithCredentials=$s.prototype.Ha,ri=Un.XhrIo=$s}).apply(typeof pn<"u"?pn:typeof self<"u"?self:typeof window<"u"?window:{});const pi="@firebase/firestore";class Kn{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");let oi="10.12.3";const Xn=new Gn.Vy("@firebase/firestore");function cr(){return Xn.logLevel}function Xt(c,...t){if(Xn.logLevel<=Gn.$b.DEBUG){const i=t.map(Di);Xn.debug(`Firestore (${oi}): ${c}`,...i)}}function Lr(c,...t){if(Xn.logLevel<=Gn.$b.ERROR){const i=t.map(Di);Xn.error(`Firestore (${oi}): ${c}`,...i)}}function ui(c,...t){if(Xn.logLevel<=Gn.$b.WARN){const i=t.map(Di);Xn.warn(`Firestore (${oi}): ${c}`,...i)}}function Di(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch{return c}}function In(c="Unexpected state"){const t=`FIRESTORE (${oi}) INTERNAL ASSERTION FAILED: `+c;throw Lr(t),new Error(t)}function Rn(c,t){c||In()}function He(c,t){return c}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends dn.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ge{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class De{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Kn.UNAUTHENTICATED))}shutdown(){}}class Ut{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class _t{constructor(t){this.t=t,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var o=this;let u=this.i;const p=K=>this.i!==u?(u=this.i,i(K)):Promise.resolve();let _=new ge;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new ge,t.enqueueRetryable(()=>p(this.currentUser))};const S=()=>{const K=_;t.enqueueRetryable((0,Ot.A)(function*(){yield K.promise,yield p(o.currentUser)}))},N=K=>{Xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=K,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(K=>N(K)),setTimeout(()=>{if(!this.auth){const K=this.t.getImmediate({optional:!0});K?N(K):(Xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new ge)}},0),S()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==t?(Xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Rn("string"==typeof o.accessToken),new De(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Rn(null===t||"string"==typeof t),new Kn(t)}}class mn{constructor(t,i,o){this.l=t,this.h=i,this.P=o,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Nn{constructor(t,i,o){this.l=t,this.h=i,this.P=o}getToken(){return Promise.resolve(new mn(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class er{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ii{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){const o=p=>{null!=p.error&&Xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,Xt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(p.token):Promise.resolve()};this.o=p=>{t.enqueueRetryable(()=>o(p))};const u=p=>{Xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):Xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Rn("string"==typeof i.token),this.R=i.token,new er(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zr(c){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(c);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let o=0;o<c;o++)i[o]=Math.floor(256*Math.random());return i}class _r{static newId(){const i=62*Math.floor(256/62);let o="";for(;o.length<20;){const u=zr(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<i&&(o+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return o}}function fn(c,t){return c<t?-1:c>t?1:0}function ei(c,t,i){return c.length===t.length&&c.every((o,u)=>i(o,t[u]))}function ys(c){return c+"\0"}class wr{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ve(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ve(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return wr.fromMillis(Date.now())}static fromDate(t){return wr.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),o=Math.floor(1e6*(t-1e3*i));return new wr(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?fn(this.nanoseconds,t.nanoseconds):fn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new xn(t)}static min(){return new xn(new wr(0,0))}static max(){return new xn(new wr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Si{constructor(t,i,o){void 0===i?i=0:i>t.length&&In(),void 0===o?o=t.length-i:o>t.length-i&&In(),this.segments=t,this.offset=i,this.len=o}get length(){return this.len}isEqual(t){return 0===Si.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach(o=>{i.push(o)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,o=this.limit();i<o;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const o=Math.min(t.length,i.length);for(let u=0;u<o;u++){const p=t.get(u),_=i.get(u);if(p<_)return-1;if(p>_)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Er extends Si{construct(t,i,o){return new Er(t,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const o of t){if(o.indexOf("//")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(u=>u.length>0))}return new Er(i)}static emptyPath(){return new Er([])}}const Is=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Si{construct(t,i,o){return new Mr(t,i,o)}static isValidIdentifier(t){return Is.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(t){const i=[];let o="",u=0;const p=()=>{if(0===o.length)throw new ve(se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let _=!1;for(;u<t.length;){const S=t[u];if("\\"===S){if(u+1===t.length)throw new ve(se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const N=t[u+1];if("\\"!==N&&"."!==N&&"`"!==N)throw new ve(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=N,u+=2}else"`"===S?(_=!_,u++):"."!==S||_?(o+=S,u++):(p(),u++)}if(p(),_)throw new ve(se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Mr(i)}static emptyPath(){return new Mr([])}}class Q{constructor(t){this.path=t}static fromPath(t){return new Q(Er.fromString(t))}static fromName(t){return new Q(Er.fromString(t).popFirst(5))}static empty(){return new Q(Er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Er.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return Er.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Q(new Er(t.slice()))}}class re{constructor(t,i,o,u){this.indexId=t,this.collectionGroup=i,this.fields=o,this.indexState=u}}function z(c){return c.fields.find(t=>2===t.kind)}function ce(c){return c.fields.filter(t=>2!==t.kind)}re.UNKNOWN_ID=-1;class Ie{constructor(t,i){this.fieldPath=t,this.kind=i}}class Vt{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new Vt(0,vr.min())}}function En(c,t){const i=c.toTimestamp().seconds,o=c.toTimestamp().nanoseconds+1,u=xn.fromTimestamp(1e9===o?new wr(i+1,0):new wr(i,o));return new vr(u,Q.empty(),t)}function Fn(c){return new vr(c.readTime,c.key,-1)}class vr{constructor(t,i,o){this.readTime=t,this.documentKey=i,this.largestBatchId=o}static min(){return new vr(xn.min(),Q.empty(),-1)}static max(){return new vr(xn.max(),Q.empty(),-1)}}function Ri(c,t){let i=c.readTime.compareTo(t.readTime);return 0!==i?i:(i=Q.comparator(c.documentKey,t.documentKey),0!==i?i:fn(c.largestBatchId,t.largestBatchId))}const Ur="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ui{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function hr(c){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,Ot.A)(function*(c){if(c.code!==se.FAILED_PRECONDITION||c.message!==Ur)throw c;Xt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class bt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&In(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new bt((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(t,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(o,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof bt?i:bt.resolve(i)}catch(i){return bt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):bt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):bt.reject(i)}static resolve(t){return new bt((i,o)=>{i(t)})}static reject(t){return new bt((i,o)=>{o(t)})}static waitFor(t){return new bt((i,o)=>{let u=0,p=0,_=!1;t.forEach(S=>{++u,S.next(()=>{++p,_&&p===u&&i()},N=>o(N))}),_=!0,p===u&&i()})}static or(t){let i=bt.resolve(!1);for(const o of t)i=i.next(u=>u?bt.resolve(u):o());return i}static forEach(t,i){const o=[];return t.forEach((u,p)=>{o.push(i.call(this,u,p))}),this.waitFor(o)}static mapArray(t,i){return new bt((o,u)=>{const p=t.length,_=new Array(p);let S=0;for(let N=0;N<p;N++){const K=N;i(t[K]).next(he=>{_[K]=he,++S,S===p&&o(_)},he=>u(he))}})}static doWhile(t,i){return new bt((o,u)=>{const p=()=>{!0===t()?i().next(()=>{p()},u):o()};p()})}}class Bi{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new ge,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new wi(t,i.error)):this.V.resolve()},this.transaction.onerror=o=>{const u=uo(o.target.error);this.V.reject(new wi(t,u))}}static open(t,i,o,u){try{return new Bi(i,t.transaction(u,o))}catch(p){throw new wi(i,p)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(Xt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new ia(i)}}class qr{constructor(t,i,o){this.name=t,this.version=i,this.p=o,12.2===qr.S((0,dn.ZQ)())&&Lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Xt("SimpleDb","Removing database:",t),xs(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,dn.zW)())return!1;if(qr.C())return!0;const t=(0,dn.ZQ)(),i=qr.S(t),o=0<i&&i<10,u=Rs(t),p=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||p)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.v)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}M(t){var i=this;return(0,Ot.A)(function*(){return i.db||(Xt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,u)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=_=>{o(_.target.result)},p.onblocked=()=>{u(new wi(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const S=_.target.error;u("VersionError"===S.name?new ve(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new ve(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new wi(t,S))},p.onupgradeneeded=_=>{Xt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,p.transaction,_.oldVersion,i.version).next(()=>{Xt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=o=>i.N(o)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,o,u){var p=this;return(0,Ot.A)(function*(){const _="readonly"===i;let S=0;for(;;){++S;try{p.db=yield p.M(t);const N=Bi.open(p.db,t,_?"readonly":"readwrite",o),K=u(N).next(he=>(N.g(),he)).catch(he=>(N.abort(he),bt.reject(he))).toPromise();return K.catch(()=>{}),yield N.m,K}catch(N){const K=N,he="FirebaseError"!==K.name&&S<3;if(Xt("SimpleDb","Transaction failed with error:",K.message,"Retrying:",he),p.close(),!he)return Promise.reject(K)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function Rs(c){const t=c.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Ts{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return xs(this.B.delete())}}class wi extends ve{constructor(t,i){super(se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function js(c){return"IndexedDbTransactionError"===c.name}class ia{constructor(t){this.store=t}put(t,i){let o;return void 0!==i?(Xt("SimpleDb","PUT",this.store.name,t,i),o=this.store.put(i,t)):(Xt("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),xs(o)}add(t){return Xt("SimpleDb","ADD",this.store.name,t,t),xs(this.store.add(t))}get(t){return xs(this.store.get(t)).next(i=>(void 0===i&&(i=null),Xt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return Xt("SimpleDb","DELETE",this.store.name,t),xs(this.store.delete(t))}count(){return Xt("SimpleDb","COUNT",this.store.name),xs(this.store.count())}U(t,i){const o=this.options(t,i),u=o.index?this.store.index(o.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(o.range);return new bt((_,S)=>{p.onerror=N=>{S(N.target.error)},p.onsuccess=N=>{_(N.target.result)}})}{const p=this.cursor(o),_=[];return this.W(p,(S,N)=>{_.push(N)}).next(()=>_)}}G(t,i){const o=this.store.getAll(t,null===i?void 0:i);return new bt((u,p)=>{o.onerror=_=>{p(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}j(t,i){Xt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(t,i);o.H=!1;const u=this.cursor(o);return this.W(u,(p,_,S)=>S.delete())}J(t,i){let o;i?o=t:(o={},i=t);const u=this.cursor(o);return this.W(u,i)}Y(t){const i=this.cursor({});return new bt((o,u)=>{i.onerror=p=>{const _=uo(p.target.error);u(_)},i.onsuccess=p=>{const _=p.target.result;_?t(_.primaryKey,_.value).next(S=>{S?_.continue():o()}):o()}})}W(t,i){const o=[];return new bt((u,p)=>{t.onerror=_=>{p(_.target.error)},t.onsuccess=_=>{const S=_.target.result;if(!S)return void u();const N=new Ts(S),K=i(S.primaryKey,S.value,N);if(K instanceof bt){const he=K.catch(Pe=>(N.done(),bt.reject(Pe)));o.push(he)}N.isDone?u():null===N.K?S.continue():S.continue(N.K)}}).next(()=>bt.waitFor(o))}options(t,i){let o;return void 0!==t&&("string"==typeof t?o=t:i=t),{index:o,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const o=this.store.index(t.index);return t.H?o.openKeyCursor(t.range,i):o.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function xs(c){return new bt((t,i)=>{c.onsuccess=o=>{t(o.target.result)},c.onerror=o=>{const u=uo(o.target.error);i(u)}})}let jo=!1;function uo(c){const t=qr.S((0,dn.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(i)>=0){const o=new ve("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jo||(jo=!0,setTimeout(()=>{throw o},0)),o}}return c}class Li{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;Xt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ot.A)(function*(){i.task=null;try{Xt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(o){js(o)?Xt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",o):yield hr(o)}yield i.X(6e4)}))}}class yo{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,Ot.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>i.te(o,t))})()}te(t,i){const o=new Set;let u=i,p=!0;return bt.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(_=>{if(null!==_&&!o.has(_))return Xt("IndexBackfiller",`Processing collection: ${_}`),this.ne(t,_,u).next(S=>{u-=S,o.add(_)});p=!1})).next(()=>i-u)}ne(t,i,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,o).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(t,_).next(()=>this.re(u,p)).next(S=>(Xt("IndexBackfiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(t,i,S))).next(()=>_.size)}))}re(t,i){let o=t;return i.changes.forEach((u,p)=>{const _=Fn(p);Ri(_,o)>0&&(o=_)}),new vr(o.readTime,o.documentKey,Math.max(i.batchId,t.largestBatchId))}}let hi=(()=>{class c{constructor(i,o){this.previousValue=i,o&&(o.sequenceNumberHandler=u=>this.ie(u),this.se=u=>o.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return c.oe=-1,c})();function Hs(c){return null==c}function no(c){return 0===c&&1/c==-1/0}function sa(c){return"number"==typeof c&&Number.isInteger(c)&&!no(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}function cs(c){let t="";for(let i=0;i<c.length;i++)t.length>0&&(t=Ao(t)),t=ks(c.get(i),t);return Ao(t)}function ks(c,t){let i=t;const o=c.length;for(let u=0;u<o;u++){const p=c.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function Ao(c){return c+"\x01\x01"}function vs(c){const t=c.length;if(Rn(t>=2),2===t)return Rn("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Er.emptyPath();const i=t-2,o=[];let u="";for(let p=0;p<t;){const _=c.indexOf("\x01",p);switch((_<0||_>i)&&In(),c.charAt(_+1)){case"\x01":const S=c.substring(p,_);let N;0===u.length?N=S:(u+=S,N=u,u=""),o.push(N);break;case"\x10":u+=c.substring(p,_),u+="\0";break;case"\x11":u+=c.substring(p,_+1);break;default:In()}p=_+2}return new Er(o)}const Ho=["userId","batchId"];function oa(c,t){return[c,cs(t)]}function Aa(c,t,i){return[c,cs(t),i]}const Do={},aa=["prefixPath","collectionGroup","readTime","documentId"],Rl=["prefixPath","collectionGroup","documentId"],vo=["collectionGroup","readTime","prefixPath","documentId"],J=["canonicalId","targetId"],Rr=["targetId","path"],te=["path","targetId"],x=["collectionId","parent"],we=["indexId","uid"],Nr=["uid","sequenceNumber"],gi=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],$i=["indexId","uid","orderedDocumentKey"],Ls=["userId","collectionPath","documentId"],G=["userId","collectionPath","largestBatchId"],de=["userId","collectionGroup","largestBatchId"],xe=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],We=[...xe,"documentOverlays"],pt=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ft=pt,Yt=[...ft,"indexConfiguration","indexState","indexEntries"],tn=Yt;class Zt extends Ui{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function Wt(c,t){const i=He(c);return qr.F(i._e,t)}function Cn(c){let t=0;for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&t++;return t}function An(c,t){for(const i in c)Object.prototype.hasOwnProperty.call(c,i)&&t(i,c[i])}function tr(c){for(const t in c)if(Object.prototype.hasOwnProperty.call(c,t))return!1;return!0}class mr{constructor(t,i){this.comparator=t,this.root=i||Or.EMPTY}insert(t,i){return new mr(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Or.BLACK,null,null))}remove(t){return new mr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Or.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(t){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(t,o.key);if(0===u)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,o)=>(t(i,o),!1))}toString(){const t=[];return this.inorderTraversal((i,o)=>(t.push(`${i}:${o}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Fi(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Fi(this.root,t,this.comparator,!1)}getReverseIterator(){return new Fi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Fi(this.root,t,this.comparator,!0)}}class Fi{constructor(t,i,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!t.isEmpty();)if(p=i?o(t.key,i):1,i&&u&&(p*=-1),p<0)t=this.isReverse?t.left:t.right;else{if(0===p){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Or{constructor(t,i,o,u,p){this.key=t,this.value=i,this.color=o??Or.RED,this.left=u??Or.EMPTY,this.right=p??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,o,u,p){return new Or(t??this.key,i??this.value,o??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let u=this;const p=o(t,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(t,i,o),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let o,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return Or.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();const t=this.left.check();if(t!==this.right.check())throw In();return t+(this.isRed()?0:1)}}Or.EMPTY=null,Or.RED=!0,Or.BLACK=!1,Or.EMPTY=new class{constructor(){this.size=0}get key(){throw In()}get value(){throw In()}get color(){throw In()}get left(){throw In()}get right(){throw In()}copy(t,i,o,u,p){return this}insert(t,i,o){return new Or(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class en{constructor(t){this.comparator=t,this.data=new mr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,o)=>(t(i),!1))}forEachInRange(t,i){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Pi(this.data.getIterator())}getIteratorFrom(t){return new Pi(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(o=>{i=i.add(o)}),i}isEqual(t){if(!(t instanceof en)||this.size!==t.size)return!1;const i=this.data.getIterator(),o=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new en(this.comparator);return i.data=t,i}}class Pi{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function mi(c){return c.hasNext()?c.getNext():void 0}class ss{constructor(t){this.fields=t,t.sort(Mr.comparator)}static empty(){return new ss([])}unionWith(t){let i=new en(Mr.comparator);for(const o of this.fields)i=i.add(o);for(const o of t)i=i.add(o);return new ss(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ei(this.fields,t.fields,(i,o)=>i.isEqual(o))}}class la extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Mi{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new la("Invalid base64 string: "+p):p}}(t);return new Mi(i)}static fromUint8Array(t){const i=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(t);return new Mi(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const o=new Uint8Array(i.length);for(let u=0;u<i.length;u++)o[u]=i.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return fn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Mi.EMPTY_BYTE_STRING=new Mi("");const _o=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(c){if(Rn(!!c),"string"==typeof c){let t=0;const i=_o.exec(c);if(Rn(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const o=new Date(c);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:Xr(c.seconds),nanos:Xr(c.nanos)}}function Xr(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function ro(c){return"string"==typeof c?Mi.fromBase64String(c):Mi.fromUint8Array(c)}function zo(c){var t,i;return"server_timestamp"===(null===(i=((null===(t=c?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Fs(c){const t=c.mapValue.fields.__previous_value__;return zo(t)?Fs(t):t}function ds(c){const t=Cs(c.mapValue.fields.__local_write_time__.timestampValue);return new wr(t.seconds,t.nanos)}class Da{constructor(t,i,o,u,p,_,S,N,K){this.databaseId=t,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.longPollingOptions=N,this.useFetchStreams=K}}class Ti{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Ti("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Ti&&t.projectId===this.projectId&&t.database===this.database}}const _s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},So={nullValue:"NULL_VALUE"};function ii(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?zo(c)?4:yi(c)?9007199254740991:10:In()}function Ps(c,t){if(c===t)return!0;const i=ii(c);if(i!==ii(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return c.booleanValue===t.booleanValue;case 4:return ds(c).isEqual(ds(t));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=Cs(u.timestampValue),S=Cs(p.timestampValue);return _.seconds===S.seconds&&_.nanos===S.nanos}(c,t);case 5:return c.stringValue===t.stringValue;case 6:return p=t,ro(c.bytesValue).isEqual(ro(p.bytesValue));case 7:return c.referenceValue===t.referenceValue;case 8:return function(u,p){return Xr(u.geoPointValue.latitude)===Xr(p.geoPointValue.latitude)&&Xr(u.geoPointValue.longitude)===Xr(p.geoPointValue.longitude)}(c,t);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return Xr(u.integerValue)===Xr(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=Xr(u.doubleValue),S=Xr(p.doubleValue);return _===S?no(_)===no(S):isNaN(_)&&isNaN(S)}return!1}(c,t);case 9:return ei(c.arrayValue.values||[],t.arrayValue.values||[],Ps);case 10:return function(u,p){const _=u.mapValue.fields||{},S=p.mapValue.fields||{};if(Cn(_)!==Cn(S))return!1;for(const N in _)if(_.hasOwnProperty(N)&&(void 0===S[N]||!Ps(_[N],S[N])))return!1;return!0}(c,t);default:return In()}var p}function Ni(c,t){return void 0!==(c.values||[]).find(i=>Ps(i,t))}function ws(c,t){if(c===t)return 0;const i=ii(c),o=ii(t);if(i!==o)return fn(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return fn(c.booleanValue,t.booleanValue);case 2:return function(p,_){const S=Xr(p.integerValue||p.doubleValue),N=Xr(_.integerValue||_.doubleValue);return S<N?-1:S>N?1:S===N?0:isNaN(S)?isNaN(N)?0:-1:1}(c,t);case 3:return ec(c.timestampValue,t.timestampValue);case 4:return ec(ds(c),ds(t));case 5:return fn(c.stringValue,t.stringValue);case 6:return function(p,_){const S=ro(p),N=ro(_);return S.compareTo(N)}(c.bytesValue,t.bytesValue);case 7:return function(p,_){const S=p.split("/"),N=_.split("/");for(let K=0;K<S.length&&K<N.length;K++){const he=fn(S[K],N[K]);if(0!==he)return he}return fn(S.length,N.length)}(c.referenceValue,t.referenceValue);case 8:return function(p,_){const S=fn(Xr(p.latitude),Xr(_.latitude));return 0!==S?S:fn(Xr(p.longitude),Xr(_.longitude))}(c.geoPointValue,t.geoPointValue);case 9:return function(p,_){const S=p.values||[],N=_.values||[];for(let K=0;K<S.length&&K<N.length;++K){const he=ws(S[K],N[K]);if(he)return he}return fn(S.length,N.length)}(c.arrayValue,t.arrayValue);case 10:return function(p,_){if(p===_s.mapValue&&_===_s.mapValue)return 0;if(p===_s.mapValue)return 1;if(_===_s.mapValue)return-1;const S=p.fields||{},N=Object.keys(S),K=_.fields||{},he=Object.keys(K);N.sort(),he.sort();for(let Pe=0;Pe<N.length&&Pe<he.length;++Pe){const ot=fn(N[Pe],he[Pe]);if(0!==ot)return ot;const Ft=ws(S[N[Pe]],K[he[Pe]]);if(0!==Ft)return Ft}return fn(N.length,he.length)}(c.mapValue,t.mapValue);default:throw In()}}function ec(c,t){if("string"==typeof c&&"string"==typeof t&&c.length===t.length)return fn(c,t);const i=Cs(c),o=Cs(t),u=fn(i.seconds,o.seconds);return 0!==u?u:fn(i.nanos,o.nanos)}function Go(c){return io(c)}function io(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(i){const o=Cs(i);return`time(${o.seconds},${o.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?ro(c.bytesValue).toBase64():"referenceValue"in c?Q.fromName(c.referenceValue).toString():"geoPointValue"in c?function(i){return`geo(${i.latitude},${i.longitude})`}(c.geoPointValue):"arrayValue"in c?function(i){let o="[",u=!0;for(const p of i.values||[])u?u=!1:o+=",",o+=io(p);return o+"]"}(c.arrayValue):"mapValue"in c?function(i){const o=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const _ of o)p?p=!1:u+=",",u+=`${_}:${io(i.fields[_])}`;return u+"}"}(c.mapValue):In()}function Eo(c,t){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${t.path.canonicalString()}`}}function bs(c){return!!c&&"integerValue"in c}function Wa(c){return!!c&&"arrayValue"in c}function Sa(c){return!!c&&"nullValue"in c}function Cc(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function so(c){return!!c&&"mapValue"in c}function ul(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const t={mapValue:{fields:{}}};return An(c.mapValue.fields,(i,o)=>t.mapValue.fields[i]=ul(o)),t}if(c.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(c.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=ul(c.arrayValue.values[i]);return t}return Object.assign({},c)}function yi(c){return"__max__"===(((c.mapValue||{}).fields||{}).__type__||{}).stringValue}function qa(c){return"nullValue"in c?So:"booleanValue"in c?{booleanValue:!1}:"integerValue"in c||"doubleValue"in c?{doubleValue:NaN}:"timestampValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in c?{stringValue:""}:"bytesValue"in c?{bytesValue:""}:"referenceValue"in c?Eo(Ti.empty(),Q.empty()):"geoPointValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in c?{arrayValue:{}}:"mapValue"in c?{mapValue:{}}:In()}function Jc(c){return"nullValue"in c?{booleanValue:!1}:"booleanValue"in c?{doubleValue:NaN}:"integerValue"in c||"doubleValue"in c?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in c?{stringValue:""}:"stringValue"in c?{bytesValue:""}:"bytesValue"in c?Eo(Ti.empty(),Q.empty()):"referenceValue"in c?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in c?{arrayValue:{}}:"arrayValue"in c?{mapValue:{}}:"mapValue"in c?_s:In()}function Pl(c,t){const i=ws(c.value,t.value);return 0!==i?i:c.inclusive&&!t.inclusive?-1:!c.inclusive&&t.inclusive?1:0}function tc(c,t){const i=ws(c.value,t.value);return 0!==i?i:c.inclusive&&!t.inclusive?1:!c.inclusive&&t.inclusive?-1:0}class ir{constructor(t){this.value=t}static empty(){return new ir({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let o=0;o<t.length-1;++o)if(i=(i.mapValue.fields||{})[t.get(o)],!so(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=ul(i)}setAll(t){let i=Mr.emptyPath(),o={},u=[];t.forEach((_,S)=>{if(!i.isImmediateParentOf(S)){const N=this.getFieldsMap(i);this.applyChanges(N,o,u),o={},u=[],i=S.popLast()}_?o[S.lastSegment()]=ul(_):u.push(S.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,o,u)}delete(t){const i=this.field(t.popLast());so(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ps(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<t.length;++o){let u=i.mapValue.fields[t.get(o)];so(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,o){An(i,(u,p)=>t[u]=p);for(const u of o)delete t[u]}clone(){return new ir(ul(this.value))}}function Io(c){const t=[];return An(c.fields,(i,o)=>{const u=new Mr([i]);if(so(o)){const p=Io(o.mapValue).fields;if(0===p.length)t.push(u);else for(const _ of p)t.push(u.child(_))}else t.push(u)}),new ss(t)}class H{constructor(t,i,o,u,p,_,S){this.key=t,this.documentType=i,this.version=o,this.readTime=u,this.createTime=p,this.data=_,this.documentState=S}static newInvalidDocument(t){return new H(t,0,xn.min(),xn.min(),xn.min(),ir.empty(),0)}static newFoundDocument(t,i,o,u){return new H(t,1,i,xn.min(),o,u,0)}static newNoDocument(t,i){return new H(t,2,i,xn.min(),xn.min(),ir.empty(),0)}static newUnknownDocument(t,i){return new H(t,3,i,xn.min(),xn.min(),ir.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(xn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof H&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new H(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class j{constructor(t,i){this.position=t,this.inclusive=i}}function O(c,t,i){let o=0;for(let u=0;u<c.position.length;u++){const p=t[u],_=c.position[u];if(o=p.field.isKeyField()?Q.comparator(Q.fromName(_.referenceValue),i.key):ws(_,i.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function pe(c,t){if(null===c)return null===t;if(null===t||c.inclusive!==t.inclusive||c.position.length!==t.position.length)return!1;for(let i=0;i<c.position.length;i++)if(!Ps(c.position[i],t.position[i]))return!1;return!0}class nt{constructor(t,i="asc"){this.field=t,this.dir=i}}function or(c,t){return c.dir===t.dir&&c.field.isEqual(t.field)}class Fr{}class kn extends Fr{constructor(t,i,o){super(),this.field=t,this.op=i,this.value=o}static create(t,i,o){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,o):new fl(t,i,o):"array-contains"===i?new Ko(t,o):"in"===i?new ua(t,o):"not-in"===i?new da(t,o):"array-contains-any"===i?new Zu(t,o):new kn(t,i,o)}static createKeyFieldInFilter(t,i,o){return"in"===i?new wc(t,o):new xr(t,o)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(ws(i,this.value)):null!==i&&ii(this.value)===ii(i)&&this.matchesComparison(ws(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return In()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ti extends Fr{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new ti(t,i)}matches(t){return zi(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zi(c){return"and"===c.op}function Ra(c){return"or"===c.op}function Xa(c){return ca(c)&&zi(c)}function ca(c){for(const t of c.filters)if(t instanceof ti)return!1;return!0}function Ml(c){if(c instanceof kn)return c.field.canonicalString()+c.op.toString()+Go(c.value);if(Xa(c))return c.filters.map(t=>Ml(t)).join(",");{const t=c.filters.map(i=>Ml(i)).join(",");return`${c.op}(${t})`}}function Pa(c,t){return c instanceof kn?(o=c,(u=t)instanceof kn&&o.op===u.op&&o.field.isEqual(u.field)&&Ps(o.value,u.value)):c instanceof ti?function(o,u){return u instanceof ti&&o.op===u.op&&o.filters.length===u.filters.length&&o.filters.reduce((p,_,S)=>p&&Pa(_,u.filters[S]),!0)}(c,t):void In();var o,u}function dl(c,t){const i=c.filters.concat(t);return ti.create(i,c.op)}function hl(c){return c instanceof kn?`${(i=c).field.canonicalString()} ${i.op} ${Go(i.value)}`:c instanceof ti?function(i){return i.op.toString()+" {"+i.getFilters().map(hl).join(" ,")+"}"}(c):"Filter";var i}class fl extends kn{constructor(t,i,o){super(t,i,o),this.key=Q.fromName(o.referenceValue)}matches(t){const i=Q.comparator(t.key,this.key);return this.matchesComparison(i)}}class wc extends kn{constructor(t,i){super(t,"in",i),this.keys=bc(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class xr extends kn{constructor(t,i){super(t,"not-in",i),this.keys=bc(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function bc(c,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>Q.fromName(o.referenceValue))}class Ko extends kn{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Wa(i)&&Ni(i.arrayValue,this.value)}}class ua extends kn{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&Ni(this.value.arrayValue,i)}}class da extends kn{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!Ni(this.value.arrayValue,i)}}class Zu extends kn{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Wa(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>Ni(this.value.arrayValue,o))}}class Nl{constructor(t,i=null,o=[],u=[],p=null,_=null,S=null){this.path=t,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=_,this.endAt=S,this.ue=null}}function wu(c,t=null,i=[],o=[],u=null,p=null,_=null){return new Nl(c,t,i,o,u,p,_)}function Qa(c){const t=He(c);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(o=>Ml(o)).join(","),i+="|ob:",i+=t.orderBy.map(o=>{return(p=o).field.canonicalString()+p.dir;var p}).join(","),Hs(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Go(o)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Go(o)).join(",")),t.ue=i}return t.ue}function Ac(c,t){if(c.limit!==t.limit||c.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<c.orderBy.length;i++)if(!or(c.orderBy[i],t.orderBy[i]))return!1;if(c.filters.length!==t.filters.length)return!1;for(let i=0;i<c.filters.length;i++)if(!Pa(c.filters[i],t.filters[i]))return!1;return c.collectionGroup===t.collectionGroup&&!!c.path.isEqual(t.path)&&!!pe(c.startAt,t.startAt)&&pe(c.endAt,t.endAt)}function nc(c){return Q.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}function Ol(c,t){return c.filters.filter(i=>i instanceof kn&&i.field.isEqual(t))}function pl(c,t,i){let o=So,u=!0;for(const p of Ol(c,t)){let _=So,S=!0;switch(p.op){case"<":case"<=":_=qa(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,S=!1;break;case"!=":case"not-in":_=So}Pl({value:o,inclusive:u},{value:_,inclusive:S})<0&&(o=_,u=S)}if(null!==i)for(let p=0;p<c.orderBy.length;++p)if(c.orderBy[p].field.isEqual(t)){const _=i.position[p];Pl({value:o,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(o=_,u=i.inclusive);break}return{value:o,inclusive:u}}function Ya(c,t,i){let o=_s,u=!0;for(const p of Ol(c,t)){let _=_s,S=!0;switch(p.op){case">=":case">":_=Jc(p.value),S=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,S=!1;break;case"!=":case"not-in":_=_s}tc({value:o,inclusive:u},{value:_,inclusive:S})>0&&(o=_,u=S)}if(null!==i)for(let p=0;p<c.orderBy.length;++p)if(c.orderBy[p].field.isEqual(t)){const _=i.position[p];tc({value:o,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(o=_,u=i.inclusive);break}return{value:o,inclusive:u}}class Wo{constructor(t,i=null,o=[],u=[],p=null,_="F",S=null,N=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=_,this.startAt=S,this.endAt=N,this.ce=null,this.le=null,this.he=null}}function Dc(c,t,i,o,u,p,_,S){return new Wo(c,t,i,o,u,p,_,S)}function Vs(c){return new Wo(c)}function rc(c){return 0===c.filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())}function gl(c){return null!==c.collectionGroup}function Ar(c){const t=He(c);if(null===t.ce){t.ce=[];const i=new Set;for(const p of t.explicitOrderBy)t.ce.push(p),i.add(p.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(_){let S=new en(Mr.comparator);return _.filters.forEach(N=>{N.getFlattenedFilters().forEach(K=>{K.isInequality()&&(S=S.add(K.field))})}),S})(t).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||t.ce.push(new nt(p,o))}),i.has(Mr.keyField().canonicalString())||t.ce.push(new nt(Mr.keyField(),o))}return t.ce}function kr(c){const t=He(c);return t.le||(t.le=function Sc(c,t){if("F"===c.limitType)return wu(c.path,c.collectionGroup,t,c.filters,c.limit,c.startAt,c.endAt);{t=t.map(u=>new nt(u.field,"desc"===u.dir?"asc":"desc"));const i=c.endAt?new j(c.endAt.position,c.endAt.inclusive):null,o=c.startAt?new j(c.startAt.position,c.startAt.inclusive):null;return wu(c.path,c.collectionGroup,t,c.filters,c.limit,i,o)}}(t,Ar(c))),t.le}function ic(c,t){const i=c.filters.concat([t]);return new Wo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),i,c.limit,c.limitType,c.startAt,c.endAt)}function xl(c,t,i){return new Wo(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),t,i,c.startAt,c.endAt)}function sc(c,t){return Ac(kr(c),kr(t))&&c.limitType===t.limitType}function qo(c){return`${Qa(kr(c))}|lt:${c.limitType}`}function Gr(c){return`Query(target=${function(i){let o=i.path.canonicalString();return null!==i.collectionGroup&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map(u=>hl(u)).join(", ")}]`),Hs(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map(u=>Go(u)).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map(u=>Go(u)).join(",")),`Target(${o})`}(kr(c))}; limitType=${c.limitType})`}function Xo(c,t){return t.isFoundDocument()&&function(o,u){const p=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(p):Q.isDocumentKey(o.path)?o.path.isEqual(p):o.path.isImmediateParentOf(p)}(c,t)&&function(o,u){for(const p of Ar(o))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(c,t)&&function(o,u){for(const p of o.filters)if(!p.matches(u))return!1;return!0}(c,t)&&(u=t,!((o=c).startAt&&!function(_,S,N){const K=O(_,S,N);return _.inclusive?K<=0:K<0}(o.startAt,Ar(o),u)||o.endAt&&!function(_,S,N){const K=O(_,S,N);return _.inclusive?K>=0:K>0}(o.endAt,Ar(o),u)));var o,u}function Za(c){return c.collectionGroup||(c.path.length%2==1?c.path.lastSegment():c.path.get(c.path.length-2))}function zs(c){return(t,i)=>{let o=!1;for(const u of Ar(c)){const p=kl(u,t,i);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function kl(c,t,i){const o=c.field.isKeyField()?Q.comparator(t.key,i.key):function(p,_,S){const N=_.data.field(p),K=S.data.field(p);return null!==N&&null!==K?ws(N,K):In()}(c.field,t,i);switch(c.dir){case"asc":return o;case"desc":return-1*o;default:return In()}}class ha{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),o=this.inner[i];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,t))return p}has(t){return void 0!==this.get(t)}set(t,i){const o=this.mapKeyFn(t),u=this.inner[o];if(void 0===u)return this.inner[o]=[[t,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],t))return void(u[p]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),o=this.inner[i];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return 1===o.length?delete this.inner[i]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(t){An(this.inner,(i,o)=>{for(const[u,p]of o)t(u,p)})}isEmpty(){return tr(this.inner)}size(){return this.innerSize}}const oc=new mr(Q.comparator);function Ji(){return oc}const ac=new mr(Q.comparator);function R(...c){let t=ac;for(const i of c)t=t.insert(i.key,i);return t}function oe(c){let t=ac;return c.forEach((i,o)=>t=t.insert(i,o.overlayedDocument)),t}function V(){return Ve()}function Z(){return Ve()}function Ve(){return new ha(c=>c.toString(),(c,t)=>c.isEqual(t))}const jt=new mr(Q.comparator),un=new en(Q.comparator);function sn(...c){let t=un;for(const i of c)t=t.add(i);return t}const Vi=new en(fn);function Vr(){return Vi}function vi(c,t){if(c.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(t)?"-0":t}}function vn(c){return{integerValue:""+c}}function Qr(c,t){return sa(t)?vn(t):vi(c,t)}class fi{constructor(){this._=void 0}}function hs(c,t,i){return c instanceof Oi?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&zo(p)&&(p=Fs(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(i,t):c instanceof fs?ho(c,t):c instanceof Gs?Yo(c,t):function(u,p){const _=Qo(u,p),S=Ja(_)+Ja(u.Pe);return bs(_)&&bs(u.Pe)?vn(S):vi(u.serializer,S)}(c,t)}function fa(c,t,i){return c instanceof fs?ho(c,t):c instanceof Gs?Yo(c,t):i}function Qo(c,t){return c instanceof pa?bs(o=t)||(p=o)&&"doubleValue"in p?t:{integerValue:0}:null;var o,p}class Oi extends fi{}class fs extends fi{constructor(t){super(),this.elements=t}}function ho(c,t){const i=Pd(t);for(const o of c.elements)i.some(u=>Ps(u,o))||i.push(o);return{arrayValue:{values:i}}}class Gs extends fi{constructor(t){super(),this.elements=t}}function Yo(c,t){let i=Pd(t);for(const o of c.elements)i=i.filter(u=>!Ps(u,o));return{arrayValue:{values:i}}}class pa extends fi{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Ja(c){return Xr(c.integerValue||c.doubleValue)}function Pd(c){return Wa(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Us{constructor(t,i){this.field=t,this.transform=i}}class ml{constructor(t,i){this.version=t,this.transformResults=i}}class Gi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Gi}static exists(t){return new Gi(void 0,t)}static updateTime(t){return new Gi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function el(c,t){return void 0!==c.updateTime?t.isFoundDocument()&&t.version.isEqual(c.updateTime):void 0===c.exists||c.exists===t.isFoundDocument()}class tl{}function Na(c,t){if(!c.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return c.isNoDocument()?new fo(c.key,Gi.none()):new Zo(c.key,c.data,Gi.none());{const i=c.data,o=ir.empty();let u=new en(Mr.comparator);for(let p of t.fields)if(!u.has(p)){let _=i.field(p);null===_&&p.length>1&&(p=p.popLast(),_=i.field(p)),null===_?o.delete(p):o.set(p,_),u=u.add(p)}return new Ks(c.key,o,new ss(u.toArray()),Gi.none())}}function eu(c,t,i){c instanceof Zo?function(u,p,_){const S=u.value.clone(),N=Po(u.fieldTransforms,p,_.transformResults);S.setAll(N),p.convertToFoundDocument(_.version,S).setHasCommittedMutations()}(c,t,i):c instanceof Ks?function(u,p,_){if(!el(u.precondition,p))return void p.convertToUnknownDocument(_.version);const S=Po(u.fieldTransforms,p,_.transformResults),N=p.data;N.setAll(Ro(u)),N.setAll(S),p.convertToFoundDocument(_.version,N).setHasCommittedMutations()}(c,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function lc(c,t,i,o){return c instanceof Zo?function(p,_,S,N){if(!el(p.precondition,_))return S;const K=p.value.clone(),he=si(p.fieldTransforms,N,_);return K.setAll(he),_.convertToFoundDocument(_.version,K).setHasLocalMutations(),null}(c,t,i,o):c instanceof Ks?function(p,_,S,N){if(!el(p.precondition,_))return S;const K=si(p.fieldTransforms,N,_),he=_.data;return he.setAll(Ro(p)),he.setAll(K),_.convertToFoundDocument(_.version,he).setHasLocalMutations(),null===S?null:S.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(Pe=>Pe.field))}(c,t,i,o):(S=i,el(c.precondition,_=t)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):S);var _,S}function To(c,t){let i=null;for(const o of c.fieldTransforms){const u=t.data.field(o.field),p=Qo(o.transform,u||null);null!=p&&(null===i&&(i=ir.empty()),i.set(o.field,p))}return i||null}function nl(c,t){return c.type===t.type&&!!c.key.isEqual(t.key)&&!!c.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(o=c.fieldTransforms)&&void 0===u||o&&u&&ei(o,u,(p,_)=>function Ma(c,t){return c.field.isEqual(t.field)&&(u=t.transform,(o=c.transform)instanceof fs&&u instanceof fs||o instanceof Gs&&u instanceof Gs?ei(o.elements,u.elements,Ps):o instanceof pa&&u instanceof pa?Ps(o.Pe,u.Pe):o instanceof Oi&&u instanceof Oi);var o,u}(p,_))))&&(0===c.type?c.value.isEqual(t.value):1!==c.type||c.data.isEqual(t.data)&&c.fieldMask.isEqual(t.fieldMask));var o,u}class Zo extends tl{constructor(t,i,o,u=[]){super(),this.key=t,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ks extends tl{constructor(t,i,o,u,p=[]){super(),this.key=t,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function Ro(c){const t=new Map;return c.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=c.data.field(i);t.set(i,o)}}),t}function Po(c,t,i){const o=new Map;Rn(c.length===i.length);for(let u=0;u<i.length;u++){const p=c[u],_=p.transform,S=t.data.field(p.field);o.set(p.field,fa(_,S,i[u]))}return o}function si(c,t,i){const o=new Map;for(const u of c){const p=u.transform,_=i.data.field(u.field);o.set(u.field,hs(p,_,t))}return o}class fo extends tl{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class os extends tl{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cc{constructor(t,i,o,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(t,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(t.key)&&eu(p,t,o[u])}}applyToLocalView(t,i){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(i=lc(o,t,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(i=lc(o,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const o=Z();return this.mutations.forEach(u=>{const p=t.get(u.key),_=p.overlayedDocument;let S=this.applyToLocalView(_,p.mutatedFields);S=i.has(u.key)?null:S;const N=Na(_,S);null!==N&&o.set(u.key,N),_.isValidDocument()||_.convertToNoDocument(xn.min())}),o}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),sn())}isEqual(t){return this.batchId===t.batchId&&ei(this.mutations,t.mutations,(i,o)=>nl(i,o))&&ei(this.baseMutations,t.baseMutations,(i,o)=>nl(i,o))}}class oo{constructor(t,i,o,u){this.batch=t,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(t,i,o){Rn(t.mutations.length===o.length);let u=function(){return jt}();const p=t.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,o[_].version);return new oo(t,i,o,u)}}class ga{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yl{constructor(t,i){this.count=t,this.unchangedNames=i}}var Es,di;function vl(c){switch(c){default:return In();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function uc(c){if(void 0===c)return Lr("GRPC error has no .code"),se.UNKNOWN;switch(c){case Es.OK:return se.OK;case Es.CANCELLED:return se.CANCELLED;case Es.UNKNOWN:return se.UNKNOWN;case Es.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Es.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Es.INTERNAL:return se.INTERNAL;case Es.UNAVAILABLE:return se.UNAVAILABLE;case Es.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Es.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Es.NOT_FOUND:return se.NOT_FOUND;case Es.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Es.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Es.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Es.ABORTED:return se.ABORTED;case Es.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Es.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Es.DATA_LOSS:return se.DATA_LOSS;default:return In()}}(di=Es||(Es={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";function dc(){return new TextEncoder}const Rc=new kt([4294967295,4294967295],0);function ed(c){const t=dc().encode(c),i=new Bt;return i.update(t),new Uint8Array(i.digest())}function Ws(c){const t=new DataView(c.buffer),i=t.getUint32(0,!0),o=t.getUint32(4,!0),u=t.getUint32(8,!0),p=t.getUint32(12,!0);return[new kt([i,o],0),new kt([u,p],0)]}class hc{constructor(t,i,o){if(this.bitmap=t,this.padding=i,this.hashCount=o,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(o<0)throw new _l(`Invalid hash count: ${o}`);if(t.length>0&&0===this.hashCount)throw new _l(`Invalid hash count: ${o}`);if(0===t.length&&0!==i)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=kt.fromNumber(this.Ie)}Ee(t,i,o){let u=t.add(i.multiply(kt.fromNumber(o)));return 1===u.compare(Rc)&&(u=new kt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=ed(t),[o,u]=Ws(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(o,u,p);if(!this.de(_))return!1}return!0}static create(t,i,o){const u=t%8==0?0:8-t%8,p=new Uint8Array(Math.ceil(t/8)),_=new hc(p,u,i);return o.forEach(S=>_.insert(S)),_}insert(t){if(0===this.Ie)return;const i=ed(t),[o,u]=Ws(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(o,u,p);this.Ae(_)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ao{constructor(t,i,o,u,p){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(t,i,o){const u=new Map;return u.set(t,Pc.createSynthesizedTargetChangeForCurrentChange(t,i,o)),new ao(xn.min(),u,new mr(fn),Ji(),sn())}}class Pc{constructor(t,i,o,u,p){this.resumeToken=t,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(t,i,o){return new Pc(o,i,sn(),sn(),sn())}}class tu{constructor(t,i,o,u){this.Re=t,this.removedTargetIds=i,this.key=o,this.Ve=u}}class yh{constructor(t,i){this.targetId=t,this.me=i}}class vh{constructor(t,i,o=Mi.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=o,this.cause=u}}class _f{constructor(){this.fe=0,this.ge=P(),this.pe=Mi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=sn(),i=sn(),o=sn();return this.ge.forEach((u,p)=>{switch(p){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:In()}}),new Pc(this.pe,this.ye,t,i,o)}ve(){this.we=!1,this.ge=P()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Rn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class nu{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ji(),this.qe=C(),this.Qe=new mr(fn)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const o=this.Ge(i);switch(t.state){case 0:this.ze(i)&&o.De(t.resumeToken);break;case 1:o.Oe(),o.Se||o.ve(),o.De(t.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(o.Ne(),o.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),o.De(t.resumeToken));break;default:In()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((o,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,o=t.me.count,u=this.Je(i);if(u){const p=u.target;if(nc(p))if(0===o){const _=new Q(p.path);this.Ue(i,_,H.newNoDocument(_,xn.min()))}else Rn(1===o);else{const _=this.Ye(i);if(_!==o){const S=this.Ze(t),N=S?this.Xe(S,t,_):1;0!==N&&(this.je(i),this.Qe=this.Qe.insert(i,2===N?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:p=0}=i;let _,S;try{_=ro(o).toUint8Array()}catch(N){if(N instanceof la)return ui("Decoding the base64 bloom filter in existence filter failed ("+N.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw N}try{S=new hc(_,u,p)}catch(N){return ui(N instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",N),null}return 0===S.Ie?null:S}Xe(t,i,o){return i.me.count===o-this.nt(t,i.targetId)?0:2}nt(t,i){const o=this.Le.getRemoteKeysForTarget(i);let u=0;return o.forEach(p=>{const _=this.Le.tt(),S=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;t.mightContain(S)||(this.Ue(i,p,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((p,_)=>{const S=this.Je(_);if(S){if(p.current&&nc(S.target)){const N=new Q(S.target.path);null!==this.ke.get(N)||this.it(_,N)||this.Ue(_,N,H.newNoDocument(N,t))}p.be&&(i.set(_,p.Ce()),p.ve())}});let o=sn();this.qe.forEach((p,_)=>{let S=!0;_.forEachWhile(N=>{const K=this.Je(N);return!K||"TargetPurposeLimboResolution"===K.purpose||(S=!1,!1)}),S&&(o=o.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(t));const u=new ao(t,i,this.Qe,this.ke,o);return this.ke=Ji(),this.qe=C(),this.Qe=new mr(fn),u}$e(t,i){if(!this.ze(t))return;const o=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,o),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,o){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),o&&(this.ke=this.ke.insert(i,o))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new _f,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new en(fn),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||Xt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new _f),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function C(){return new mr(Q.comparator)}function P(){return new mr(Q.comparator)}const b={asc:"ASCENDING",desc:"DESCENDING"},M={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W={and:"AND",or:"OR"};class fe{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Fe(c,t){return c.useProto3Json||Hs(t)?t:{value:t}}function $t(c,t){return c.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dt(c,t){return c.useProto3Json?t.toBase64():t.toUint8Array()}function Dn(c,t){return $t(c,t.toTimestamp())}function Yn(c){return Rn(!!c),xn.fromTimestamp(function(i){const o=Cs(i);return new wr(o.seconds,o.nanos)}(c))}function Pn(c,t){return Hr(c,t).canonicalString()}function Hr(c,t){const i=(u=c,new Er(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function qi(c){const t=Er.fromString(c);return Rn(Oc(t)),t}function Xi(c,t){return Pn(c.databaseId,t.path)}function bi(c,t){const i=qi(t);if(i.get(1)!==c.databaseId.projectId)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+c.databaseId.projectId);if(i.get(3)!==c.databaseId.database)throw new ve(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+c.databaseId.database);return new Q(Ll(i))}function Mo(c,t){return Pn(c.databaseId,t)}function No(c){const t=qi(c);return 4===t.length?Er.emptyPath():Ll(t)}function Oa(c){return new Er(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Ll(c){return Rn(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function Mc(c,t,i){return{name:Xi(c,t),fields:i.value.mapValue.fields}}function bu(c,t,i){const o=bi(c,t.name),u=Yn(t.updateTime),p=t.createTime?Yn(t.createTime):xn.min(),_=new ir({mapValue:{fields:t.fields}}),S=H.newFoundDocument(o,u,p,_);return i&&S.setHasCommittedMutations(),i?S.setHasCommittedMutations():S}function fc(c,t){let i;if(t instanceof Zo)i={update:Mc(c,t.key,t.value)};else if(t instanceof fo)i={delete:Xi(c,t.key)};else if(t instanceof Ks)i={update:Mc(c,t.key,t.data),updateMask:Oo(t.fieldMask)};else{if(!(t instanceof os))return In();i={verify:Xi(c,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(o=>function(p,_){const S=_.transform;if(S instanceof Oi)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof fs)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof Gs)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof pa)return{fieldPath:_.field.canonicalString(),increment:S.Pe};throw In()}(0,o))),t.precondition.isNone||(i.currentDocument=void 0!==(p=t.precondition).updateTime?{updateTime:Dn(c,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:In()),i;var p}function Fl(c,t){const i=t.currentDocument?void 0!==(p=t.currentDocument).updateTime?Gi.updateTime(Yn(p.updateTime)):void 0!==p.exists?Gi.exists(p.exists):Gi.none():Gi.none(),o=t.updateTransforms?t.updateTransforms.map(u=>function(_,S){let N=null;"setToServerValue"in S?(Rn("REQUEST_TIME"===S.setToServerValue),N=new Oi):"appendMissingElements"in S?N=new fs(S.appendMissingElements.values||[]):"removeAllFromArray"in S?N=new Gs(S.removeAllFromArray.values||[]):"increment"in S?N=new pa(_,S.increment):In();const K=Mr.fromServerFormat(S.fieldPath);return new Us(K,N)}(c,u)):[];var p;if(t.update){const u=bi(c,t.update.name),p=new ir({mapValue:{fields:t.update.fields}});if(t.updateMask){const _=new ss((t.updateMask.fieldPaths||[]).map(he=>Mr.fromServerFormat(he)));return new Ks(u,p,_,i,o)}return new Zo(u,p,i,o)}if(t.delete){const u=bi(c,t.delete);return new fo(u,i)}if(t.verify){const u=bi(c,t.verify);return new os(u,i)}return In()}function nd(c,t){return{documents:[Mo(c,t.path)]}}function Vl(c,t){const i={structuredQuery:{}},o=t.path;let u;null!==t.collectionGroup?(u=o,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=Mo(c,u);const p=function(K){if(0!==K.length)return Au(ti.create(K,"and"))}(t.filters);p&&(i.structuredQuery.where=p);const _=function(K){if(0!==K.length)return K.map(he=>{return{field:Il((ot=he).field),direction:Ef(ot.dir)};var ot})}(t.orderBy);_&&(i.structuredQuery.orderBy=_);const S=Fe(c,t.limit);return null!==S&&(i.structuredQuery.limit=S),t.startAt&&(i.structuredQuery.startAt={before:(K=t.startAt).inclusive,values:K.position}),t.endAt&&(i.structuredQuery.endAt=function(K){return{before:!K.inclusive,values:K.position}}(t.endAt)),{_t:i,parent:u};var K}function xa(c){let t=No(c.parent);const i=c.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){Rn(1===o);const he=i.from[0];he.allDescendants?u=he.collectionId:t=t.child(he.collectionId)}let p=[];i.where&&(p=function(Pe){const ot=Ul(Pe);return ot instanceof ti&&Xa(ot)?ot.getFilters():[ot]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(ot=>{return new nt(Nc((cn=ot).field),function(ln){switch(ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(cn.direction));var cn}));let S=null;i.limit&&(S=function(Pe){let ot;return ot="object"==typeof Pe?Pe.value:Pe,Hs(ot)?null:ot}(i.limit));let N=null;var Pe;i.startAt&&(N=new j((Pe=i.startAt).values||[],!!Pe.before));let K=null;return i.endAt&&(K=function(Pe){return new j(Pe.values||[],!Pe.before)}(i.endAt)),Dc(t,u,_,p,S,"F",N,K)}function Ul(c){return void 0!==c.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=Nc(i.unaryFilter.field);return kn.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Nc(i.unaryFilter.field);return kn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Nc(i.unaryFilter.field);return kn.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Nc(i.unaryFilter.field);return kn.create(_,"!=",{nullValue:"NULL_VALUE"});default:return In()}}(c):void 0!==c.fieldFilter?kn.create(Nc((i=c).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return In()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==c.compositeFilter?function(i){return ti.create(i.compositeFilter.filters.map(o=>Ul(o)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return In()}}(i.compositeFilter.op))}(c):In();var i}function Ef(c){return b[c]}function id(c){return M[c]}function pc(c){return W[c]}function Il(c){return{fieldPath:c.canonicalString()}}function Nc(c){return Mr.fromServerFormat(c.fieldPath)}function Au(c){return c instanceof kn?function(i){if("=="===i.op){if(Cc(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NAN"}};if(Sa(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Cc(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NAN"}};if(Sa(i.value))return{unaryFilter:{field:Il(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(i.field),op:id(i.op),value:i.value}}}(c):c instanceof ti?function(i){const o=i.getFilters().map(u=>Au(u));return 1===o.length?o[0]:{compositeFilter:{op:pc(i.op),filters:o}}}(c):In()}function Oo(c){const t=[];return c.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function Oc(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}class ya{constructor(t,i,o,u,p=xn.min(),_=xn.min(),S=Mi.EMPTY_BYTE_STRING,N=null){this.target=t,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=S,this.expectedCount=N}withSequenceNumber(t){return new ya(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ya(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class _h{constructor(t){this.ct=t}}function ru(c,t){const i=t.key,o={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Bl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())o.document={name:Xi(p=c.ct,(_=t).key),fields:_.data.value.mapValue.fields,updateTime:$t(p,_.version.toTimestamp()),createTime:$t(p,_.createTime.toTimestamp())};else if(t.isNoDocument())o.noDocument={path:i.path.toArray(),readTime:rl(t.version)};else{if(!t.isUnknownDocument())return In();o.unknownDocument={path:i.path.toArray(),version:rl(t.version)}}var p,_;return o}function Bl(c){const t=c.toTimestamp();return[t.seconds,t.nanoseconds]}function rl(c){const t=c.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gc(c){const t=new wr(c.seconds,c.nanoseconds);return xn.fromTimestamp(t)}function xc(c,t){const i=(t.baseMutations||[]).map(p=>Fl(c.ct,p));for(let p=0;p<t.mutations.length-1;++p)p+1<t.mutations.length&&void 0!==t.mutations[p+1].transform&&(t.mutations[p].updateTransforms=t.mutations[p+1].transform.fieldTransforms,t.mutations.splice(p+1,1),++p);const o=t.mutations.map(p=>Fl(c.ct,p)),u=wr.fromMillis(t.localWriteTimeMs);return new cc(t.batchId,u,i,o)}function il(c){const t=gc(c.readTime),i=void 0!==c.lastLimboFreeSnapshotVersion?gc(c.lastLimboFreeSnapshotVersion):xn.min();let o;return o=void 0!==c.query.documents?(Rn(1===(p=c.query).documents.length),kr(Vs(No(p.documents[0])))):function(p){return kr(xa(p))}(c.query),new ya(o,c.targetId,"TargetPurposeListen",c.lastListenSequenceNumber,t,i,Mi.fromBase64String(c.resumeToken));var p}function Du(c,t){const i=rl(t.snapshotVersion),o=rl(t.lastLimboFreeSnapshotVersion);let u;u=nc(t.target)?nd(c.ct,t.target):Vl(c.ct,t.target)._t;const p=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Qa(t.target),readTime:i,resumeToken:p,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function iu(c){const t=xa({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?xl(t,t.limit,"L"):t}function su(c,t){return new ga(t.largestBatchId,Fl(c.ct,t.overlayMutation))}function $l(c,t){const i=t.path.lastSegment();return[c,cs(t.path.popLast()),i]}function sd(c,t,i,o){return{indexId:c,uid:t,sequenceNumber:i,readTime:rl(o.readTime),documentKey:cs(o.documentKey.path),largestBatchId:o.largestBatchId}}class Eh{getBundleMetadata(t,i){return Ki(t).get(i).next(o=>{if(o)return{id:(p=o).bundleId,createTime:gc(p.createTime),version:p.version};var p})}saveBundleMetadata(t,i){return Ki(t).put({bundleId:(u=i).id,createTime:rl(Yn(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return Su(t).get(i).next(o=>{if(o)return{name:(p=o).name,query:iu(p.bundledQuery),readTime:gc(p.readTime)};var p})}saveNamedQuery(t,i){return Su(t).put({name:(u=i).name,readTime:rl(Yn(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Ki(c){return Wt(c,"bundles")}function Su(c){return Wt(c,"namedQueries")}class Tl{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new Tl(t,i.uid||"")}getOverlay(t,i){return sl(t).get($l(this.userId,i)).next(o=>o?su(this.serializer,o):null)}getOverlays(t,i){const o=V();return bt.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(t,i,o){const u=[];return o.forEach((p,_)=>{const S=new ga(i,_);u.push(this.ht(t,S))}),bt.waitFor(u)}removeOverlaysForBatchId(t,i,o){const u=new Set;i.forEach(_=>u.add(cs(_.getCollectionPath())));const p=[];return u.forEach(_=>{const S=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);p.push(sl(t).j("collectionPathOverlayIndex",S))}),bt.waitFor(p)}getOverlaysForCollection(t,i,o){const u=V(),p=cs(i),_=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return sl(t).U("collectionPathOverlayIndex",_).next(S=>{for(const N of S){const K=su(this.serializer,N);u.set(K.getKey(),K)}return u})}getOverlaysForCollectionGroup(t,i,o,u){const p=V();let _;const S=IDBKeyRange.bound([this.userId,i,o],[this.userId,i,Number.POSITIVE_INFINITY],!0);return sl(t).J({index:"collectionGroupOverlayIndex",range:S},(N,K,he)=>{const Pe=su(this.serializer,K);p.size()<u||Pe.largestBatchId===_?(p.set(Pe.getKey(),Pe),_=Pe.largestBatchId):he.done()}).next(()=>p)}ht(t,i){return sl(t).put(function(u,p,_){const[S,N,K]=$l(p,_.mutation.key);return{userId:p,collectionPath:N,documentId:K,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:fc(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function sl(c){return Wt(c,"documentOverlays")}class kc{constructor(){}Pt(t,i){this.It(t,i),i.Tt()}It(t,i){if("nullValue"in t)this.Et(i,5);else if("booleanValue"in t)this.Et(i,10),i.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(i,15),i.dt(Xr(t.integerValue));else if("doubleValue"in t){const o=Xr(t.doubleValue);isNaN(o)?this.Et(i,13):(this.Et(i,15),no(o)?i.dt(0):i.dt(o))}else if("timestampValue"in t){let o=t.timestampValue;this.Et(i,20),"string"==typeof o&&(o=Cs(o)),i.At(`${o.seconds||""}`),i.dt(o.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,i),this.Vt(i);else if("bytesValue"in t)this.Et(i,30),i.ft(ro(t.bytesValue)),this.Vt(i);else if("referenceValue"in t)this.gt(t.referenceValue,i);else if("geoPointValue"in t){const o=t.geoPointValue;this.Et(i,45),i.dt(o.latitude||0),i.dt(o.longitude||0)}else"mapValue"in t?yi(t)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,i),this.Vt(i)):"arrayValue"in t?(this.wt(t.arrayValue,i),this.Vt(i)):In()}Rt(t,i){this.Et(i,25),this.St(t,i)}St(t,i){i.At(t)}yt(t,i){const o=t.fields||{};this.Et(i,55);for(const u of Object.keys(o))this.Rt(u,i),this.It(o[u],i)}wt(t,i){const o=t.values||[];this.Et(i,50);for(const u of o)this.It(u,i)}gt(t,i){this.Et(i,37),Q.fromName(t).path.forEach(o=>{this.Et(i,60),this.St(o,i)})}Et(t,i){t.dt(i)}Vt(t){t.dt(2)}}function xd(c){if(0===c)return 8;let t=0;return!(c>>4)&&(t+=4,c<<=4),!(c>>6)&&(t+=2,c<<=2),!(c>>7)&&(t+=1),t}function od(c){const t=64-function(o){let u=0;for(let p=0;p<8;++p){const _=xd(255&o[p]);if(u+=_,8!==_)break}return u}(c);return Math.ceil(t/8)}kc.bt=new kc;class If{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(t){const i=t[Symbol.iterator]();let o=i.next();for(;!o.done;)this.Ct(o.value),o=i.next();this.vt()}Ft(t){const i=t[Symbol.iterator]();let o=i.next();for(;!o.done;)this.Mt(o.value),o=i.next();this.xt()}Ot(t){for(const i of t){const o=i.charCodeAt(0);if(o<128)this.Ct(o);else if(o<2048)this.Ct(960|o>>>6),this.Ct(128|63&o);else if(i<"\ud800"||"\udbff"<i)this.Ct(480|o>>>12),this.Ct(128|63&o>>>6),this.Ct(128|63&o);else{const u=i.codePointAt(0);this.Ct(240|u>>>18),this.Ct(128|63&u>>>12),this.Ct(128|63&u>>>6),this.Ct(128|63&u)}}this.vt()}Nt(t){for(const i of t){const o=i.charCodeAt(0);if(o<128)this.Mt(o);else if(o<2048)this.Mt(960|o>>>6),this.Mt(128|63&o);else if(i<"\ud800"||"\udbff"<i)this.Mt(480|o>>>12),this.Mt(128|63&o>>>6),this.Mt(128|63&o);else{const u=i.codePointAt(0);this.Mt(240|u>>>18),this.Mt(128|63&u>>>12),this.Mt(128|63&u>>>6),this.Mt(128|63&u)}}this.xt()}Lt(t){const i=this.Bt(t),o=od(i);this.kt(1+o),this.buffer[this.position++]=255&o;for(let u=i.length-o;u<i.length;++u)this.buffer[this.position++]=255&i[u]}qt(t){const i=this.Bt(t),o=od(i);this.kt(1+o),this.buffer[this.position++]=~(255&o);for(let u=i.length-o;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(t){this.kt(t.length),this.buffer.set(t,this.position),this.position+=t.length}Wt(){return this.buffer.slice(0,this.position)}Bt(t){const i=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(t),o=!!(128&i[0]);i[0]^=o?255:128;for(let u=1;u<i.length;++u)i[u]^=o?255:0;return i}Ct(t){const i=255&t;0===i?(this.Kt(0),this.Kt(255)):255===i?(this.Kt(255),this.Kt(0)):this.Kt(i)}Mt(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(t)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(t){this.kt(1),this.buffer[this.position++]=t}Ut(t){this.kt(1),this.buffer[this.position++]=~t}kt(t){const i=t+this.position;if(i<=this.buffer.length)return;let o=2*this.buffer.length;o<i&&(o=i);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class kd{constructor(t){this.Gt=t}ft(t){this.Gt.Dt(t)}At(t){this.Gt.Ot(t)}dt(t){this.Gt.Lt(t)}Tt(){this.Gt.Qt()}}class ad{constructor(t){this.Gt=t}ft(t){this.Gt.Ft(t)}At(t){this.Gt.Nt(t)}dt(t){this.Gt.qt(t)}Tt(){this.Gt.$t()}}class jl{constructor(){this.Gt=new If,this.zt=new kd(this.Gt),this.jt=new ad(this.Gt)}seed(t){this.Gt.seed(t)}Ht(t){return 0===t?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class Jo{constructor(t,i,o,u){this.indexId=t,this.documentKey=i,this.arrayValue=o,this.directionalValue=u}Jt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,o=new Uint8Array(i);return o.set(this.directionalValue,0),i!==t?o.set([0],this.directionalValue.length):++o[o.length-1],new Jo(this.indexId,this.documentKey,this.arrayValue,o)}}function Ai(c,t){let i=c.indexId-t.indexId;return 0!==i?i:(i=Tn(c.arrayValue,t.arrayValue),0!==i?i:(i=Tn(c.directionalValue,t.directionalValue),0!==i?i:Q.comparator(c.documentKey,t.documentKey)))}function Tn(c,t){for(let i=0;i<c.length&&i<t.length;++i){const o=c[i]-t[i];if(0!==o)return o}return c.length-t.length}class sr{constructor(t){this.Yt=new en((i,o)=>Mr.comparator(i.field,o.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Zt=t.orderBy,this.Xt=[];for(const i of t.filters){const o=i;o.isInequality()?this.Yt=this.Yt.add(o):this.Xt.push(o)}}get en(){return this.Yt.size>1}tn(t){if(Rn(t.collectionGroup===this.collectionId),this.en)return!1;const i=z(t);if(void 0!==i&&!this.nn(i))return!1;const o=ce(t);let u=new Set,p=0,_=0;for(;p<o.length&&this.nn(o[p]);++p)u=u.add(o[p].fieldPath.canonicalString());if(p===o.length)return!0;if(this.Yt.size>0){const S=this.Yt.getIterator().getNext();if(!u.has(S.field.canonicalString())){const N=o[p];if(!this.rn(S,N)||!this.sn(this.Zt[_++],N))return!1}++p}for(;p<o.length;++p)if(_>=this.Zt.length||!this.sn(this.Zt[_++],o[p]))return!1;return!0}on(){if(this.en)return null;let t=new en(Mr.comparator);const i=[];for(const o of this.Xt)if(!o.field.isKeyField())if("array-contains"===o.op||"array-contains-any"===o.op)i.push(new Ie(o.field,2));else{if(t.has(o.field))continue;t=t.add(o.field),i.push(new Ie(o.field,0))}for(const o of this.Zt)o.field.isKeyField()||t.has(o.field)||(t=t.add(o.field),i.push(new Ie(o.field,"asc"===o.dir?0:1)));return new re(re.UNKNOWN_ID,this.collectionId,i,Vt.empty())}nn(t){for(const i of this.Xt)if(this.rn(i,t))return!0;return!1}rn(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function as(c){var t,i;if(Rn(c instanceof kn||c instanceof ti),c instanceof kn){if(c instanceof ua){const u=(null===(i=null===(t=c.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(p=>kn.create(c.field,"==",p)))||[];return ti.create(u,"or")}return c}const o=c.filters.map(u=>as(u));return ti.create(o,c.op)}function ka(c){if(0===c.getFilters().length)return[];const t=Wi(as(c));return Rn(Lc(t)),qs(t)||Qs(t)?[t]:t.getFilters()}function qs(c){return c instanceof kn}function Qs(c){return c instanceof ti&&Xa(c)}function Lc(c){return qs(c)||Qs(c)||function(i){if(i instanceof ti&&Ra(i)){for(const o of i.getFilters())if(!qs(o)&&!Qs(o))return!1;return!0}return!1}(c)}function Wi(c){if(Rn(c instanceof kn||c instanceof ti),c instanceof kn)return c;if(1===c.filters.length)return Wi(c.filters[0]);const t=c.filters.map(o=>Wi(o));let i=ti.create(t,c.op);return i=Dr(i),Lc(i)?i:(Rn(i instanceof ti),Rn(zi(i)),Rn(i.filters.length>1),i.filters.reduce((o,u)=>es(o,u)))}function es(c,t){let i;return Rn(c instanceof kn||c instanceof ti),Rn(t instanceof kn||t instanceof ti),i=c instanceof kn?t instanceof kn?ti.create([c,t],"and"):ol(c,t):t instanceof kn?ol(t,c):function(u,p){if(Rn(u.filters.length>0&&p.filters.length>0),zi(u)&&zi(p))return dl(u,p.getFilters());const _=Ra(u)?u:p,S=Ra(u)?p:u,N=_.filters.map(K=>es(K,S));return ti.create(N,"or")}(c,t),Dr(i)}function ol(c,t){if(zi(t))return dl(t,c.getFilters());{const i=t.filters.map(o=>es(c,o));return ti.create(i,"or")}}function Dr(c){if(Rn(c instanceof kn||c instanceof ti),c instanceof kn)return c;const t=c.getFilters();if(1===t.length)return Dr(t[0]);if(ca(c))return c;const i=t.map(u=>Dr(u)),o=[];return i.forEach(u=>{u instanceof kn?o.push(u):u instanceof ti&&(u.op===c.op?o.push(...u.filters):o.push(u))}),1===o.length?o[0]:ti.create(o,c.op)}class Fc{constructor(){this._n=new ou}addToCollectionParentIndex(t,i){return this._n.add(i),bt.resolve()}getCollectionParents(t,i){return bt.resolve(this._n.getEntries(i))}addFieldIndex(t,i){return bt.resolve()}deleteFieldIndex(t,i){return bt.resolve()}deleteAllFieldIndexes(t){return bt.resolve()}createTargetIndexes(t,i){return bt.resolve()}getDocumentsMatchingTarget(t,i){return bt.resolve(null)}getIndexType(t,i){return bt.resolve(0)}getFieldIndexes(t,i){return bt.resolve([])}getNextCollectionGroupToUpdate(t){return bt.resolve(null)}getMinOffset(t,i){return bt.resolve(vr.min())}getMinOffsetFromCollectionGroup(t,i){return bt.resolve(vr.min())}updateCollectionGroup(t,i,o){return bt.resolve()}updateIndexEntries(t,i){return bt.resolve()}}class ou{constructor(){this.index={}}add(t){const i=t.lastSegment(),o=t.popLast(),u=this.index[i]||new en(Er.comparator),p=!u.has(o);return this.index[i]=u.add(o),p}has(t){const i=t.lastSegment(),o=t.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(t){return(this.index[t]||new en(Er.comparator)).toArray()}}const Cl=new Uint8Array(0);class ps{constructor(t,i){this.databaseId=i,this.an=new ou,this.un=new ha(o=>Qa(o),(o,u)=>Ac(o,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.an.has(i)){const o=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.an.add(i)});const p={collectionId:o,parent:cs(u)};return mc(t).put(p)}return bt.resolve()}getCollectionParents(t,i){const o=[],u=IDBKeyRange.bound([i,""],[ys(i),""],!1,!0);return mc(t).U(u).next(p=>{for(const _ of p){if(_.collectionId!==i)break;o.push(vs(_.parent))}return o})}addFieldIndex(t,i){const o=Ys(t),u={indexId:(S=i).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(N=>[N.fieldPath.canonicalString(),N.kind])};var S;delete u.indexId;const p=o.add(u);if(i.indexState){const _=La(t);return p.next(S=>{_.put(sd(S,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(t,i){const o=Ys(t),u=La(t),p=wl(t);return o.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=Ys(t),o=wl(t),u=La(t);return i.j().next(()=>o.j()).next(()=>u.j())}createTargetIndexes(t,i){return bt.forEach(this.cn(i),o=>this.getIndexType(t,o).next(u=>{if(0===u||1===u){const p=new sr(o).on();if(null!=p)return this.addFieldIndex(t,p)}}))}getDocumentsMatchingTarget(t,i){const o=wl(t);let u=!0;const p=new Map;return bt.forEach(this.cn(i),_=>this.ln(t,_).next(S=>{u&&(u=!!S),p.set(_,S)})).next(()=>{if(u){let _=sn();const S=[];return bt.forEach(p,(N,K)=>{var Mn;Xt("IndexedDbIndexManager",`Using index ${Mn=N,`id=${Mn.indexId}|cg=${Mn.collectionGroup}|f=${Mn.fields.map(br=>`${br.fieldPath}:${br.kind}`).join(",")}`} to execute ${Qa(i)}`);const he=function(Mn,br){const ni=z(br);if(void 0===ni)return null;for(const ci of Ol(Mn,ni.fieldPath))switch(ci.op){case"array-contains-any":return ci.value.arrayValue.values||[];case"array-contains":return[ci.value]}return null}(K,N),Pe=function(Mn,br){const ni=new Map;for(const ci of ce(br))for(const At of Ol(Mn,ci.fieldPath))switch(At.op){case"==":case"in":ni.set(ci.fieldPath.canonicalString(),At.value);break;case"not-in":case"!=":return ni.set(ci.fieldPath.canonicalString(),At.value),Array.from(ni.values())}return null}(K,N),ot=function(Mn,br){const ni=[];let ci=!0;for(const At of ce(br)){const tt=0===At.kind?pl(Mn,At.fieldPath,Mn.startAt):Ya(Mn,At.fieldPath,Mn.startAt);ni.push(tt.value),ci&&(ci=tt.inclusive)}return new j(ni,ci)}(K,N),Ft=function(Mn,br){const ni=[];let ci=!0;for(const At of ce(br)){const tt=0===At.kind?Ya(Mn,At.fieldPath,Mn.endAt):pl(Mn,At.fieldPath,Mn.endAt);ni.push(tt.value),ci&&(ci=tt.inclusive)}return new j(ni,ci)}(K,N),cn=this.hn(N,K,ot),yn=this.hn(N,K,Ft),ln=this.Pn(N,K,Pe),nr=this.In(N.indexId,he,cn,ot.inclusive,yn,Ft.inclusive,ln);return bt.forEach(nr,dr=>o.G(dr,i.limit).next(Mn=>{Mn.forEach(br=>{const ni=Q.fromSegments(br.documentKey);_.has(ni)||(_=_.add(ni),S.push(ni))})}))}).next(()=>S)}return bt.resolve(null)})}cn(t){let i=this.un.get(t);return i||(i=0===t.filters.length?[t]:ka(ti.create(t.filters,"and")).map(o=>wu(t.path,t.collectionGroup,t.orderBy,o.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,i),i)}In(t,i,o,u,p,_,S){const N=(null!=i?i.length:1)*Math.max(o.length,p.length),K=N/(null!=i?i.length:1),he=[];for(let Pe=0;Pe<N;++Pe){const ot=i?this.Tn(i[Pe/K]):Cl,Ft=this.En(t,ot,o[Pe%K],u),cn=this.dn(t,ot,p[Pe%K],_),yn=S.map(ln=>this.En(t,ot,ln,!0));he.push(...this.createRange(Ft,cn,yn))}return he}En(t,i,o,u){const p=new Jo(t,Q.empty(),i,o);return u?p:p.Jt()}dn(t,i,o,u){const p=new Jo(t,Q.empty(),i,o);return u?p.Jt():p}ln(t,i){const o=new sr(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(p=>{let _=null;for(const S of p)o.tn(S)&&(!_||S.fields.length>_.fields.length)&&(_=S);return _})}getIndexType(t,i){let o=2;const u=this.cn(i);return bt.forEach(u,p=>this.ln(t,p).next(_=>{_?0!==o&&_.fields.length<function(N){let K=new en(Mr.comparator),he=!1;for(const Pe of N.filters)for(const ot of Pe.getFlattenedFilters())ot.field.isKeyField()||("array-contains"===ot.op||"array-contains-any"===ot.op?he=!0:K=K.add(ot.field));for(const Pe of N.orderBy)Pe.field.isKeyField()||(K=K.add(Pe.field));return K.size+(he?1:0)}(p)&&(o=1):o=0})).next(()=>null!==i.limit&&u.length>1&&2===o?1:o)}An(t,i){const o=new jl;for(const u of ce(t)){const p=i.data.field(u.fieldPath);if(null==p)return null;const _=o.Ht(u.kind);kc.bt.Pt(p,_)}return o.Wt()}Tn(t){const i=new jl;return kc.bt.Pt(t,i.Ht(0)),i.Wt()}Rn(t,i){const o=new jl;return kc.bt.Pt(Eo(this.databaseId,i),o.Ht(function(p){const _=ce(p);return 0===_.length?0:_[_.length-1].kind}(t))),o.Wt()}Pn(t,i,o){if(null===o)return[];let u=[];u.push(new jl);let p=0;for(const _ of ce(t)){const S=o[p++];for(const N of u)if(this.Vn(i,_.fieldPath)&&Wa(S))u=this.mn(u,_,S);else{const K=N.Ht(_.kind);kc.bt.Pt(S,K)}}return this.fn(u)}hn(t,i,o){return this.Pn(t,i,o.position)}fn(t){const i=[];for(let o=0;o<t.length;++o)i[o]=t[o].Wt();return i}mn(t,i,o){const u=[...t],p=[];for(const _ of o.arrayValue.values||[])for(const S of u){const N=new jl;N.seed(S.Wt()),kc.bt.Pt(_,N.Ht(i.kind)),p.push(N)}return p}Vn(t,i){return!!t.filters.find(o=>o instanceof kn&&o.field.isEqual(i)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(t,i){const o=Ys(t),u=La(t);return(i?o.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):o.U()).next(p=>{const _=[];return bt.forEach(p,S=>u.get([S.indexId,this.uid]).next(N=>{_.push(function(he,Pe){const ot=Pe?new Vt(Pe.sequenceNumber,new vr(gc(Pe.readTime),new Q(vs(Pe.documentKey)),Pe.largestBatchId)):Vt.empty(),Ft=he.fields.map(([cn,yn])=>new Ie(Mr.fromServerFormat(cn),yn));return new re(he.indexId,he.collectionGroup,Ft,ot)}(S,N))})).next(()=>_)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:fn(o.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,o){const u=Ys(t),p=La(t);return this.gn(t).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(S=>bt.forEach(S,N=>p.put(sd(N.indexId,this.uid,_,o)))))}updateIndexEntries(t,i){const o=new Map;return bt.forEach(i,(u,p)=>{const _=o.get(u.collectionGroup);return(_?bt.resolve(_):this.getFieldIndexes(t,u.collectionGroup)).next(S=>(o.set(u.collectionGroup,S),bt.forEach(S,N=>this.pn(t,u,N).next(K=>{const he=this.yn(p,N);return K.isEqual(he)?bt.resolve():this.wn(t,p,N,K,he)}))))})}Sn(t,i,o,u){return wl(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.Rn(o,i.key),documentKey:i.key.path.toArray()})}bn(t,i,o,u){return wl(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.Rn(o,i.key),i.key.path.toArray()])}pn(t,i,o){const u=wl(t);let p=new en(Ai);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.Rn(o,i)])},(_,S)=>{p=p.add(new Jo(o.indexId,i,S.arrayValue,S.directionalValue))}).next(()=>p)}yn(t,i){let o=new en(Ai);const u=this.An(i,t);if(null==u)return o;const p=z(i);if(null!=p){const _=t.data.field(p.fieldPath);if(Wa(_))for(const S of _.arrayValue.values||[])o=o.add(new Jo(i.indexId,t.key,this.Tn(S),u))}else o=o.add(new Jo(i.indexId,t.key,Cl,u));return o}wn(t,i,o,u,p){Xt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(N,K,he,Pe,ot){const Ft=N.getIterator(),cn=K.getIterator();let yn=mi(Ft),ln=mi(cn);for(;yn||ln;){let nr=!1,dr=!1;if(yn&&ln){const Mn=he(yn,ln);Mn<0?dr=!0:Mn>0&&(nr=!0)}else null!=yn?dr=!0:nr=!0;nr?(Pe(ln),ln=mi(cn)):dr?(ot(yn),yn=mi(Ft)):(yn=mi(Ft),ln=mi(cn))}}(u,p,Ai,S=>{_.push(this.Sn(t,i,o,S))},S=>{_.push(this.bn(t,i,o,S))}),bt.waitFor(_)}gn(t){let i=1;return La(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,o){o=o.sort((_,S)=>Ai(_,S)).filter((_,S,N)=>!S||0!==Ai(_,N[S-1]));const u=[];u.push(t);for(const _ of o){const S=Ai(_,t),N=Ai(_,i);if(0===S)u[0]=t.Jt();else if(S>0&&N<0)u.push(_),u.push(_.Jt());else if(N>0)break}u.push(i);const p=[];for(let _=0;_<u.length;_+=2){if(this.Dn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Cl,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Cl,[]]))}return p}Dn(t,i){return Ai(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(ld)}getMinOffset(t,i){return bt.mapArray(this.cn(i),o=>this.ln(t,o).next(u=>u||In())).next(ld)}}function mc(c){return Wt(c,"collectionParents")}function wl(c){return Wt(c,"indexEntries")}function Ys(c){return Wt(c,"indexConfiguration")}function La(c){return Wt(c,"indexState")}function ld(c){Rn(0!==c.length);let t=c[0].indexState.offset,i=t.largestBatchId;for(let o=1;o<c.length;o++){const u=c[o].indexState.offset;Ri(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new vr(t.readTime,t.documentKey,i)}const Hl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zs{constructor(t,i,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(t){return new Zs(t,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function va(c,t,i){const o=c.store("mutations"),u=c.store("documentMutations"),p=[],_=IDBKeyRange.only(i.batchId);let S=0;const N=o.J({range:_},(he,Pe,ot)=>(S++,ot.delete()));p.push(N.next(()=>{Rn(1===S)}));const K=[];for(const he of i.mutations){const Pe=Aa(t,he.key.path,i.batchId);p.push(u.delete(Pe)),K.push(he.key)}return bt.waitFor(p).next(()=>K)}function fr(c){if(!c)return 0;let t;if(c.document)t=c.document;else if(c.unknownDocument)t=c.unknownDocument;else{if(!c.noDocument)throw In();t=c.noDocument}return JSON.stringify(t).length}Zs.DEFAULT_COLLECTION_PERCENTILE=10,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zs.DEFAULT=new Zs(41943040,Zs.DEFAULT_COLLECTION_PERCENTILE,Zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zs.DISABLED=new Zs(-1,0,0);class au{constructor(t,i,o,u){this.userId=t,this.serializer=i,this.indexManager=o,this.referenceDelegate=u,this.Cn={}}static lt(t,i,o,u){Rn(""!==t.uid);const p=t.isAuthenticated()?t.uid:"";return new au(p,i,o,u)}checkEmpty(t){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Js(t).J({index:"userMutationsIndex",range:o},(u,p,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(t,i,o,u){const p=zl(t),_=Js(t);return _.add({}).next(S=>{Rn("number"==typeof S);const N=new cc(S,i,o,u),K=function(Ft,cn,yn){const ln=yn.baseMutations.map(dr=>fc(Ft.ct,dr)),nr=yn.mutations.map(dr=>fc(Ft.ct,dr));return{userId:cn,batchId:yn.batchId,localWriteTimeMs:yn.localWriteTime.toMillis(),baseMutations:ln,mutations:nr}}(this.serializer,this.userId,N),he=[];let Pe=new en((ot,Ft)=>fn(ot.canonicalString(),Ft.canonicalString()));for(const ot of u){const Ft=Aa(this.userId,ot.key.path,S);Pe=Pe.add(ot.key.path.popLast()),he.push(_.put(K)),he.push(p.put(Ft,Do))}return Pe.forEach(ot=>{he.push(this.indexManager.addToCollectionParentIndex(t,ot))}),t.addOnCommittedListener(()=>{this.Cn[S]=N.keys()}),bt.waitFor(he).next(()=>N)})}lookupMutationBatch(t,i){return Js(t).get(i).next(o=>o?(Rn(o.userId===this.userId),xc(this.serializer,o)):null)}vn(t,i){return this.Cn[i]?bt.resolve(this.Cn[i]):this.lookupMutationBatch(t,i).next(o=>{if(o){const u=o.keys();return this.Cn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const o=i+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Js(t).J({index:"userMutationsIndex",range:u},(_,S,N)=>{S.userId===this.userId&&(Rn(S.batchId>=o),p=xc(this.serializer,S)),N.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Js(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,p,_)=>{o=p.batchId,_.done()}).next(()=>o)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Js(t).U("userMutationsIndex",i).next(o=>o.map(u=>xc(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const o=oa(this.userId,i.path),u=IDBKeyRange.lowerBound(o),p=[];return zl(t).J({range:u},(_,S,N)=>{const[K,he,Pe]=_,ot=vs(he);if(K===this.userId&&i.path.isEqual(ot))return Js(t).get(Pe).next(Ft=>{if(!Ft)throw In();Rn(Ft.userId===this.userId),p.push(xc(this.serializer,Ft))});N.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let o=new en(fn);const u=[];return i.forEach(p=>{const _=oa(this.userId,p.path),S=IDBKeyRange.lowerBound(_),N=zl(t).J({range:S},(K,he,Pe)=>{const[ot,Ft,cn]=K,yn=vs(Ft);ot===this.userId&&p.path.isEqual(yn)?o=o.add(cn):Pe.done()});u.push(N)}),bt.waitFor(u).next(()=>this.Fn(t,o))}getAllMutationBatchesAffectingQuery(t,i){const o=i.path,u=o.length+1,p=oa(this.userId,o),_=IDBKeyRange.lowerBound(p);let S=new en(fn);return zl(t).J({range:_},(N,K,he)=>{const[Pe,ot,Ft]=N,cn=vs(ot);Pe===this.userId&&o.isPrefixOf(cn)?cn.length===u&&(S=S.add(Ft)):he.done()}).next(()=>this.Fn(t,S))}Fn(t,i){const o=[],u=[];return i.forEach(p=>{u.push(Js(t).get(p).next(_=>{if(null===_)throw In();Rn(_.userId===this.userId),o.push(xc(this.serializer,_))}))}),bt.waitFor(u).next(()=>o)}removeMutationBatch(t,i){return va(t._e,this.userId,i).next(o=>(t.addOnCommittedListener(()=>{this.Mn(i.batchId)}),bt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}Mn(t){delete this.Cn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return bt.resolve();const o=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return zl(t).J({range:o},(p,_,S)=>{if(p[0]===this.userId){const N=vs(p[1]);u.push(N)}else S.done()}).next(()=>{Rn(0===u.length)})})}containsKey(t,i){return lu(t,this.userId,i)}xn(t){return yc(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function lu(c,t,i){const o=oa(t,i.path),u=o[1],p=IDBKeyRange.lowerBound(o);let _=!1;return zl(c).J({range:p,H:!0},(S,N,K)=>{const[he,Pe,ot]=S;he===t&&Pe===u&&(_=!0),K.done()}).next(()=>_)}function Js(c){return Wt(c,"mutations")}function zl(c){return Wt(c,"documentMutations")}function yc(c){return Wt(c,"mutationQueues")}class Qi{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Qi(0)}static Ln(){return new Qi(-1)}}class Ru{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.Bn(t).next(i=>{const o=new Qi(i.highestTargetId);return i.highestTargetId=o.next(),this.kn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Bn(t).next(i=>xn.fromTimestamp(new wr(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Bn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,o){return this.Bn(t).next(u=>(u.highestListenSequenceNumber=i,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.kn(t,u)))}addTargetData(t,i){return this.qn(t,i).next(()=>this.Bn(t).next(o=>(o.targetCount+=1,this.Qn(i,o),this.kn(t,o))))}updateTargetData(t,i){return this.qn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>As(t).delete(i.targetId)).next(()=>this.Bn(t)).next(o=>(Rn(o.targetCount>0),o.targetCount-=1,this.kn(t,o)))}removeTargets(t,i,o){let u=0;const p=[];return As(t).J((_,S)=>{const N=il(S);N.sequenceNumber<=i&&null===o.get(N.targetId)&&(u++,p.push(this.removeTargetData(t,N)))}).next(()=>bt.waitFor(p)).next(()=>u)}forEachTarget(t,i){return As(t).J((o,u)=>{const p=il(u);i(p)})}Bn(t){return po(t).get("targetGlobalKey").next(i=>(Rn(null!==i),i))}kn(t,i){return po(t).put("targetGlobalKey",i)}qn(t,i){return As(t).put(Du(this.serializer,i))}Qn(t,i){let o=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,o=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,o=!0),o}getTargetCount(t){return this.Bn(t).next(i=>i.targetCount)}getTargetData(t,i){const o=Qa(i),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return As(t).J({range:u,index:"queryTargetsIndex"},(_,S,N)=>{const K=il(S);Ac(i,K.target)&&(p=K,N.done())}).next(()=>p)}addMatchingKeys(t,i,o){const u=[],p=Gl(t);return i.forEach(_=>{const S=cs(_.path);u.push(p.put({targetId:o,path:S})),u.push(this.referenceDelegate.addReference(t,o,_))}),bt.waitFor(u)}removeMatchingKeys(t,i,o){const u=Gl(t);return bt.forEach(i,p=>{const _=cs(p.path);return bt.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(t,o,p)])})}removeMatchingKeysForTargetId(t,i){const o=Gl(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(t,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),u=Gl(t);let p=sn();return u.J({range:o,H:!0},(_,S,N)=>{const K=vs(_[1]),he=new Q(K);p=p.add(he)}).next(()=>p)}containsKey(t,i){const o=cs(i.path),u=IDBKeyRange.bound([o],[ys(o)],!1,!0);let p=0;return Gl(t).J({index:"documentTargetsIndex",H:!0,range:u},([_,S],N,K)=>{0!==_&&(p++,K.done())}).next(()=>p>0)}ot(t,i){return As(t).get(i).next(o=>o?il(o):null)}}function As(c){return Wt(c,"targets")}function po(c){return Wt(c,"targetGlobal")}function Gl(c){return Wt(c,"targetDocuments")}function Vc([c,t],[i,o]){const u=fn(c,i);return 0===u?fn(t,o):u}class cd{constructor(t){this.Kn=t,this.buffer=new en(Vc),this.$n=0}Un(){return++this.$n}Wn(t){const i=[t,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();Vc(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Fa{constructor(t,i,o){this.garbageCollector=t,this.asyncQueue=i,this.localStore=o,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(t){var i=this;Xt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ot.A)(function*(){i.Gn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(o){js(o)?Xt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield hr(o)}yield i.zn(3e5)}))}}class Pu{constructor(t,i){this.jn=t,this.params=i}calculateTargetCount(t,i){return this.jn.Hn(t).next(o=>Math.floor(i/100*o))}nthSequenceNumber(t,i){if(0===i)return bt.resolve(hi.oe);const o=new cd(i);return this.jn.forEachTarget(t,u=>o.Wn(u.sequenceNumber)).next(()=>this.jn.Jn(t,u=>o.Wn(u))).next(()=>o.maxValue)}removeTargets(t,i,o){return this.jn.removeTargets(t,i,o)}removeOrphanedDocuments(t,i){return this.jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector","Garbage collection skipped; disabled"),bt.resolve(Hl)):this.getCacheSize(t).next(o=>o<this.params.cacheSizeCollectionThreshold?(Xt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hl):this.Yn(t,i))}getCacheSize(t){return this.jn.getCacheSize(t)}Yn(t,i){let o,u,p,_,S,N,K;const he=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Pe=>(Pe>this.params.maximumSequenceNumbersToCollect?(Xt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Pe}`),u=this.params.maximumSequenceNumbersToCollect):u=Pe,_=Date.now(),this.nthSequenceNumber(t,u))).next(Pe=>(o=Pe,S=Date.now(),this.removeTargets(t,o,i))).next(Pe=>(p=Pe,N=Date.now(),this.removeOrphanedDocuments(t,o))).next(Pe=>(K=Date.now(),cr()<=Gn.$b.DEBUG&&Xt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-he}ms\n\tDetermined least recently used ${u} in `+(S-_)+`ms\n\tRemoved ${p} targets in `+(N-S)+`ms\n\tRemoved ${Pe} documents in `+(K-N)+`ms\nTotal Duration: ${K-he}ms`),bt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:Pe})))}}class f{constructor(t,i){this.db=t,this.garbageCollector=function T(c,t){return new Pu(c,t)}(this,i)}Hn(t){const i=this.Zn(t);return this.db.getTargetCache().getTargetCount(t).next(o=>i.next(u=>o+u))}Zn(t){let i=0;return this.Jn(t,o=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Jn(t,i){return this.Xn(t,(o,u)=>i(u))}addReference(t,i,o){return v(t,o)}removeReference(t,i,o){return v(t,o)}removeTargets(t,i,o){return this.db.getTargetCache().removeTargets(t,i,o)}markPotentiallyOrphaned(t,i){return v(t,i)}er(t,i){return function(u,p){let _=!1;return yc(u).Y(S=>lu(u,S,p).next(N=>(N&&(_=!0),bt.resolve(!N)))).next(()=>_)}(t,i)}removeOrphanedDocuments(t,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Xn(t,(_,S)=>{if(S<=i){const N=this.er(t,_).next(K=>{if(!K)return p++,o.getEntry(t,_).next(()=>(o.removeEntry(_,xn.min()),Gl(t).delete([0,cs(_.path)])))});u.push(N)}}).next(()=>bt.waitFor(u)).next(()=>o.apply(t)).next(()=>p)}removeTarget(t,i){const o=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)}updateLimboDocument(t,i){return v(t,i)}Xn(t,i){const o=Gl(t);let u,p=hi.oe;return o.J({index:"documentTargetsIndex"},([_,S],{path:N,sequenceNumber:K})=>{0===_?(p!==hi.oe&&i(new Q(vs(u)),p),p=K,u=N):p=hi.oe}).next(()=>{p!==hi.oe&&i(new Q(vs(u)),p)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function v(c,t){return Gl(c).put((u=c.currentSequenceNumber,{targetId:0,path:cs(t.path),sequenceNumber:u}));var u}class A{constructor(){this.changes=new ha(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,H.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?bt.resolve(o):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class L{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,o){return lt(t).put(o)}removeEntry(t,i,o){return lt(t).delete(function(p,_){const S=p.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],Bl(_),S[S.length-1]]}(i,o))}updateMetadata(t,i){return this.getMetadata(t).next(o=>(o.byteSize+=i,this.tr(t,o)))}getEntry(t,i){let o=H.newInvalidDocument(i);return lt(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ct(i))},(u,p)=>{o=this.nr(i,p)}).next(()=>o)}rr(t,i){let o={size:0,document:H.newInvalidDocument(i)};return lt(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ct(i))},(u,p)=>{o={document:this.nr(i,p),size:fr(p)}}).next(()=>o)}getEntries(t,i){let o=Ji();return this.ir(t,i,(u,p)=>{const _=this.nr(u,p);o=o.insert(u,_)}).next(()=>o)}sr(t,i){let o=Ji(),u=new mr(Q.comparator);return this.ir(t,i,(p,_)=>{const S=this.nr(p,_);o=o.insert(p,S),u=u.insert(p,fr(_))}).next(()=>({documents:o,_r:u}))}ir(t,i,o){if(i.isEmpty())return bt.resolve();let u=new en(wn);i.forEach(N=>u=u.add(N));const p=IDBKeyRange.bound(Ct(u.first()),Ct(u.last())),_=u.getIterator();let S=_.getNext();return lt(t).J({index:"documentKeyIndex",range:p},(N,K,he)=>{const Pe=Q.fromSegments([...K.prefixPath,K.collectionGroup,K.documentId]);for(;S&&wn(S,Pe)<0;)o(S,null),S=_.getNext();S&&S.isEqual(Pe)&&(o(S,K),S=_.hasNext()?_.getNext():null),S?he.$(Ct(S)):he.done()}).next(()=>{for(;S;)o(S,null),S=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(t,i,o,u,p){const _=i.path,S=[_.popLast().toArray(),_.lastSegment(),Bl(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],N=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return lt(t).U(IDBKeyRange.bound(S,N,!0)).next(K=>{p?.incrementDocumentReadCount(K.length);let he=Ji();for(const Pe of K){const ot=this.nr(Q.fromSegments(Pe.prefixPath.concat(Pe.collectionGroup,Pe.documentId)),Pe);ot.isFoundDocument()&&(Xo(i,ot)||u.has(ot.key))&&(he=he.insert(ot.key,ot))}return he})}getAllFromCollectionGroup(t,i,o,u){let p=Ji();const _=gn(i,o),S=gn(i,vr.max());return lt(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,S,!0)},(N,K,he)=>{const Pe=this.nr(Q.fromSegments(K.prefixPath.concat(K.collectionGroup,K.documentId)),K);p=p.insert(Pe.key,Pe),p.size===u&&he.done()}).next(()=>p)}newChangeBuffer(t){return new Ee(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return Le(t).get("remoteDocumentGlobalKey").next(i=>(Rn(!!i),i))}tr(t,i){return Le(t).put("remoteDocumentGlobalKey",i)}nr(t,i){if(i){const o=function Od(c,t){let i;if(t.document)i=bu(c.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const o=Q.fromSegments(t.noDocument.path),u=gc(t.noDocument.readTime);i=H.newNoDocument(o,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return In();{const o=Q.fromSegments(t.unknownDocument.path),u=gc(t.unknownDocument.version);i=H.newUnknownDocument(o,u)}}return t.readTime&&i.setReadTime(function(u){const p=new wr(u[0],u[1]);return xn.fromTimestamp(p)}(t.readTime)),i}(this.serializer,i);if(!o.isNoDocument()||!o.version.isEqual(xn.min()))return o}return H.newInvalidDocument(t)}}function ee(c){return new L(c)}class Ee extends A{constructor(t,i){super(),this.ar=t,this.trackRemovals=i,this.ur=new ha(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(t){const i=[];let o=0,u=new en((p,_)=>fn(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const S=this.ur.get(p);if(i.push(this.ar.removeEntry(t,p,S.readTime)),_.isValidDocument()){const N=ru(this.ar.serializer,_);u=u.add(p.path.popLast());const K=fr(N);o+=K-S.size,i.push(this.ar.addEntry(t,p,N))}else if(o-=S.size,this.trackRemovals){const N=ru(this.ar.serializer,_.convertToNoDocument(xn.min()));i.push(this.ar.addEntry(t,p,N))}}),u.forEach(p=>{i.push(this.ar.indexManager.addToCollectionParentIndex(t,p))}),i.push(this.ar.updateMetadata(t,o)),bt.waitFor(i)}getFromCache(t,i){return this.ar.rr(t,i).next(o=>(this.ur.set(i,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(t,i){return this.ar.sr(t,i).next(({documents:o,_r:u})=>(u.forEach((p,_)=>{this.ur.set(p,{size:_,readTime:o.get(p).readTime})}),o))}}function Le(c){return Wt(c,"remoteDocumentGlobal")}function lt(c){return Wt(c,"remoteDocumentsV14")}function Ct(c){const t=c.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function gn(c,t){const i=t.documentKey.path.toArray();return[c,Bl(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function wn(c,t){const i=c.path.toArray(),o=t.path.toArray();let u=0;for(let p=0;p<i.length-2&&p<o.length-2;++p)if(u=fn(i[p],o[p]),u)return u;return u=fn(i.length,o.length),u||(u=fn(i[i.length-2],o[o.length-2]),u||fn(i[i.length-1],o[o.length-1]))}class yr{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class ar{constructor(t,i,o,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=u}getDocument(t,i){let o=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(o=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==o&&lc(o.mutation,u,ss.empty(),wr.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(o=>this.getLocalViewOfDocuments(t,o,sn()).next(()=>o))}getLocalViewOfDocuments(t,i,o=sn()){const u=V();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,o).next(p=>{let _=R();return p.forEach((S,N)=>{_=_.insert(S,N.overlayedDocument)}),_}))}getOverlayedDocuments(t,i){const o=V();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,sn()))}populateOverlays(t,i,o){const u=[];return o.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(t,u).next(p=>{p.forEach((_,S)=>{i.set(_,S)})})}computeViews(t,i,o,u){let p=Ji();const _=Ve(),S=Ve();return i.forEach((N,K)=>{const he=o.get(K.key);u.has(K.key)&&(void 0===he||he.mutation instanceof Ks)?p=p.insert(K.key,K):void 0!==he?(_.set(K.key,he.mutation.getFieldMask()),lc(he.mutation,K,he.mutation.getFieldMask(),wr.now())):_.set(K.key,ss.empty())}),this.recalculateAndSaveOverlays(t,p).next(N=>(N.forEach((K,he)=>_.set(K,he)),i.forEach((K,he)=>{var Pe;return S.set(K,new yr(he,null!==(Pe=_.get(K))&&void 0!==Pe?Pe:null))}),S))}recalculateAndSaveOverlays(t,i){const o=Ve();let u=new mr((_,S)=>_-S),p=sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(_=>{for(const S of _)S.keys().forEach(N=>{const K=i.get(N);if(null===K)return;let he=o.get(N)||ss.empty();he=S.applyToLocalView(K,he),o.set(N,he);const Pe=(u.get(S.batchId)||sn()).add(N);u=u.insert(S.batchId,Pe)})}).next(()=>{const _=[],S=u.getReverseIterator();for(;S.hasNext();){const N=S.getNext(),K=N.key,he=N.value,Pe=Z();he.forEach(ot=>{if(!p.has(ot)){const Ft=Na(i.get(ot),o.get(ot));null!==Ft&&Pe.set(ot,Ft),p=p.add(ot)}}),_.push(this.documentOverlayCache.saveOverlays(t,K,Pe))}return bt.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(o=>this.recalculateAndSaveOverlays(t,o))}getDocumentsMatchingQuery(t,i,o,u){return Q.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):gl(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,o,u):this.getDocumentsMatchingCollectionQuery(t,i,o,u);var _}getNextDocuments(t,i,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,o,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,o.largestBatchId,u-p.size):bt.resolve(V());let S=-1,N=p;return _.next(K=>bt.forEach(K,(he,Pe)=>(S<Pe.largestBatchId&&(S=Pe.largestBatchId),p.get(he)?bt.resolve():this.remoteDocumentCache.getEntry(t,he).next(ot=>{N=N.insert(he,ot)}))).next(()=>this.populateOverlays(t,K,p)).next(()=>this.computeViews(t,N,K,sn())).next(he=>({batchId:S,changes:oe(he)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Q(i)).next(o=>{let u=R();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,o,u){const p=i.collectionGroup;let _=R();return this.indexManager.getCollectionParents(t,p).next(S=>bt.forEach(S,N=>{const K=(Pe=i,ot=N.child(p),new Wo(ot,null,Pe.explicitOrderBy.slice(),Pe.filters.slice(),Pe.limit,Pe.limitType,Pe.startAt,Pe.endAt));var Pe,ot;return this.getDocumentsMatchingCollectionQuery(t,K,o,u).next(he=>{he.forEach((Pe,ot)=>{_=_.insert(Pe,ot)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(t,i,o,u){let p;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,o.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,o,p,u))).next(_=>{p.forEach((N,K)=>{const he=K.getKey();null===_.get(he)&&(_=_.insert(he,H.newInvalidDocument(he)))});let S=R();return _.forEach((N,K)=>{const he=p.get(N);void 0!==he&&lc(he.mutation,K,ss.empty(),wr.now()),Xo(i,K)&&(S=S.insert(N,K))}),S})}}class Wn{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,i){return bt.resolve(this.cr.get(i))}saveBundleMetadata(t,i){return this.cr.set(i.id,{id:(u=i).id,version:u.version,createTime:Yn(u.createTime)}),bt.resolve();var u}getNamedQuery(t,i){return bt.resolve(this.lr.get(i))}saveNamedQuery(t,i){return this.lr.set(i.name,{name:(u=i).name,query:iu(u.bundledQuery),readTime:Yn(u.readTime)}),bt.resolve();var u}}class Tr{constructor(){this.overlays=new mr(Q.comparator),this.hr=new Map}getOverlay(t,i){return bt.resolve(this.overlays.get(i))}getOverlays(t,i){const o=V();return bt.forEach(i,u=>this.getOverlay(t,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(t,i,o){return o.forEach((u,p)=>{this.ht(t,i,p)}),bt.resolve()}removeOverlaysForBatchId(t,i,o){const u=this.hr.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.hr.delete(o)),bt.resolve()}getOverlaysForCollection(t,i,o){const u=V(),p=i.length+1,_=new Q(i.child("")),S=this.overlays.getIteratorFrom(_);for(;S.hasNext();){const N=S.getNext().value,K=N.getKey();if(!i.isPrefixOf(K.path))break;K.path.length===p&&N.largestBatchId>o&&u.set(N.getKey(),N)}return bt.resolve(u)}getOverlaysForCollectionGroup(t,i,o,u){let p=new mr((K,he)=>K-he);const _=this.overlays.getIterator();for(;_.hasNext();){const K=_.getNext().value;if(K.getKey().getCollectionGroup()===i&&K.largestBatchId>o){let he=p.get(K.largestBatchId);null===he&&(he=V(),p=p.insert(K.largestBatchId,he)),he.set(K.getKey(),K)}}const S=V(),N=p.getIterator();for(;N.hasNext()&&(N.getNext().value.forEach((K,he)=>S.set(K,he)),!(S.size()>=u)););return bt.resolve(S)}ht(t,i,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.hr.get(u.largestBatchId).delete(o.key);this.hr.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new ga(i,o));let p=this.hr.get(i);void 0===p&&(p=sn(),this.hr.set(i,p)),this.hr.set(i,p.add(o.key))}}class Kr{constructor(){this.Pr=new en(Yr.Ir),this.Tr=new en(Yr.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,i){const o=new Yr(t,i);this.Pr=this.Pr.add(o),this.Tr=this.Tr.add(o)}dr(t,i){t.forEach(o=>this.addReference(o,i))}removeReference(t,i){this.Ar(new Yr(t,i))}Rr(t,i){t.forEach(o=>this.removeReference(o,i))}Vr(t){const i=new Q(new Er([])),o=new Yr(i,t),u=new Yr(i,t+1),p=[];return this.Tr.forEachInRange([o,u],_=>{this.Ar(_),p.push(_.key)}),p}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const i=new Q(new Er([])),o=new Yr(i,t),u=new Yr(i,t+1);let p=sn();return this.Tr.forEachInRange([o,u],_=>{p=p.add(_.key)}),p}containsKey(t){const i=new Yr(t,0),o=this.Pr.firstAfterOrEqual(i);return null!==o&&t.isEqual(o.key)}}class Yr{constructor(t,i){this.key=t,this.pr=i}static Ir(t,i){return Q.comparator(t.key,i.key)||fn(t.pr,i.pr)}static Er(t,i){return fn(t.pr,i.pr)||Q.comparator(t.key,i.key)}}class Yi{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new en(Yr.Ir)}checkEmpty(t){return bt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,o,u){const p=this.yr;this.yr++;const _=new cc(p,i,o,u);this.mutationQueue.push(_);for(const S of u)this.wr=this.wr.add(new Yr(S.key,p)),this.indexManager.addToCollectionParentIndex(t,S.key.path.popLast());return bt.resolve(_)}lookupMutationBatch(t,i){return bt.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.br(i+1),p=u<0?0:u;return bt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return bt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return bt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const o=new Yr(i,0),u=new Yr(i,Number.POSITIVE_INFINITY),p=[];return this.wr.forEachInRange([o,u],_=>{const S=this.Sr(_.pr);p.push(S)}),bt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(t,i){let o=new en(fn);return i.forEach(u=>{const p=new Yr(u,0),_=new Yr(u,Number.POSITIVE_INFINITY);this.wr.forEachInRange([p,_],S=>{o=o.add(S.pr)})}),bt.resolve(this.Dr(o))}getAllMutationBatchesAffectingQuery(t,i){const o=i.path,u=o.length+1;let p=o;Q.isDocumentKey(p)||(p=p.child(""));const _=new Yr(new Q(p),0);let S=new en(fn);return this.wr.forEachWhile(N=>{const K=N.key.path;return!!o.isPrefixOf(K)&&(K.length===u&&(S=S.add(N.pr)),!0)},_),bt.resolve(this.Dr(S))}Dr(t){const i=[];return t.forEach(o=>{const u=this.Sr(o);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){Rn(0===this.Cr(i.batchId,"removed")),this.mutationQueue.shift();let o=this.wr;return bt.forEach(i.mutations,u=>{const p=new Yr(u.key,i.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.wr=o})}Mn(t){}containsKey(t,i){const o=new Yr(i,0),u=this.wr.firstAfterOrEqual(o);return bt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return bt.resolve()}Cr(t,i){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const i=this.br(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class xi{constructor(t){this.vr=t,this.docs=new mr(Q.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const o=i.key,u=this.docs.get(o),p=u?u.size:0,_=this.vr(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const o=this.docs.get(i);return bt.resolve(o?o.document.mutableCopy():H.newInvalidDocument(i))}getEntries(t,i){let o=Ji();return i.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():H.newInvalidDocument(u))}),bt.resolve(o)}getDocumentsMatchingQuery(t,i,o,u){let p=Ji();const _=i.path,S=new Q(_.child("")),N=this.docs.getIteratorFrom(S);for(;N.hasNext();){const{key:K,value:{document:he}}=N.getNext();if(!_.isPrefixOf(K.path))break;K.path.length>_.length+1||Ri(Fn(he),o)<=0||(u.has(he.key)||Xo(i,he))&&(p=p.insert(he.key,he.mutableCopy()))}return bt.resolve(p)}getAllFromCollectionGroup(t,i,o,u){In()}Fr(t,i){return bt.forEach(this.docs,o=>i(o))}newChangeBuffer(t){return new Ci(this)}getSize(t){return bt.resolve(this.size)}}class Ci extends A{constructor(t){super(),this.ar=t}applyChanges(t){const i=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?i.push(this.ar.addEntry(t,u)):this.ar.removeEntry(o)}),bt.waitFor(i)}getFromCache(t,i){return this.ar.getEntry(t,i)}getAllFromCache(t,i){return this.ar.getEntries(t,i)}}class Va{constructor(t){this.persistence=t,this.Mr=new ha(i=>Qa(i),Ac),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Kr,this.targetCount=0,this.Lr=Qi.Nn()}forEachTarget(t,i){return this.Mr.forEach((o,u)=>i(u)),bt.resolve()}getLastRemoteSnapshotVersion(t){return bt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return bt.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),bt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Or&&(this.Or=i),bt.resolve()}qn(t){this.Mr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Lr=new Qi(i),this.highestTargetId=i),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,i){return this.qn(i),this.targetCount+=1,bt.resolve()}updateTargetData(t,i){return this.qn(i),bt.resolve()}removeTargetData(t,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,bt.resolve()}removeTargets(t,i,o){let u=0;const p=[];return this.Mr.forEach((_,S)=>{S.sequenceNumber<=i&&null===o.get(S.targetId)&&(this.Mr.delete(_),p.push(this.removeMatchingKeysForTargetId(t,S.targetId)),u++)}),bt.waitFor(p).next(()=>u)}getTargetCount(t){return bt.resolve(this.targetCount)}getTargetData(t,i){const o=this.Mr.get(i)||null;return bt.resolve(o)}addMatchingKeys(t,i,o){return this.Nr.dr(i,o),bt.resolve()}removeMatchingKeys(t,i,o){this.Nr.Rr(i,o);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(_=>{p.push(u.markPotentiallyOrphaned(t,_))}),bt.waitFor(p)}removeMatchingKeysForTargetId(t,i){return this.Nr.Vr(i),bt.resolve()}getMatchingKeysForTargetId(t,i){const o=this.Nr.gr(i);return bt.resolve(o)}containsKey(t,i){return bt.resolve(this.Nr.containsKey(i))}}class go{constructor(t,i){this.Br={},this.overlays={},this.kr=new hi(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Va(this),this.indexManager=new Fc,this.remoteDocumentCache=new xi(o=>this.referenceDelegate.Kr(o)),this.serializer=new _h(i),this.$r=new Wn(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Tr,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let o=this.Br[t.toKey()];return o||(o=new Yi(i,this.referenceDelegate),this.Br[t.toKey()]=o),o}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,i,o){Xt("MemoryPersistence","Starting transaction:",t);const u=new lo(this.kr.next());return this.referenceDelegate.Ur(),o(u).next(p=>this.referenceDelegate.Wr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Gr(t,i){return bt.or(Object.values(this.Br).map(o=>()=>o.containsKey(t,i)))}}class lo extends Ui{constructor(t){super(),this.currentSequenceNumber=t}}class Zi{constructor(t){this.persistence=t,this.zr=new Kr,this.jr=null}static Hr(t){return new Zi(t)}get Jr(){if(this.jr)return this.jr;throw In()}addReference(t,i,o){return this.zr.addReference(o,i),this.Jr.delete(o.toString()),bt.resolve()}removeReference(t,i,o){return this.zr.removeReference(o,i),this.Jr.add(o.toString()),bt.resolve()}markPotentiallyOrphaned(t,i){return this.Jr.add(i.toString()),bt.resolve()}removeTarget(t,i){this.zr.Vr(i.targetId).forEach(u=>this.Jr.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(p=>this.Jr.add(p.toString()))}).next(()=>o.removeTargetData(t,i))}Ur(){this.jr=new Set}Wr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return bt.forEach(this.Jr,o=>{const u=Q.fromPath(o);return this.Yr(t,u).next(p=>{p||i.removeEntry(u,xn.min())})}).next(()=>(this.jr=null,i.apply(t)))}updateLimboDocument(t,i){return this.Yr(t,i).next(o=>{o?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(t){return 0}Yr(t,i){return bt.or([()=>bt.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Gr(t,i)])}}class vc{constructor(t){this.serializer=t}O(t,i,o,u){const p=new Bi("createOrUpgrade",i);var N;o<1&&u>=1&&(t.createObjectStore("owner"),(N=t).createObjectStore("mutationQueues",{keyPath:"userId"}),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ho,{unique:!0}),N.createObjectStore("documentMutations"),cu(t),function(N){N.createObjectStore("remoteDocuments")}(t));let _=bt.resolve();return o<3&&u>=3&&(0!==o&&(function(N){N.deleteObjectStore("targetDocuments"),N.deleteObjectStore("targets"),N.deleteObjectStore("targetGlobal")}(t),cu(t)),_=_.next(()=>function(N){const K=N.store("targetGlobal"),he={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xn.min().toTimestamp(),targetCount:0};return K.put("targetGlobalKey",he)}(p))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(N,K){return K.store("mutations").U().next(he=>{N.deleteObjectStore("mutations"),N.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ho,{unique:!0});const Pe=K.store("mutations"),ot=he.map(Ft=>Pe.put(Ft));return bt.waitFor(ot)})}(t,p))),_=_.next(()=>{!function(N){N.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),o<5&&u>=5&&(_=_.next(()=>this.Xr(p))),o<6&&u>=6&&(_=_.next(()=>(function(N){N.createObjectStore("remoteDocumentGlobal")}(t),this.ei(p)))),o<7&&u>=7&&(_=_.next(()=>this.ti(p))),o<8&&u>=8&&(_=_.next(()=>this.ni(t,p))),o<9&&u>=9&&(_=_.next(()=>{!function(N){N.objectStoreNames.contains("remoteDocumentChanges")&&N.deleteObjectStore("remoteDocumentChanges")}(t)})),o<10&&u>=10&&(_=_.next(()=>this.ri(p))),o<11&&u>=11&&(_=_.next(()=>{(function(N){N.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(N){N.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),o<12&&u>=12&&(_=_.next(()=>{!function(N){const K=N.createObjectStore("documentOverlays",{keyPath:Ls});K.createIndex("collectionPathOverlayIndex",G,{unique:!1}),K.createIndex("collectionGroupOverlayIndex",de,{unique:!1})}(t)})),o<13&&u>=13&&(_=_.next(()=>function(N){const K=N.createObjectStore("remoteDocumentsV14",{keyPath:aa});K.createIndex("documentKeyIndex",Rl),K.createIndex("collectionGroupIndex",vo)}(t)).next(()=>this.ii(t,p)).next(()=>t.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.si(t,p))),o<15&&u>=15&&(_=_.next(()=>function(N){N.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),N.createObjectStore("indexState",{keyPath:we}).createIndex("sequenceNumberIndex",Nr,{unique:!1}),N.createObjectStore("indexEntries",{keyPath:gi}).createIndex("documentKeyIndex",$i,{unique:!1})}(t))),o<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),_}ei(t){let i=0;return t.store("remoteDocuments").J((o,u)=>{i+=fr(u)}).next(()=>{const o={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Xr(t){const i=t.store("mutationQueues"),o=t.store("mutations");return i.U().next(u=>bt.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.U("userMutationsIndex",_).next(S=>bt.forEach(S,N=>{Rn(N.userId===p.userId);const K=xc(this.serializer,N);return va(t,p.userId,K).next(()=>{})}))}))}ti(t){const i=t.store("targetDocuments"),o=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.J((_,S)=>{const N=new Er(_),K=[0,cs(N)];p.push(i.get(K).next(he=>he?bt.resolve():i.put({targetId:0,path:cs(N),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>bt.waitFor(p))})}ni(t,i){t.createObjectStore("collectionParents",{keyPath:x});const o=i.store("collectionParents"),u=new ou,p=_=>{if(u.add(_)){const S=_.lastSegment(),N=_.popLast();return o.put({collectionId:S,parent:cs(N)})}};return i.store("remoteDocuments").J({H:!0},(_,S)=>{const N=new Er(_);return p(N.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,S,N],K)=>{const he=vs(S);return p(he.popLast())}))}ri(t){const i=t.store("targets");return i.J((o,u)=>{const p=il(u),_=Du(this.serializer,p);return i.put(_)})}ii(t,i){const o=i.store("remoteDocuments"),u=[];return o.J((p,_)=>{const S=i.store("remoteDocumentsV14"),N=(Pe=_,Pe.document?new Q(Er.fromString(Pe.document.name).popFirst(5)):Pe.noDocument?Q.fromSegments(Pe.noDocument.path):Pe.unknownDocument?Q.fromSegments(Pe.unknownDocument.path):In()).path.toArray(),K={prefixPath:N.slice(0,N.length-2),collectionGroup:N[N.length-2],documentId:N[N.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var Pe;u.push(S.put(K))}).next(()=>bt.waitFor(u))}si(t,i){const o=i.store("mutations"),u=ee(this.serializer),p=new go(Zi.Hr,this.serializer.ct);return o.U().next(_=>{const S=new Map;return _.forEach(N=>{var K;let he=null!==(K=S.get(N.userId))&&void 0!==K?K:sn();xc(this.serializer,N).keys().forEach(Pe=>he=he.add(Pe)),S.set(N.userId,he)}),bt.forEach(S,(N,K)=>{const he=new Kn(K),Pe=Tl.lt(this.serializer,he),ot=p.getIndexManager(he),Ft=au.lt(he,this.serializer,ot,p.referenceDelegate);return new ar(u,Ft,Pe,ot).recalculateAndSaveOverlaysForDocumentKeys(new Zt(i,hi.oe),N).next()})})}}function cu(c){c.createObjectStore("targetDocuments",{keyPath:Rr}).createIndex("documentTargetsIndex",te,{unique:!0}),c.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",J,{unique:!0}),c.createObjectStore("targetGlobal")}const Kl="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Uc{constructor(t,i,o,u,p,_,S,N,K,he,Pe=16){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=o,this.oi=p,this.window=_,this.document=S,this._i=K,this.ai=he,this.ui=Pe,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=ot=>Promise.resolve(),!Uc.D())throw new ve(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new f(this,u),this.Ti=i+"main",this.serializer=new _h(N),this.Ei=new qr(this.Ti,this.ui,new vc(this.serializer)),this.Qr=new Ru(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ee(this.serializer),this.$r=new Eh,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===he&&Lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ve(se.FAILED_PRECONDITION,Kl);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Qr.getHighestSequenceNumber(t))}).then(t=>{this.kr=new hi(t,this._i)}).then(()=>{this.qr=!0}).catch(t=>(this.Ei&&this.Ei.close(),Promise.reject(t)))}fi(t){var i=this;return this.Ii=function(){var o=(0,Ot.A)(function*(u){if(i.started)return t(u)});return function(u){return o.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ei.L(function(){var i=(0,Ot.A)(function*(o){null===o.newVersion&&(yield t())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.oi.enqueueAndForget((0,Ot.A)(function*(){i.started&&(yield i.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>uu(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(t).next(i=>{i||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(t)).next(i=>this.isPrimary&&!i?this.yi(t).next(()=>!1):!!i&&this.wi(t).next(()=>!0))).catch(t=>{if(js(t))return Xt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Xt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.oi.enqueueRetryable(()=>this.Ii(t)),this.isPrimary=t})}gi(t){return Bc(t).get("owner").next(i=>bt.resolve(this.Si(i)))}bi(t){return uu(t).delete(this.clientId)}Di(){var t=this;return(0,Ot.A)(function*(){if(t.isPrimary&&!t.Ci(t.Pi,18e5)){t.Pi=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Wt(o,"clientMetadata");return u.U().next(p=>{const _=t.vi(p,18e5),S=p.filter(N=>-1===_.indexOf(N));return bt.forEach(S,N=>u.delete(N.clientId)).next(()=>S)})}).catch(()=>[]);if(t.di)for(const o of i)t.di.removeItem(t.Fi(o.clientId))}})()}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(t){return!!t&&t.ownerId===this.clientId}pi(t){return this.ai?bt.resolve(!0):Bc(t).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)){if(this.Si(i)&&this.networkEnabled)return!0;if(!this.Si(i)){if(!i.allowTabSynchronization)throw new ve(se.FAILED_PRECONDITION,Kl);return!1}}return!(!this.networkEnabled||!this.inForeground)||uu(t).U().next(o=>void 0===this.vi(o,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&Xt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,Ot.A)(function*(){t.qr=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Oi(),t.Ni(),yield t.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const o=new Zt(i,hi.oe);return t.yi(o).next(()=>t.bi(o))}),t.Ei.close(),t.Li()})()}vi(t,i){return t.filter(o=>this.Ci(o.updateTimeMs,i)&&!this.Mi(o.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",t=>uu(t).U().next(i=>this.vi(i,18e5).map(o=>o.clientId)))}get started(){return this.qr}getMutationQueue(t,i){return au.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new ps(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return Tl.lt(this.serializer,t)}getBundleCache(){return this.$r}runTransaction(t,i,o){Xt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",p=16===(N=this.ui)?tn:15===N?Yt:14===N?ft:13===N?pt:12===N?We:11===N?xe:void In();var N;let _;return this.Ei.runTransaction(t,u,p,S=>(_=new Zt(S,this.kr?this.kr.next():hi.oe),"readwrite-primary"===i?this.gi(_).next(N=>!!N||this.pi(_)).next(N=>{if(!N)throw Lr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new ve(se.FAILED_PRECONDITION,Ur);return o(_)}).next(N=>this.wi(_).next(()=>N)):this.ki(_).next(()=>o(_)))).then(S=>(_.raiseOnCommittedEvent(),S))}ki(t){return Bc(t).get("owner").next(i=>{if(null!==i&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)&&!this.Si(i)&&!(this.ai||this.allowTabSynchronization&&i.allowTabSynchronization))throw new ve(se.FAILED_PRECONDITION,Kl)})}wi(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Bc(t).put("owner",i)}static D(){return qr.D()}yi(t){const i=Bc(t);return i.get("owner").next(o=>this.Si(o)?(Xt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):bt.resolve())}Ci(t,i){const o=Date.now();return!(t<o-i||t>o&&(Lr(`Detected an update time that is in the future: ${t} > ${o}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const i=/(?:Version|Mobile)\/1[456]/;(0,dn.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(t){var i;try{const o=null!==(null===(i=this.di)||void 0===i?void 0:i.getItem(this.Fi(t)));return Xt("IndexedDbPersistence",`Client '${t}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Lr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(t){Lr("Failed to set zombie client id.",t)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Bc(c){return Wt(c,"owner")}function uu(c){return Wt(c,"clientMetadata")}function ur(c,t){let i=c.projectId;return c.isDefaultDatabase||(i+="."+c.database),"firestore/"+t+"/"+i+"/"}class Cr{constructor(t,i,o,u){this.targetId=t,this.fromCache=i,this.qi=o,this.Qi=u}static Ki(t,i){let o=sn(),u=sn();for(const p of i.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Cr(t,i.fromCache,o,u)}}class Br{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Zr{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(0,dn.nr)()?8:Rs((0,dn.ZQ)())>0?6:4}initialize(t,i){this.zi=t,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(t,i,o,u){const p={result:null};return this.ji(t,i).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Hi(t,i,u,o).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new Br;return this.Ji(t,i,_).next(S=>{if(p.result=S,this.Ui)return this.Yi(t,i,_,S.size)})}).next(()=>p.result)}Yi(t,i,o,u){return o.documentReadCount<this.Wi?(cr()<=Gn.$b.DEBUG&&Xt("QueryEngine","SDK will not create cache indexes for query:",Gr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),bt.resolve()):(cr()<=Gn.$b.DEBUG&&Xt("QueryEngine","Query:",Gr(i),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.Gi*u?(cr()<=Gn.$b.DEBUG&&Xt("QueryEngine","The SDK decides to create cache indexes for query:",Gr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,kr(i))):bt.resolve())}ji(t,i){if(rc(i))return bt.resolve(null);let o=kr(i);return this.indexManager.getIndexType(t,o).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=xl(i,null,"F"),o=kr(i)),this.indexManager.getDocumentsMatchingTarget(t,o).next(p=>{const _=sn(...p);return this.zi.getDocuments(t,_).next(S=>this.indexManager.getMinOffset(t,o).next(N=>{const K=this.Zi(i,S);return this.Xi(i,K,_,N.readTime)?this.ji(t,xl(i,null,"F")):this.es(t,K,i,N)}))})))}Hi(t,i,o,u){return rc(i)||u.isEqual(xn.min())?bt.resolve(null):this.zi.getDocuments(t,o).next(p=>{const _=this.Zi(i,p);return this.Xi(i,_,o,u)?bt.resolve(null):(cr()<=Gn.$b.DEBUG&&Xt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Gr(i)),this.es(t,_,i,En(u,-1)).next(S=>S))})}Zi(t,i){let o=new en(zs(t));return i.forEach((u,p)=>{Xo(t,p)&&(o=o.add(p))}),o}Xi(t,i,o,u){if(null===t.limit)return!1;if(o.size!==i.size)return!0;const p="F"===t.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Ji(t,i,o){return cr()<=Gn.$b.DEBUG&&Xt("QueryEngine","Using full collection scan to execute query:",Gr(i)),this.zi.getDocumentsMatchingQuery(t,i,vr.min(),o)}es(t,i,o,u){return this.zi.getDocumentsMatchingQuery(t,o,u).next(p=>(i.forEach(_=>{p=p.insert(_.key,_)}),p))}}class eo{constructor(t,i,o,u){this.persistence=t,this.ts=i,this.serializer=u,this.ns=new mr(fn),this.rs=new ha(p=>Qa(p),Ac),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(o)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new ar(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.ns))}}function Ua(c,t,i,o){return new eo(c,t,i,o)}function Wr(c,t){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,Ot.A)(function*(c,t){const i=He(c);return yield i.persistence.runTransaction("Handle user change","readonly",o=>{let u;return i.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,i._s(t),i.mutationQueue.getAllMutationBatches(o))).next(p=>{const _=[],S=[];let N=sn();for(const K of u){_.push(K.batchId);for(const he of K.mutations)N=N.add(he.key)}for(const K of p){S.push(K.batchId);for(const he of K.mutations)N=N.add(he.key)}return i.localDocuments.getDocuments(o,N).next(K=>({us:K,removedBatchIds:_,addedBatchIds:S}))})})})).apply(this,arguments)}function co(c){const t=He(c);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Qr.getLastRemoteSnapshotVersion(i))}function Bs(c,t,i){let o=sn(),u=sn();return i.forEach(p=>o=o.add(p)),t.getEntries(c,o).next(p=>{let _=Ji();return i.forEach((S,N)=>{const K=p.get(S);N.isFoundDocument()!==K.isFoundDocument()&&(u=u.add(S)),N.isNoDocument()&&N.version.isEqual(xn.min())?(t.removeEntry(S,N.readTime),_=_.insert(S,N)):!K.isValidDocument()||N.version.compareTo(K.version)>0||0===N.version.compareTo(K.version)&&K.hasPendingWrites?(t.addEntry(N),_=_.insert(S,N)):Xt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",K.version," Watch version:",N.version)}),{cs:_,ls:u}})}function _a(c,t){const i=He(c);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(o,t)))}function ji(c,t){const i=He(c);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return i.Qr.getTargetData(o,t).next(p=>p?(u=p,bt.resolve(u)):i.Qr.allocateTargetId(o).next(_=>(u=new ya(t,_,"TargetPurposeListen",o.currentSequenceNumber),i.Qr.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=i.ns.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.ns=i.ns.insert(o.targetId,o),i.rs.set(t,o.targetId)),o})}function al(c,t,i){return $c.apply(this,arguments)}function $c(){return($c=(0,Ot.A)(function*(c,t,i){const o=He(c),u=o.ns.get(t),p=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",p,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!js(_))throw _;Xt("LocalStore",`Failed to update sequence numbers for target ${t}: ${_}`)}o.ns=o.ns.remove(t),o.rs.delete(u.target)})).apply(this,arguments)}function Ih(c,t,i){const o=He(c);let u=xn.min(),p=sn();return o.persistence.runTransaction("Execute query","readwrite",_=>function(N,K,he){const Pe=He(N),ot=Pe.rs.get(he);return void 0!==ot?bt.resolve(Pe.ns.get(ot)):Pe.Qr.getTargetData(K,he)}(o,_,kr(t)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,o.Qr.getMatchingKeysForTargetId(_,S.targetId).next(N=>{p=N})}).next(()=>o.ts.getDocumentsMatchingQuery(_,t,i?u:xn.min(),i?p:sn())).next(S=>(Cf(o,Za(t),S),{documents:S,hs:p})))}function ea(c,t){const i=He(c),o=He(i.Qr),u=i.ns.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",p=>o.ot(p,t).next(_=>_?_.target:null))}function Tf(c,t){const i=He(c),o=i.ss.get(t)||xn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.os.getAllFromCollectionGroup(u,t,En(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Cf(i,t,u),u))}function Cf(c,t,i){let o=c.ss.get(t)||xn.min();i.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),c.ss.set(t,o)}function du(){return(du=(0,Ot.A)(function*(c,t,i,o){const u=He(c);let p=sn(),_=Ji();for(const K of i){const he=t.Ps(K.metadata.name);K.document&&(p=p.add(he));const Pe=t.Is(K);Pe.setReadTime(t.Ts(K.metadata.readTime)),_=_.insert(he,Pe)}const S=u.os.newChangeBuffer({trackRemovals:!0}),N=yield ji(u,(he=o,kr(Vs(Er.fromString(`__bundle__/docs/${he}`)))));var he;return u.persistence.runTransaction("Apply bundle documents","readwrite",K=>Bs(K,S,_).next(he=>(S.apply(K),he)).next(he=>u.Qr.removeMatchingKeysForTargetId(K,N.targetId).next(()=>u.Qr.addMatchingKeys(K,p,N.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(K,he.cs,he.ls)).next(()=>he.cs)))})).apply(this,arguments)}function wf(c,t){return ud.apply(this,arguments)}function ud(){return(ud=(0,Ot.A)(function*(c,t,i=sn()){const o=yield ji(c,kr(iu(t.bundledQuery))),u=He(c);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=Yn(t.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.$r.saveNamedQuery(p,t);const S=o.withResumeToken(Mi.EMPTY_BYTE_STRING,_);return u.ns=u.ns.insert(S.targetId,S),u.Qr.updateTargetData(p,S).next(()=>u.Qr.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.Qr.addMatchingKeys(p,i,o.targetId)).next(()=>u.$r.saveNamedQuery(p,t))})})).apply(this,arguments)}function Fd(c,t){return`firestore_clients_${c}_${t}`}function Th(c,t,i){let o=`firestore_mutations_${c}_${i}`;return t.isAuthenticated()&&(o+=`_${t.uid}`),o}function Ea(c,t){return`firestore_targets_${c}_${t}`}class $r{constructor(t,i,o,u){this.user=t,this.batchId=i,this.state=o,this.error=u}static Es(t,i,o){const u=JSON.parse(o);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new ve(u.error.code,u.error.message))),_?new $r(t,i,u.state,p):(Lr("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class jc{constructor(t,i,o){this.targetId=t,this.state=i,this.error=o}static Es(t,i){const o=JSON.parse(i);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new ve(o.error.code,o.error.message))),p?new jc(t,o.state,u):(Lr("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}ds(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class dd{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Es(t,i){const o=JSON.parse(i);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=Vr();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=sa(o.activeTargetIds[_]),p=p.add(o.activeTargetIds[_]);return u?new dd(t,p):(Lr("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class Ch{constructor(t,i){this.clientId=t,this.onlineState=i}static Es(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Ch(i.clientId,i.onlineState):(Lr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Mp{constructor(){this.activeTargetIds=Vr()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class bf{constructor(t,i,o,u,p){this.window=t,this.oi=i,this.persistenceKey=o,this.Vs=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new mr(fn),this.started=!1,this.ys=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ws=Fd(this.persistenceKey,this.Vs),this.Ss=`firestore_sequence_number_${this.persistenceKey}`,this.ps=this.ps.insert(this.Vs,new Mp),this.bs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.vs=`firestore_online_state_${this.persistenceKey}`,this.Fs=function(N){return`firestore_bundle_loaded_v2_${N}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ot.A)(function*(){const i=yield t.syncEngine.Bi();for(const u of i){if(u===t.Vs)continue;const p=t.getItem(Fd(t.persistenceKey,u));if(p){const _=dd.Es(u,p);_&&(t.ps=t.ps.insert(_.clientId,_))}}t.Ms();const o=t.storage.getItem(t.vs);if(o){const u=t.xs(o);u&&t.Os(u)}for(const u of t.ys)t.gs(u);t.ys=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ss,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(t){let i=!1;return this.ps.forEach((o,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.Ls(t,"pending")}updateMutationState(t,i,o){this.Ls(t,i,o),this.Bs(t)}addLocalQueryTarget(t){let i="not-current";if(this.isActiveQueryTarget(t)){const o=this.storage.getItem(Ea(this.persistenceKey,t));if(o){const u=jc.Es(t,o);u&&(i=u.state)}}return this.ks.As(t),this.Ms(),i}removeLocalQueryTarget(t){this.ks.Rs(t),this.Ms()}isLocalQueryTarget(t){return this.ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Ea(this.persistenceKey,t))}updateQueryState(t,i,o){this.qs(t,i,o)}handleUserChange(t,i,o){i.forEach(u=>{this.Bs(u)}),this.currentUser=t,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Qs(t)}notifyBundleLoaded(t){this.Ks(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return Xt("SharedClientState","READ",t,i),i}setItem(t,i){Xt("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){Xt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}gs(t){var i=this;const o=t;if(o.storageArea===this.storage){if(Xt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ws)return void Lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((0,Ot.A)(function*(){if(i.started){if(null!==o.key)if(i.bs.test(o.key)){if(null==o.newValue){const u=i.$s(o.key);return i.Us(u,null)}{const u=i.Ws(o.key,o.newValue);if(u)return i.Us(u.clientId,u)}}else if(i.Ds.test(o.key)){if(null!==o.newValue){const u=i.Gs(o.key,o.newValue);if(u)return i.zs(u)}}else if(i.Cs.test(o.key)){if(null!==o.newValue){const u=i.js(o.key,o.newValue);if(u)return i.Hs(u)}}else if(o.key===i.vs){if(null!==o.newValue){const u=i.xs(o.newValue);if(u)return i.Os(u)}}else if(o.key===i.Ss){const u=function(_){let S=hi.oe;if(null!=_)try{const N=JSON.parse(_);Rn("number"==typeof N),S=N}catch(N){Lr("SharedClientState","Failed to read sequence number from WebStorage",N)}return S}(o.newValue);u!==hi.oe&&i.sequenceNumberHandler(u)}else if(o.key===i.Fs){const u=i.Js(o.newValue);yield Promise.all(u.map(p=>i.syncEngine.Ys(p)))}}else i.ys.push(o)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(t,i,o){const u=new $r(this.currentUser,t,i,o),p=Th(this.persistenceKey,this.currentUser,t);this.setItem(p,u.ds())}Bs(t){const i=Th(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Qs(t){this.storage.setItem(this.vs,JSON.stringify({clientId:this.Vs,onlineState:t}))}qs(t,i,o){const u=Ea(this.persistenceKey,t),p=new jc(t,i,o);this.setItem(u,p.ds())}Ks(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Fs,i)}$s(t){const i=this.bs.exec(t);return i?i[1]:null}Ws(t,i){const o=this.$s(t);return dd.Es(o,i)}Gs(t,i){const o=this.Ds.exec(t),u=Number(o[1]);return $r.Es(new Kn(void 0!==o[2]?o[2]:null),u,i)}js(t,i){const o=this.Cs.exec(t),u=Number(o[1]);return jc.Es(u,i)}xs(t){return Ch.Es(t)}Js(t){return JSON.parse(t)}zs(t){var i=this;return(0,Ot.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.Zs(t.batchId,t.state,t.error);Xt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Hs(t){return this.syncEngine.Xs(t.targetId,t.state,t.error)}Us(t,i){const o=i?this.ps.insert(t,i):this.ps.remove(t),u=this.Ns(this.ps),p=this.Ns(o),_=[],S=[];return p.forEach(N=>{u.has(N)||_.push(N)}),u.forEach(N=>{p.has(N)||S.push(N)}),this.syncEngine.eo(_,S).then(()=>{this.ps=o})}Os(t){this.ps.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ns(t){let i=Vr();return t.forEach((o,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Af{constructor(){this.no=new Mp,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,o){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,i,o){this.ro[t]=i}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Mp,Promise.resolve()}handleUserChange(t,i,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Df{io(t){}shutdown(){}}class Vd{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Wl=null;function Sf(){return null===Wl?Wl=268435456+Math.round(2147483648*Math.random()):Wl++,"0x"+Wl.toString(16)}const Rf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vm{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const ls="WebChannelConnection";class Ud extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const o=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.wo=o+"://"+i.host,this.So=`projects/${u}/databases/${p}`,this.bo="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Do(){return!1}Co(i,o,u,p,_){const S=Sf(),N=this.vo(i,o.toUriEncodedString());Xt("RestConnection",`Sending RPC '${i}' ${S}:`,N,u);const K={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(K,p,_),this.Mo(i,N,K,u).then(he=>(Xt("RestConnection",`Received RPC '${i}' ${S}: `,he),he),he=>{throw ui("RestConnection",`RPC '${i}' ${S} failed with error: `,he,"url: ",N,"request:",u),he})}xo(i,o,u,p,_,S){return this.Co(i,o,u,p,_)}Fo(i,o,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+oi,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((p,_)=>i[_]=p),u&&u.headers.forEach((p,_)=>i[_]=p)}vo(i,o){return`${this.wo}/v1/${o}:${Rf[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,i,o,u){const p=Sf();return new Promise((_,S)=>{const N=new ri;N.setWithCredentials(!0),N.listenOnce(qt.COMPLETE,()=>{try{switch(N.getLastErrorCode()){case Pr.NO_ERROR:const he=N.getResponseJson();Xt(ls,`XHR for RPC '${t}' ${p} received:`,JSON.stringify(he)),_(he);break;case Pr.TIMEOUT:Xt(ls,`RPC '${t}' ${p} timed out`),S(new ve(se.DEADLINE_EXCEEDED,"Request time out"));break;case Pr.HTTP_ERROR:const Pe=N.getStatus();if(Xt(ls,`RPC '${t}' ${p} failed with status:`,Pe,"response text:",N.getResponseText()),Pe>0){let ot=N.getResponseJson();Array.isArray(ot)&&(ot=ot[0]);const Ft=ot?.error;if(Ft&&Ft.status&&Ft.message){const cn=function(ln){const nr=ln.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(nr)>=0?nr:se.UNKNOWN}(Ft.status);S(new ve(cn,Ft.message))}else S(new ve(se.UNKNOWN,"Server responded with status "+N.getStatus()))}else S(new ve(se.UNAVAILABLE,"Connection failed."));break;default:In()}}finally{Xt(ls,`RPC '${t}' ${p} completed.`)}});const K=JSON.stringify(u);Xt(ls,`RPC '${t}' ${p} sending request:`,u),N.send(i,"POST",K,o,15)})}Oo(t,i,o){const u=Sf(),p=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],_=Ir(),S=Jn(),N={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},K=this.longPollingOptions.timeoutSeconds;void 0!==K&&(N.longPollingTimeout=Math.round(1e3*K)),this.useFetchStreams&&(N.xmlHttpFactory=new gr({})),this.Fo(N.initMessageHeaders,i,o),N.encodeInitMessageHeaders=!0;const he=p.join("");Xt(ls,`Creating RPC '${t}' stream ${u}: ${he}`,N);const Pe=_.createWebChannel(he,N);let ot=!1,Ft=!1;const cn=new vm({lo:ln=>{Ft?Xt(ls,`Not sending because RPC '${t}' stream ${u} is closed:`,ln):(ot||(Xt(ls,`Opening RPC '${t}' stream ${u} transport.`),Pe.open(),ot=!0),Xt(ls,`RPC '${t}' stream ${u} sending:`,ln),Pe.send(ln))},ho:()=>Pe.close()}),yn=(ln,nr,dr)=>{ln.listen(nr,Mn=>{try{dr(Mn)}catch(br){setTimeout(()=>{throw br},0)}})};return yn(Pe,Sn.EventType.OPEN,()=>{Ft||(Xt(ls,`RPC '${t}' stream ${u} transport opened.`),cn.mo())}),yn(Pe,Sn.EventType.CLOSE,()=>{Ft||(Ft=!0,Xt(ls,`RPC '${t}' stream ${u} transport closed`),cn.po())}),yn(Pe,Sn.EventType.ERROR,ln=>{Ft||(Ft=!0,ui(ls,`RPC '${t}' stream ${u} transport errored:`,ln),cn.po(new ve(se.UNAVAILABLE,"The operation could not be completed")))}),yn(Pe,Sn.EventType.MESSAGE,ln=>{var nr;if(!Ft){const dr=ln.data[0];Rn(!!dr);const br=dr.error||(null===(nr=dr[0])||void 0===nr?void 0:nr.error);if(br){Xt(ls,`RPC '${t}' stream ${u} received error:`,br);const ni=br.status;let ci=function(gt){const Pt=Es[gt];if(void 0!==Pt)return uc(Pt)}(ni),At=br.message;void 0===ci&&(ci=se.INTERNAL,At="Unknown error status: "+ni+" with message "+br.message),Ft=!0,cn.po(new ve(ci,At)),Pe.close()}else Xt(ls,`RPC '${t}' stream ${u} received:`,dr),cn.yo(dr)}}),yn(S,qn.STAT_EVENT,ln=>{ln.stat===Sr.PROXY?Xt(ls,`RPC '${t}' stream ${u} detected buffering proxy`):ln.stat===Sr.NOPROXY&&Xt(ls,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{cn.fo()},0),cn}}function Jt(){return typeof window<"u"?window:null}function li(){return typeof document<"u"?document:null}function hu(c){return new fe(c,!0)}class hd{constructor(t,i,o=1e3,u=1.5,p=6e4){this.oi=t,this.timerId=i,this.No=o,this.Lo=u,this.Bo=p,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const i=Math.floor(this.ko+this.Uo()),o=Math.max(0,Date.now()-this.Qo),u=Math.max(0,i-o);u>0&&Xt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,u,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class ts{constructor(t,i,o,u,p,_,S,N){this.oi=t,this.Go=o,this.zo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=S,this.listener=N,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new hd(t,i)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,Ot.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,Ot.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,i){var o=this;return(0,Ot.A)(function*(){o.s_(),o.o_(),o.Yo.cancel(),o.jo++,4!==t?o.Yo.reset():i&&i.code===se.RESOURCE_EXHAUSTED?(Lr(i.toString()),Lr("Using maximum backoff delay to prevent overloading the backend."),o.Yo.Ko()):i&&i.code===se.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.__(),o.stream.close(),o.stream=null),o.state=t,yield o.listener.Ao(i)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.jo===i&&this.u_(o,u)},o=>{t(()=>{const u=new ve(se.UNKNOWN,"Fetching auth token failed: "+o.message);return this.c_(u)})})}u_(t,i){const o=this.a_(this.jo);this.stream=this.l_(t,i),this.stream.Po(()=>{o(()=>this.listener.Po())}),this.stream.To(()=>{o(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(u=>{o(()=>this.c_(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}e_(){var t=this;this.state=5,this.Yo.$o((0,Ot.A)(function*(){t.state=0,t.start()}))}c_(t){return Xt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return i=>{this.oi.enqueueAndForget(()=>this.jo===t?i():(Xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Pf extends ts{constructor(t,i,o,u,p,_){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,u,_),this.serializer=p}l_(t,i){return this.connection.Oo("Listen",t,i)}onMessage(t){this.Yo.reset();const i=function Nd(c,t){let i;if("targetChange"in t){const o="NO_CHANGE"===(K=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===K?1:"REMOVE"===K?2:"CURRENT"===K?3:"RESET"===K?4:In(),u=t.targetChange.targetIds||[],p=function(K,he){return K.useProto3Json?(Rn(void 0===he||"string"==typeof he),Mi.fromBase64String(he||"")):(Rn(void 0===he||he instanceof Buffer||he instanceof Uint8Array),Mi.fromUint8Array(he||new Uint8Array))}(c,t.targetChange.resumeToken),_=t.targetChange.cause,S=_&&function(K){const he=void 0===K.code?se.UNKNOWN:uc(K.code);return new ve(he,K.message||"")}(_);i=new vh(o,u,p,S||null)}else if("documentChange"in t){const o=t.documentChange,u=bi(c,o.document.name),p=Yn(o.document.updateTime),_=o.document.createTime?Yn(o.document.createTime):xn.min(),S=new ir({mapValue:{fields:o.document.fields}}),N=H.newFoundDocument(u,p,_,S);i=new tu(o.targetIds||[],o.removedTargetIds||[],N.key,N)}else if("documentDelete"in t){const o=t.documentDelete,u=bi(c,o.document),p=o.readTime?Yn(o.readTime):xn.min(),_=H.newNoDocument(u,p);i=new tu([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in t){const o=t.documentRemove,u=bi(c,o.document);i=new tu([],o.removedTargetIds||[],u,null)}else{if(!("filter"in t))return In();{const o=t.filter,{count:u=0,unchangedNames:p}=o,_=new yl(u,p);i=new yh(o.targetId,_)}}var K;return i}(this.serializer,t),o=function(p){if(!("targetChange"in p))return xn.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?xn.min():_.readTime?Yn(_.readTime):xn.min()}(t);return this.listener.h_(i,o)}P_(t){const i={};i.database=Oa(this.serializer),i.addTarget=function(p,_){let S;const N=_.target;if(S=nc(N)?{documents:nd(p,N)}:{query:Vl(p,N)._t},S.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){S.resumeToken=Dt(p,_.resumeToken);const K=Fe(p,_.expectedCount);null!==K&&(S.expectedCount=K)}else if(_.snapshotVersion.compareTo(xn.min())>0){S.readTime=$t(p,_.snapshotVersion.toTimestamp());const K=Fe(p,_.expectedCount);null!==K&&(S.expectedCount=K)}return S}(this.serializer,t);const o=function rd(c,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return In()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);o&&(i.labels=o),this.i_(i)}I_(t){const i={};i.database=Oa(this.serializer),i.removeTarget=t,this.i_(i)}}class Bd extends ts{constructor(t,i,o,u,p,_){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,u,_),this.serializer=p,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,i){return this.connection.Oo("Write",t,i)}onMessage(t){if(Rn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const i=function td(c,t){return c&&c.length>0?(Rn(void 0!==t),c.map(i=>function(u,p){let _=Yn(u.updateTime?u.updateTime:p);return _.isEqual(xn.min())&&(_=Yn(p)),new ml(_,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),o=Yn(t.commitTime);return this.listener.A_(o,i)}return Rn(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=Oa(this.serializer),this.i_(t)}d_(t){const i={streamToken:this.lastStreamToken,writes:t.map(o=>fc(this.serializer,o))};this.i_(i)}}class wo extends class{}{constructor(t,i,o,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=o,this.serializer=u,this.m_=!1}f_(){if(this.m_)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,i,o,u){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Co(t,Hr(i,o),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new ve(se.UNKNOWN,p.toString())})}xo(t,i,o,u,p){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,S])=>this.connection.xo(t,Hr(i,o),u,_,S,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new ve(se.UNKNOWN,_.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class wh{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Lr(i),this.y_=!1):Xt("OnlineStateTracker",i)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class Mf{constructor(t,i,o,u,p){var _=this;this.localStore=t,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=p,this.O_.io(S=>{o.enqueueAndForget((0,Ot.A)(function*(){var N;Fo(_)&&(Xt("RemoteStore","Restarting streams for network reachability change."),yield(N=(0,Ot.A)(function*(he){const Pe=He(he);Pe.M_.add(4),yield pd(Pe),Pe.N_.set("Unknown"),Pe.M_.delete(4),yield fd(Pe)}),function K(he){return N.apply(this,arguments)})(_))}))}),this.N_=new wh(o,u)}}function fd(c){return Np.apply(this,arguments)}function Np(){return(Np=(0,Ot.A)(function*(c){if(Fo(c))for(const t of c.x_)yield t(!0)})).apply(this,arguments)}function pd(c){return ko.apply(this,arguments)}function ko(){return(ko=(0,Ot.A)(function*(c){for(const t of c.x_)yield t(!1)})).apply(this,arguments)}function Mu(c,t){const i=He(c);i.F_.has(t.targetId)||(i.F_.set(t.targetId,t),$a(i)?fu(i):zc(i).Xo()&&Lo(i,t))}function Hc(c,t){const i=He(c),o=zc(i);i.F_.delete(t),o.Xo()&&bo(i,t),0===i.F_.size&&(o.Xo()?o.n_():Fo(i)&&i.N_.set("Unknown"))}function Lo(c,t){if(c.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xn.min())>0){const i=c.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}zc(c).P_(t)}function bo(c,t){c.L_.xe(t),zc(c).I_(t)}function fu(c){c.L_=new nu({getRemoteKeysForTarget:t=>c.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>c.F_.get(t)||null,tt:()=>c.datastore.serializer.databaseId}),zc(c).start(),c.N_.w_()}function $a(c){return Fo(c)&&!zc(c).Zo()&&c.F_.size>0}function Fo(c){return 0===He(c).M_.size}function Op(c){c.L_=void 0}function bh(c){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,Ot.A)(function*(c){c.N_.set("Online")})).apply(this,arguments)}function _m(c){return $d.apply(this,arguments)}function $d(){return($d=(0,Ot.A)(function*(c){c.F_.forEach((t,i)=>{Lo(c,t)})})).apply(this,arguments)}function Of(c,t){return E.apply(this,arguments)}function E(){return(E=(0,Ot.A)(function*(c,t){Op(c),$a(c)?(c.N_.D_(t),fu(c)):c.N_.set("Unknown")})).apply(this,arguments)}function h(c,t,i){return g.apply(this,arguments)}function g(){return g=(0,Ot.A)(function*(c,t,i){if(c.N_.set("Online"),t instanceof vh&&2===t.state&&t.cause)try{yield(o=(0,Ot.A)(function*(p,_){const S=_.cause;for(const N of _.targetIds)p.F_.has(N)&&(yield p.remoteSyncer.rejectListen(N,S),p.F_.delete(N),p.L_.removeTarget(N))}),function u(p,_){return o.apply(this,arguments)})(c,t)}catch(o){Xt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),yield w(c,o)}else if(t instanceof tu?c.L_.Ke(t):t instanceof yh?c.L_.He(t):c.L_.We(t),!i.isEqual(xn.min()))try{const o=yield co(c.localStore);i.compareTo(o)>=0&&(yield function(p,_){const S=p.L_.rt(_);return S.targetChanges.forEach((N,K)=>{if(N.resumeToken.approximateByteSize()>0){const he=p.F_.get(K);he&&p.F_.set(K,he.withResumeToken(N.resumeToken,_))}}),S.targetMismatches.forEach((N,K)=>{const he=p.F_.get(N);if(!he)return;p.F_.set(N,he.withResumeToken(Mi.EMPTY_BYTE_STRING,he.snapshotVersion)),bo(p,N);const Pe=new ya(he.target,N,K,he.sequenceNumber);Lo(p,Pe)}),p.remoteSyncer.applyRemoteEvent(S)}(c,i))}catch(o){Xt("RemoteStore","Failed to raise snapshot:",o),yield w(c,o)}var o}),g.apply(this,arguments)}function w(c,t,i){return $.apply(this,arguments)}function $(){return($=(0,Ot.A)(function*(c,t,i){if(!js(t))throw t;c.M_.add(1),yield pd(c),c.N_.set("Offline"),i||(i=()=>co(c.localStore)),c.asyncQueue.enqueueRetryable((0,Ot.A)(function*(){Xt("RemoteStore","Retrying IndexedDB access"),yield i(),c.M_.delete(1),yield fd(c)}))})).apply(this,arguments)}function ue(c,t){return t().catch(i=>w(c,i,t))}function Je(c){return St.apply(this,arguments)}function St(){return(St=(0,Ot.A)(function*(c){const t=He(c),i=cl(t);let o=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;on(t);)try{const u=yield _a(t.localStore,o);if(null===u){0===t.v_.length&&i.n_();break}o=u.batchId,$n(t,u)}catch(u){yield w(t,u)}lr(t)&&Ln(t)})).apply(this,arguments)}function on(c){return Fo(c)&&c.v_.length<10}function $n(c,t){c.v_.push(t);const i=cl(c);i.Xo()&&i.E_&&i.d_(t.mutations)}function lr(c){return Fo(c)&&!cl(c).Zo()&&c.v_.length>0}function Ln(c){cl(c).start()}function is(c){return _i.apply(this,arguments)}function _i(){return(_i=(0,Ot.A)(function*(c){cl(c).V_()})).apply(this,arguments)}function Ah(c){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,Ot.A)(function*(c){const t=cl(c);for(const i of c.v_)t.d_(i.mutations)})).apply(this,arguments)}function xf(c,t,i){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,Ot.A)(function*(c,t,i){const o=c.v_.shift(),u=oo.from(o,t,i);yield ue(c,()=>c.remoteSyncer.applySuccessfulWrite(u)),yield Je(c)})).apply(this,arguments)}function kf(c,t){return gd.apply(this,arguments)}function gd(){return gd=(0,Ot.A)(function*(c,t){var i;t&&cl(c).E_&&(yield(i=(0,Ot.A)(function*(u,p){if(vl(S=p.code)&&S!==se.ABORTED){const _=u.v_.shift();cl(u).t_(),yield ue(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield Je(u)}var S}),function o(u,p){return i.apply(this,arguments)})(c,t)),lr(c)&&Ln(c)}),gd.apply(this,arguments)}function Nu(c,t){return ll.apply(this,arguments)}function ll(){return(ll=(0,Ot.A)(function*(c,t){const i=He(c);i.asyncQueue.verifyOperationInProgress(),Xt("RemoteStore","RemoteStore received new credentials");const o=Fo(i);i.M_.add(3),yield pd(i),o&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.M_.delete(3),yield fd(i)})).apply(this,arguments)}function jd(c,t){return Ou.apply(this,arguments)}function Ou(){return(Ou=(0,Ot.A)(function*(c,t){const i=He(c);t?(i.M_.delete(2),yield fd(i)):t||(i.M_.add(2),yield pd(i),i.N_.set("Unknown"))})).apply(this,arguments)}function zc(c){return c.B_||(c.B_=function(i,o,u){const p=He(i);return p.f_(),new Pf(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{Po:bh.bind(null,c),To:_m.bind(null,c),Ao:Of.bind(null,c),h_:h.bind(null,c)}),c.x_.push(function(){var t=(0,Ot.A)(function*(i){i?(c.B_.t_(),$a(c)?fu(c):c.N_.set("Unknown")):(yield c.B_.stop(),Op(c))});return function(i){return t.apply(this,arguments)}}())),c.B_}function cl(c){return c.k_||(c.k_=function(i,o,u){const p=He(i);return p.f_(),new Bd(o,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(c.datastore,c.asyncQueue,{Po:()=>Promise.resolve(),To:is.bind(null,c),Ao:kf.bind(null,c),R_:Ah.bind(null,c),A_:xf.bind(null,c)}),c.x_.push(function(){var t=(0,Ot.A)(function*(i){i?(c.k_.t_(),yield Je(c)):(yield c.k_.stop(),c.v_.length>0&&(Xt("RemoteStore",`Stopping write stream with ${c.v_.length} pending writes`),c.v_=[]))});return function(i){return t.apply(this,arguments)}}())),c.k_}class Hd{constructor(t,i,o,u,p){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new ge,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,o,u,p){const _=Date.now()+o,S=new Hd(t,i,_,u,p);return S.start(o),S}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ve(se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zd(c,t){if(Lr("AsyncQueue",`${t}: ${c}`),js(c))return new ve(se.UNAVAILABLE,`${t}: ${c}`);throw c}class Gd{constructor(t){this.comparator=t?(i,o)=>t(i,o)||Q.comparator(i.key,o.key):(i,o)=>Q.comparator(i.key,o.key),this.keyedMap=R(),this.sortedSet=new mr(this.comparator)}static emptySet(t){return new Gd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,o)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Gd)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const o=new Gd;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=i,o}}class bv{constructor(){this.q_=new mr(Q.comparator)}track(t){const i=t.doc.key,o=this.q_.get(i);o?0!==t.type&&3===o.type?this.q_=this.q_.insert(i,t):3===t.type&&1!==o.type?this.q_=this.q_.insert(i,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.q_=this.q_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.q_=this.q_.remove(i):1===t.type&&2===o.type?this.q_=this.q_.insert(i,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.q_=this.q_.insert(i,{type:2,doc:t.doc}):In():this.q_=this.q_.insert(i,t)}Q_(){const t=[];return this.q_.inorderTraversal((i,o)=>{t.push(o)}),t}}class Gc{constructor(t,i,o,u,p,_,S,N,K){this.query=t,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=S,this.excludesMetadataChanges=N,this.hasCachedResults=K}static fromInitialDocuments(t,i,o,u,p){const _=[];return i.forEach(S=>{_.push({type:0,doc:S})}),new Gc(t,i,Gd.emptySet(i),_,o,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,o=t.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class Lf{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class zE{constructor(){this.queries=new ha(t=>qo(t),sc),this.onlineState="Unknown",this.z_=new Set}}function Ff(c,t){return xp.apply(this,arguments)}function xp(){return(xp=(0,Ot.A)(function*(c,t){const i=He(c);let o=3;const u=t.query;let p=i.queries.get(u);p?!p.W_()&&t.G_()&&(o=2):(p=new Lf,o=t.G_()?0:1);try{switch(o){case 0:p.K_=yield i.onListen(u,!0);break;case 1:p.K_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const S=zd(_,`Initialization of query '${Gr(t.query)}' failed`);return void t.onError(S)}i.queries.set(u,p),p.U_.push(t),t.j_(i.onlineState),p.K_&&t.H_(p.K_)&&Vf(i)})).apply(this,arguments)}function Em(c,t){return Im.apply(this,arguments)}function Im(){return(Im=(0,Ot.A)(function*(c,t){const i=He(c),o=t.query;let u=3;const p=i.queries.get(o);if(p){const _=p.U_.indexOf(t);_>=0&&(p.U_.splice(_,1),0===p.U_.length?u=t.G_()?0:1:!p.W_()&&t.G_()&&(u=2))}switch(u){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}})).apply(this,arguments)}function uw(c,t){const i=He(c);let o=!1;for(const u of t){const _=i.queries.get(u.query);if(_){for(const S of _.U_)S.H_(u)&&(o=!0);_.K_=u}}o&&Vf(i)}function dw(c,t,i){const o=He(c),u=o.queries.get(t);if(u)for(const p of u.U_)p.onError(i);o.queries.delete(t)}function Vf(c){c.z_.forEach(t=>{t.next()})}var xu,kp;(kp=xu||(xu={})).J_="default",kp.Cache="cache";class Kd{constructor(t,i,o){this.query=t,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=o||{}}H_(t){if(!this.options.includeMetadataChanges){const o=[];for(const u of t.docChanges)3!==u.type&&o.push(u);t=new Gc(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),i=!0):this.ta(t,this.onlineState)&&(this.na(t),i=!0),this.X_=t,i}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),i=!0),i}ta(t,i){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Gc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==xu.Cache}}class GE{constructor(t,i){this.ia=t,this.byteLength=i}sa(){return"metadata"in this.ia}}class Rh{constructor(t){this.serializer=t}Ps(t){return bi(this.serializer,t)}Is(t){return t.metadata.exists?bu(this.serializer,t.document,!1):H.newNoDocument(this.Ps(t.metadata.name),this.Ts(t.metadata.readTime))}Ts(t){return Yn(t)}}class KE{constructor(t,i,o){this.oa=t,this.localStore=i,this.serializer=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Lp(t)}_a(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.ia.namedQuery)this.queries.push(t.ia.namedQuery);else if(t.ia.documentMetadata){this.documents.push({metadata:t.ia.documentMetadata}),t.ia.documentMetadata.exists||++i;const o=Er.fromString(t.ia.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else t.ia.document&&(this.documents[this.documents.length-1].document=t.ia.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}aa(t){const i=new Map,o=new Rh(this.serializer);for(const u of t)if(u.metadata.queries){const p=o.Ps(u.metadata.name);for(const _ of u.metadata.queries){const S=(i.get(_)||sn()).add(p);i.set(_,S)}}return i}complete(){var t=this;return(0,Ot.A)(function*(){const i=yield function Pp(c,t,i,o){return du.apply(this,arguments)}(t.localStore,new Rh(t.serializer),t.documents,t.oa.id),o=t.aa(t.documents);for(const u of t.queries)yield wf(t.localStore,u,o.get(u.name));return t.progress.taskState="Success",{progress:t.progress,ua:t.collectionGroups,ca:i}})()}}function Lp(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class Uf{constructor(t){this.key=t}}class WE{constructor(t){this.key=t}}class Tm{constructor(t,i){this.query=t,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=sn(),this.mutatedKeys=sn(),this.Ia=zs(t),this.Ta=new Gd(this.Ia)}get Ea(){return this.la}da(t,i){const o=i?i.Aa:new bv,u=i?i.Ta:this.Ta;let p=i?i.mutatedKeys:this.mutatedKeys,_=u,S=!1;const N="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,K="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((he,Pe)=>{const ot=u.get(he),Ft=Xo(this.query,Pe)?Pe:null,cn=!!ot&&this.mutatedKeys.has(ot.key),yn=!!Ft&&(Ft.hasLocalMutations||this.mutatedKeys.has(Ft.key)&&Ft.hasCommittedMutations);let ln=!1;ot&&Ft?ot.data.isEqual(Ft.data)?cn!==yn&&(o.track({type:3,doc:Ft}),ln=!0):this.Ra(ot,Ft)||(o.track({type:2,doc:Ft}),ln=!0,(N&&this.Ia(Ft,N)>0||K&&this.Ia(Ft,K)<0)&&(S=!0)):!ot&&Ft?(o.track({type:0,doc:Ft}),ln=!0):ot&&!Ft&&(o.track({type:1,doc:ot}),ln=!0,(N||K)&&(S=!0)),ln&&(Ft?(_=_.add(Ft),p=yn?p.add(he):p.delete(he)):(_=_.delete(he),p=p.delete(he)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const he="F"===this.query.limitType?_.last():_.first();_=_.delete(he.key),p=p.delete(he.key),o.track({type:1,doc:he})}return{Ta:_,Aa:o,Xi:S,mutatedKeys:p}}Ra(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,o,u){const p=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const _=t.Aa.Q_();_.sort((he,Pe)=>function(Ft,cn){const yn=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In()}};return yn(Ft)-yn(cn)}(he.type,Pe.type)||this.Ia(he.doc,Pe.doc)),this.Va(o),u=null!=u&&u;const S=i&&!u?this.ma():[],N=0===this.Pa.size&&this.current&&!u?1:0,K=N!==this.ha;return this.ha=N,0!==_.length||K?{snapshot:new Gc(this.query,t.Ta,p,_,t.mutatedKeys,0===N,K,!1,!!o&&o.resumeToken.approximateByteSize()>0),fa:S}:{fa:S}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new bv,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(i=>this.la=this.la.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=sn(),this.Ta.forEach(o=>{this.ga(o.key)&&(this.Pa=this.Pa.add(o.key))});const i=[];return t.forEach(o=>{this.Pa.has(o)||i.push(new WE(o))}),this.Pa.forEach(o=>{t.has(o)||i.push(new Uf(o))}),i}pa(t){this.la=t.hs,this.Pa=sn();const i=this.da(t.documents);return this.applyChanges(i,!0)}ya(){return Gc.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Av{constructor(t,i,o){this.query=t,this.targetId=i,this.view=o}}class qE{constructor(t){this.key=t,this.wa=!1}}class pu{constructor(t,i,o,u,p,_){this.localStore=t,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Sa={},this.ba=new ha(S=>qo(S),sc),this.Da=new Map,this.Ca=new Set,this.va=new mr(Q.comparator),this.Fa=new Map,this.Ma=new Kr,this.xa={},this.Oa=new Map,this.Na=Qi.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function XE(c,t){return Ph.apply(this,arguments)}function Ph(){return(Ph=(0,Ot.A)(function*(c,t,i=!0){const o=Wp(c);let u;const p=o.ba.get(t);return p?(o.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.ya()):u=yield Bf(o,t,i,!0),u})).apply(this,arguments)}function Cm(c,t){return Fp.apply(this,arguments)}function Fp(){return(Fp=(0,Ot.A)(function*(c,t){const i=Wp(c);yield Bf(i,t,!0,!1)})).apply(this,arguments)}function Bf(c,t,i,o){return $f.apply(this,arguments)}function $f(){return($f=(0,Ot.A)(function*(c,t,i,o){const u=yield ji(c.localStore,kr(t)),p=u.targetId,_=i?c.sharedClientState.addLocalQueryTarget(p):"not-current";let S;return o&&(S=yield wm(c,t,p,"current"===_,u.resumeToken)),c.isPrimaryClient&&i&&Mu(c.remoteStore,u),S})).apply(this,arguments)}function wm(c,t,i,o,u){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,Ot.A)(function*(c,t,i,o,u){c.Ba=(Pe,ot,Ft)=>{return(cn=(0,Ot.A)(function*(ln,nr,dr,Mn){let br=nr.view.da(dr);br.Xi&&(br=yield Ih(ln.localStore,nr.query,!1).then(({documents:tt})=>nr.view.da(tt,br)));const ni=Mn&&Mn.targetChanges.get(nr.targetId),ci=Mn&&null!=Mn.targetMismatches.get(nr.targetId),At=nr.view.applyChanges(br,ln.isPrimaryClient,ni,ci);return Oh(ln,nr.targetId,At.fa),At.snapshot}),function yn(ln,nr,dr,Mn){return cn.apply(this,arguments)})(c,Pe,ot,Ft);var cn};const p=yield Ih(c.localStore,t,!0),_=new Tm(t,p.hs),S=_.da(p.documents),N=Pc.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==c.onlineState,u),K=_.applyChanges(S,c.isPrimaryClient,N);Oh(c,i,K.fa);const he=new Av(t,i,_);return c.ba.set(t,he),c.Da.has(i)?c.Da.get(i).push(t):c.Da.set(i,[t]),K.snapshot}),Vp.apply(this,arguments)}function Dv(c,t,i){return Up.apply(this,arguments)}function Up(){return(Up=(0,Ot.A)(function*(c,t,i){const o=He(c),u=o.ba.get(t),p=o.Da.get(u.targetId);if(p.length>1)return o.Da.set(u.targetId,p.filter(_=>!sc(_,t))),void o.ba.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield al(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),i&&Hc(o.remoteStore,u.targetId),Wd(o,u.targetId)}).catch(hr))):(Wd(o,u.targetId),yield al(o.localStore,u.targetId,!0))})).apply(this,arguments)}function Sv(c,t){return bm.apply(this,arguments)}function bm(){return(bm=(0,Ot.A)(function*(c,t){const i=He(c),o=i.ba.get(t),u=i.Da.get(o.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),Hc(i.remoteStore,o.targetId))})).apply(this,arguments)}function ku(){return(ku=(0,Ot.A)(function*(c,t,i){const o=qp(c);try{const u=yield function(_,S){const N=He(_),K=wr.now(),he=S.reduce((Ft,cn)=>Ft.add(cn.key),sn());let Pe,ot;return N.persistence.runTransaction("Locally write mutations","readwrite",Ft=>{let cn=Ji(),yn=sn();return N.os.getEntries(Ft,he).next(ln=>{cn=ln,cn.forEach((nr,dr)=>{dr.isValidDocument()||(yn=yn.add(nr))})}).next(()=>N.localDocuments.getOverlayedDocuments(Ft,cn)).next(ln=>{Pe=ln;const nr=[];for(const dr of S){const Mn=To(dr,Pe.get(dr.key).overlayedDocument);null!=Mn&&nr.push(new Ks(dr.key,Mn,Io(Mn.value.mapValue),Gi.exists(!0)))}return N.mutationQueue.addMutationBatch(Ft,K,nr,S)}).next(ln=>{ot=ln;const nr=ln.applyToLocalDocumentSet(Pe,yn);return N.documentOverlayCache.saveOverlays(Ft,ln.batchId,nr)})}).then(()=>({batchId:ot.batchId,changes:oe(Pe)}))}(o.localStore,t);o.sharedClientState.addPendingMutation(u.batchId),function(_,S,N){let K=_.xa[_.currentUser.toKey()];K||(K=new mr(fn)),K=K.insert(S,N),_.xa[_.currentUser.toKey()]=K}(o,u.batchId,i),yield Lu(o,u.changes),yield Je(o.remoteStore)}catch(u){const p=zd(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function Rv(c,t){return $p.apply(this,arguments)}function $p(){return($p=(0,Ot.A)(function*(c,t){const i=He(c);try{const o=yield function Ld(c,t){const i=He(c),o=t.snapshotVersion;let u=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=i.os.newChangeBuffer({trackRemovals:!0});u=i.ns;const S=[];t.targetChanges.forEach((he,Pe)=>{const ot=u.get(Pe);if(!ot)return;S.push(i.Qr.removeMatchingKeys(p,he.removedDocuments,Pe).next(()=>i.Qr.addMatchingKeys(p,he.addedDocuments,Pe)));let Ft=ot.withSequenceNumber(p.currentSequenceNumber);var yn,ln,nr;null!==t.targetMismatches.get(Pe)?Ft=Ft.withResumeToken(Mi.EMPTY_BYTE_STRING,xn.min()).withLastLimboFreeSnapshotVersion(xn.min()):he.resumeToken.approximateByteSize()>0&&(Ft=Ft.withResumeToken(he.resumeToken,o)),u=u.insert(Pe,Ft),ln=Ft,nr=he,(0===(yn=ot).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-yn.snapshotVersion.toMicroseconds()>=3e8||nr.addedDocuments.size+nr.modifiedDocuments.size+nr.removedDocuments.size>0)&&S.push(i.Qr.updateTargetData(p,Ft))});let N=Ji(),K=sn();if(t.documentUpdates.forEach(he=>{t.resolvedLimboDocuments.has(he)&&S.push(i.persistence.referenceDelegate.updateLimboDocument(p,he))}),S.push(Bs(p,_,t.documentUpdates).next(he=>{N=he.cs,K=he.ls})),!o.isEqual(xn.min())){const he=i.Qr.getLastRemoteSnapshotVersion(p).next(Pe=>i.Qr.setTargetsMetadata(p,p.currentSequenceNumber,o));S.push(he)}return bt.waitFor(S).next(()=>_.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,N,K)).next(()=>N)}).then(p=>(i.ns=u,p))}(i.localStore,t);t.targetChanges.forEach((u,p)=>{const _=i.Fa.get(p);_&&(Rn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.wa=!0:u.modifiedDocuments.size>0?Rn(_.wa):u.removedDocuments.size>0&&(Rn(_.wa),_.wa=!1))}),yield Lu(i,o,t)}catch(o){yield hr(o)}})).apply(this,arguments)}function Am(c,t,i){const o=He(c);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const u=[];o.ba.forEach((p,_)=>{const S=_.view.j_(t);S.snapshot&&u.push(S.snapshot)}),function(_,S){const N=He(_);N.onlineState=S;let K=!1;N.queries.forEach((he,Pe)=>{for(const ot of Pe.U_)ot.j_(S)&&(K=!0)}),K&&Vf(N)}(o.eventManager,t),u.length&&o.Sa.h_(u),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function Mh(c,t,i){return md.apply(this,arguments)}function md(){return(md=(0,Ot.A)(function*(c,t,i){const o=He(c);o.sharedClientState.updateQueryState(t,"rejected",i);const u=o.Fa.get(t),p=u&&u.key;if(p){let _=new mr(Q.comparator);_=_.insert(p,H.newNoDocument(p,xn.min()));const S=sn().add(p),N=new ao(xn.min(),new Map,new mr(fn),_,S);yield Rv(o,N),o.va=o.va.remove(p),o.Fa.delete(t),Rm(o)}else yield al(o.localStore,t,!1).then(()=>Wd(o,t,i)).catch(hr)})).apply(this,arguments)}function Vo(c,t){return Dm.apply(this,arguments)}function Dm(){return(Dm=(0,Ot.A)(function*(c,t){const i=He(c),o=t.batch.batchId;try{const u=yield function rs(c,t){const i=He(c);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=t.batch.keys(),p=i.os.newChangeBuffer({trackRemovals:!0});return function(S,N,K,he){const Pe=K.batch,ot=Pe.keys();let Ft=bt.resolve();return ot.forEach(cn=>{Ft=Ft.next(()=>he.getEntry(N,cn)).next(yn=>{const ln=K.docVersions.get(cn);Rn(null!==ln),yn.version.compareTo(ln)<0&&(Pe.applyToRemoteDocument(yn,K),yn.isValidDocument()&&(yn.setReadTime(K.commitVersion),he.addEntry(yn)))})}),Ft.next(()=>S.mutationQueue.removeMutationBatch(N,Pe))}(i,o,t,p).next(()=>p.apply(o)).next(()=>i.mutationQueue.performConsistencyCheck(o)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(o,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(S){let N=sn();for(let K=0;K<S.mutationResults.length;++K)S.mutationResults[K].transformResults.length>0&&(N=N.add(S.batch.mutations[K].key));return N}(t))).next(()=>i.localDocuments.getDocuments(o,u))})}(i.localStore,t);Sm(i,o,null),Nh(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield Lu(i,u)}catch(u){yield hr(u)}})).apply(this,arguments)}function Pv(c,t,i){return jf.apply(this,arguments)}function jf(){return(jf=(0,Ot.A)(function*(c,t,i){const o=He(c);try{const u=yield function(_,S){const N=He(_);return N.persistence.runTransaction("Reject batch","readwrite-primary",K=>{let he;return N.mutationQueue.lookupMutationBatch(K,S).next(Pe=>(Rn(null!==Pe),he=Pe.keys(),N.mutationQueue.removeMutationBatch(K,Pe))).next(()=>N.mutationQueue.performConsistencyCheck(K)).next(()=>N.documentOverlayCache.removeOverlaysForBatchId(K,he,S)).next(()=>N.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(K,he)).next(()=>N.localDocuments.getDocuments(K,he))})}(o.localStore,t);Sm(o,t,i),Nh(o,t),o.sharedClientState.updateMutationState(t,"rejected",i),yield Lu(o,u)}catch(u){yield hr(u)}})).apply(this,arguments)}function jp(){return(jp=(0,Ot.A)(function*(c,t){const i=He(c);Fo(i.remoteStore)||Xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(_){const S=He(_);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",N=>S.mutationQueue.getHighestUnacknowledgedBatchId(N))}(i.localStore);if(-1===o)return void t.resolve();const u=i.Oa.get(o)||[];u.push(t),i.Oa.set(o,u)}catch(o){const u=zd(o,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function Nh(c,t){(c.Oa.get(t)||[]).forEach(i=>{i.resolve()}),c.Oa.delete(t)}function Sm(c,t,i){const o=He(c);let u=o.xa[o.currentUser.toKey()];if(u){const p=u.get(t);p&&(i?p.reject(i):p.resolve(),u=u.remove(t)),o.xa[o.currentUser.toKey()]=u}}function Wd(c,t,i=null){c.sharedClientState.removeLocalQueryTarget(t);for(const o of c.Da.get(t))c.ba.delete(o),i&&c.Sa.ka(o,i);c.Da.delete(t),c.isPrimaryClient&&c.Ma.Vr(t).forEach(o=>{c.Ma.containsKey(o)||Hp(c,o)})}function Hp(c,t){c.Ca.delete(t.path.canonicalString());const i=c.va.get(t);null!==i&&(Hc(c.remoteStore,i),c.va=c.va.remove(t),c.Fa.delete(i),Rm(c))}function Oh(c,t,i){for(const o of i)o instanceof Uf?(c.Ma.addReference(o.key,t),Mv(c,o)):o instanceof WE?(Xt("SyncEngine","Document no longer in limbo: "+o.key),c.Ma.removeReference(o.key,t),c.Ma.containsKey(o.key)||Hp(c,o.key)):In()}function Mv(c,t){const i=t.key,o=i.path.canonicalString();c.va.get(i)||c.Ca.has(o)||(Xt("SyncEngine","New document in limbo: "+i),c.Ca.add(o),Rm(c))}function Rm(c){for(;c.Ca.size>0&&c.va.size<c.maxConcurrentLimboResolutions;){const t=c.Ca.values().next().value;c.Ca.delete(t);const i=new Q(Er.fromString(t)),o=c.Na.next();c.Fa.set(o,new qE(i)),c.va=c.va.insert(i,o),Mu(c.remoteStore,new ya(kr(Vs(i.path)),o,"TargetPurposeLimboResolution",hi.oe))}}function Lu(c,t,i){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,Ot.A)(function*(c,t,i){const o=He(c),u=[],p=[],_=[];var S;o.ba.isEmpty()||(o.ba.forEach((S,N)=>{_.push(o.Ba(N,t,i).then(K=>{var he;if((K||i)&&o.isPrimaryClient){const Pe=K?!K.fromCache:null===(he=i?.targetChanges.get(N.targetId))||void 0===he?void 0:he.current;o.sharedClientState.updateQueryState(N.targetId,Pe?"current":"not-current")}if(K){u.push(K);const Pe=Cr.Ki(N.targetId,K);p.push(Pe)}}))}),yield Promise.all(_),o.Sa.h_(u),yield(S=(0,Ot.A)(function*(K,he){const Pe=He(K);try{yield Pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>bt.forEach(he,Ft=>bt.forEach(Ft.qi,cn=>Pe.persistence.referenceDelegate.addReference(ot,Ft.targetId,cn)).next(()=>bt.forEach(Ft.Qi,cn=>Pe.persistence.referenceDelegate.removeReference(ot,Ft.targetId,cn)))))}catch(ot){if(!js(ot))throw ot;Xt("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of he){const Ft=ot.targetId;if(!ot.fromCache){const cn=Pe.ns.get(Ft),ln=cn.withLastLimboFreeSnapshotVersion(cn.snapshotVersion);Pe.ns=Pe.ns.insert(Ft,ln)}}}),function N(K,he){return S.apply(this,arguments)})(o.localStore,p))}),Pm.apply(this,arguments)}function Nv(c,t){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,Ot.A)(function*(c,t){const i=He(c);if(!i.currentUser.isEqual(t)){Xt("SyncEngine","User change. New user:",t.toKey());const o=yield Wr(i.localStore,t);i.currentUser=t,(p=i).Oa.forEach(S=>{S.forEach(N=>{N.reject(new ve(se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.Oa.clear(),i.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),yield Lu(i,o.us)}var p})).apply(this,arguments)}function Ov(c,t){const i=He(c),o=i.Fa.get(t);if(o&&o.wa)return sn().add(o.key);{let u=sn();const p=i.Da.get(t);if(!p)return u;for(const _ of p){const S=i.ba.get(_);u=u.unionWith(S.view.Ea)}return u}}function YE(c,t){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,Ot.A)(function*(c,t){const i=He(c),o=yield Ih(i.localStore,t.query,!0),u=t.view.pa(o);return i.isPrimaryClient&&Oh(i,t.targetId,u.fa),u})).apply(this,arguments)}function hw(c,t){return zp.apply(this,arguments)}function zp(){return(zp=(0,Ot.A)(function*(c,t){const i=He(c);return Tf(i.localStore,t).then(o=>Lu(i,o))})).apply(this,arguments)}function xv(c,t,i,o){return mo.apply(this,arguments)}function mo(){return(mo=(0,Ot.A)(function*(c,t,i,o){const u=He(c),p=yield function(S,N){const K=He(S),he=He(K.mutationQueue);return K.persistence.runTransaction("Lookup mutation documents","readonly",Pe=>he.vn(Pe,N).next(ot=>ot?K.localDocuments.getDocuments(Pe,ot):bt.resolve(null)))}(u.localStore,t);var N;null!==p?("pending"===i?yield Je(u.remoteStore):"acknowledged"===i||"rejected"===i?(Sm(u,t,o||null),Nh(u,t),N=t,He(He(u.localStore).mutationQueue).Mn(N)):In(),yield Lu(u,p)):Xt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Om(){return(Om=(0,Ot.A)(function*(c,t){const i=He(c);if(Wp(i),qp(i),!0===t&&!0!==i.La){const o=i.sharedClientState.getAllActiveQueryTargets(),u=yield ZE(i,o.toArray());i.La=!0,yield jd(i.remoteStore,!0);for(const p of u)Mu(i.remoteStore,p)}else if(!1===t&&!1!==i.La){const o=[];let u=Promise.resolve();i.Da.forEach((p,_)=>{i.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(Wd(i,_),al(i.localStore,_,!0))),Hc(i.remoteStore,_)}),yield u,yield ZE(i,o),function(_){const S=He(_);S.Fa.forEach((N,K)=>{Hc(S.remoteStore,K)}),S.Ma.mr(),S.Fa=new Map,S.va=new mr(Q.comparator)}(i),i.La=!1,yield jd(i.remoteStore,!1)}})).apply(this,arguments)}function ZE(c,t,i){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,Ot.A)(function*(c,t,i){const o=He(c),u=[],p=[];for(const _ of t){let S;const N=o.Da.get(_);if(N&&0!==N.length){S=yield ji(o.localStore,kr(N[0]));for(const K of N){const he=o.ba.get(K),Pe=yield YE(o,he);Pe.snapshot&&p.push(Pe.snapshot)}}else{const K=yield ea(o.localStore,_);S=yield ji(o.localStore,K),yield wm(o,JE(K),_,!1,S.resumeToken)}u.push(S)}return o.Sa.h_(p),u})).apply(this,arguments)}function JE(c){return Dc(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function xm(c){return i=He(c).localStore,He(He(i).persistence).Bi();var i}function Kc(c,t,i,o){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,Ot.A)(function*(c,t,i,o){const u=He(c);if(u.La)return void Xt("SyncEngine","Ignoring unexpected query state notification.");const p=u.Da.get(t);if(p&&p.length>0)switch(i){case"current":case"not-current":{const _=yield Tf(u.localStore,Za(p[0])),S=ao.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,Mi.EMPTY_BYTE_STRING);yield Lu(u,_,S);break}case"rejected":yield al(u.localStore,t,!0),Wd(u,t,o);break;default:In()}})).apply(this,arguments)}function Hf(c,t,i){return km.apply(this,arguments)}function km(){return(km=(0,Ot.A)(function*(c,t,i){const o=Wp(c);if(o.La){for(const u of t){if(o.Da.has(u)&&o.sharedClientState.isActiveQueryTarget(u)){Xt("SyncEngine","Adding an already active target "+u);continue}const p=yield ea(o.localStore,u),_=yield ji(o.localStore,p);yield wm(o,JE(p),_.targetId,!1,_.resumeToken),Mu(o.remoteStore,_)}for(const u of i)o.Da.has(u)&&(yield al(o.localStore,u,!1).then(()=>{Hc(o.remoteStore,u),Wd(o,u)}).catch(hr))}})).apply(this,arguments)}function Wp(c){const t=He(c);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ov.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Mh.bind(null,t),t.Sa.h_=uw.bind(null,t.eventManager),t.Sa.ka=dw.bind(null,t.eventManager),t}function qp(c){const t=He(c);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Vo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pv.bind(null,t),t}class zf{constructor(){this.synchronizeTabs=!1}initialize(t){var i=this;return(0,Ot.A)(function*(){i.serializer=hu(t.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(t),i.persistence=i.createPersistence(t),yield i.persistence.start(),i.localStore=i.createLocalStore(t),i.gcScheduler=i.createGarbageCollectionScheduler(t,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(t,i.localStore)})()}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return Ua(this.persistence,new Zr,t.initialUser,this.serializer)}createPersistence(t){return new go(Zi.Hr,this.serializer)}createSharedClientState(t){return new Af}terminate(){var t=this;return(0,Ot.A)(function*(){var i,o;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(o=t.indexBackfillerScheduler)||void 0===o||o.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class kv extends zf{constructor(t,i,o){super(),this.Qa=t,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,o=this;return(0,Ot.A)(function*(){yield i().call(o,t),yield o.Qa.initialize(o,t),yield qp(o.Qa.syncEngine),yield Je(o.Qa.remoteStore),yield o.persistence.fi(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return Ua(this.persistence,new Zr,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){return new Fa(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){const o=new yo(i,this.persistence);return new Li(t.asyncQueue,o)}createPersistence(t){const i=ur(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Zs.withCacheSize(this.cacheSizeBytes):Zs.DEFAULT;return new Uc(this.synchronizeTabs,i,t.clientId,o,t.asyncQueue,Jt(),li(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Af}}class eI extends kv{constructor(t,i){super(t,i,!1),this.Qa=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,o=this;return(0,Ot.A)(function*(){yield i().call(o,t);const u=o.Qa.syncEngine;o.sharedClientState instanceof bf&&(o.sharedClientState.syncEngine={Zs:xv.bind(null,u),Xs:Kc.bind(null,u),eo:Hf.bind(null,u),Bi:xm.bind(null,u),Ys:hw.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.fi(function(){var p=(0,Ot.A)(function*(_){yield function fw(c,t){return Om.apply(this,arguments)}(o.Qa.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}createSharedClientState(t){const i=Jt();if(!bf.D(i))throw new ve(se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ur(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new bf(i,t.asyncQueue,o,t.clientId,t.initialUser)}}class xh{initialize(t,i){var o=this;return(0,Ot.A)(function*(){o.localStore||(o.localStore=t.localStore,o.sharedClientState=t.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!t.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Am(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Nv.bind(null,o.syncEngine),yield jd(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(t){return new zE}createDatastore(t){const i=hu(t.databaseInfo.databaseId),o=new Ud(t.databaseInfo);return new wo(t.authCredentials,t.appCheckCredentials,o,i)}createRemoteStore(t){return o=this.localStore,u=this.datastore,p=t.asyncQueue,_=i=>Am(this.syncEngine,i,0),S=Vd.D()?new Vd:new Df,new Mf(o,u,p,_,S);var o,u,p,_,S}createSyncEngine(t,i){return function(u,p,_,S,N,K,he){const Pe=new pu(u,p,_,S,N,K);return he&&(Pe.La=!0),Pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,Ot.A)(function*(){var i,o;yield(o=(0,Ot.A)(function*(p){const _=He(p);Xt("RemoteStore","RemoteStore shutting down."),_.M_.add(5),yield pd(_),_.O_.shutdown(),_.N_.set("Unknown")}),function u(p){return o.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate()})()}}function qd(c,t=10240){let i=0;return{read:()=>(0,Ot.A)(function*(){if(i<c.byteLength){const o={value:c.slice(i,i+t),done:!1};return i+=t,o}return{done:!0}})(),cancel:()=>(0,Ot.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class yd{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Lr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}class Lv{constructor(t,i){this.Ua=t,this.serializer=i,this.metadata=new ge,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then(o=>{o&&o.sa()?this.metadata.resolve(o.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.ia)}`))},o=>this.metadata.reject(o))}close(){return this.Ua.cancel()}getMetadata(){var t=this;return(0,Ot.A)(function*(){return t.metadata.promise})()}qa(){var t=this;return(0,Ot.A)(function*(){return yield t.getMetadata(),t.Ga()})()}Ga(){var t=this;return(0,Ot.A)(function*(){const i=yield t.za();if(null===i)return null;const o=t.Wa.decode(i),u=Number(o);isNaN(u)&&t.ja(`length string (${o}) is not valid number`);const p=yield t.Ha(u);return new GE(JSON.parse(p),i.length+u)})()}Ja(){return this.buffer.findIndex(t=>123===t)}za(){var t=this;return(0,Ot.A)(function*(){for(;t.Ja()<0&&!(yield t.Ya()););if(0===t.buffer.length)return null;const i=t.Ja();i<0&&t.ja("Reached the end of bundle when a length string is expected.");const o=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),o})()}Ha(t){var i=this;return(0,Ot.A)(function*(){for(;i.buffer.length<t;)(yield i.Ya())&&i.ja("Reached the end of bundle when more is expected.");const o=i.Wa.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),o})()}ja(t){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${t}`)}Ya(){var t=this;return(0,Ot.A)(function*(){const i=yield t.Ua.read();if(!i.done){const o=new Uint8Array(t.buffer.length+i.value.length);o.set(t.buffer),o.set(i.value,t.buffer.length),t.buffer=o}return i.done})()}}class Xd{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,Ot.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new ve(se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const o=yield(u=(0,Ot.A)(function*(_,S){const N=He(_),K={documents:S.map(Ft=>Xi(N.serializer,Ft))},he=yield N.xo("BatchGetDocuments",N.serializer.databaseId,Er.emptyPath(),K,S.length),Pe=new Map;he.forEach(Ft=>{const cn=function Md(c,t){return"found"in t?function(o,u){Rn(!!u.found);const p=bi(o,u.found.name),_=Yn(u.found.updateTime),S=u.found.createTime?Yn(u.found.createTime):xn.min(),N=new ir({mapValue:{fields:u.found.fields}});return H.newFoundDocument(p,_,S,N)}(c,t):"missing"in t?function(o,u){Rn(!!u.missing),Rn(!!u.readTime);const p=bi(o,u.missing),_=Yn(u.readTime);return H.newNoDocument(p,_)}(c,t):In()}(N.serializer,Ft);Pe.set(cn.key.toString(),cn)});const ot=[];return S.forEach(Ft=>{const cn=Pe.get(Ft.toString());Rn(!!cn),ot.push(cn)}),ot}),function p(_,S){return u.apply(this,arguments)})(i.datastore,t);var u;return o.forEach(u=>i.recordVersion(u)),o})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastTransactionError=o}this.writtenDocs.add(t.toString())}delete(t){this.write(new fo(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ot.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var o;t.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,u)=>{const p=Q.fromPath(u);t.mutations.push(new os(p,t.precondition(p)))}),yield(o=(0,Ot.A)(function*(p,_){const S=He(p),N={writes:_.map(K=>fc(S.serializer,K))};yield S.Co("Commit",S.serializer.databaseId,Er.emptyPath(),N)}),function u(p,_){return o.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw In();i=xn.min()}const o=this.readVersions.get(t.key.toString());if(o){if(!i.isEqual(o))throw new ve(se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(xn.min())?Gi.exists(!1):Gi.updateTime(i):Gi.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(xn.min()))throw new ve(se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gi.updateTime(i)}return Gi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class mw{constructor(t,i,o,u,p){this.asyncQueue=t,this.datastore=i,this.options=o,this.updateFunction=u,this.deferred=p,this.Za=o.maxAttempts,this.Yo=new hd(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,Ot.A)(function*(){const i=new Xd(t.datastore),o=t.tu(i);o&&o.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(p=>{t.nu(p)}))}).catch(u=>{t.nu(u)})}))}tu(t){try{const i=this.updateFunction(t);return!Hs(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!vl(i)}return!1}}class tI{constructor(t,i,o,u){var p=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=u,this.user=Kn.UNAUTHENTICATED,this.clientId=_r.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,Ot.A)(function*(S){Xt("FirestoreClient","Received user=",S.uid),yield p.authCredentialListener(S),p.user=S});return function(S){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(Xt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ve(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new ge;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ot.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(o){const u=zd(o,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function ql(c,t){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,Ot.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress(),Xt("FirestoreClient","Initializing OfflineComponentProvider");const i=c.configuration;yield t.initialize(i);let o=i.initialUser;c.setCredentialChangeListener(function(){var u=(0,Ot.A)(function*(p){o.isEqual(p)||(yield Wr(t.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>c.terminate()),c._offlineComponents=t}),Lm.apply(this,arguments)}function Gf(c,t){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,Ot.A)(function*(c,t){c.asyncQueue.verifyOperationInProgress();const i=yield Xp(c);Xt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,c.configuration),c.setCredentialChangeListener(o=>Nu(t.remoteStore,o)),c.setAppCheckTokenChangeListener((o,u)=>Nu(t.remoteStore,u)),c._onlineComponents=t})).apply(this,arguments)}function Fv(c){return"FirebaseError"===c.name?c.code===se.FAILED_PRECONDITION||c.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code}function Xp(c){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,Ot.A)(function*(c){if(!c._offlineComponents)if(c._uninitializedComponentsProvider){Xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ql(c,c._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!Fv(i))throw i;ui("Error using user provided cache. Falling back to memory cache: "+i),yield ql(c,new zf)}}else Xt("FirestoreClient","Using default OfflineComponentProvider"),yield ql(c,new zf);return c._offlineComponents})).apply(this,arguments)}function Yd(c){return kh.apply(this,arguments)}function kh(){return(kh=(0,Ot.A)(function*(c){return c._onlineComponents||(c._uninitializedComponentsProvider?(Xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Gf(c,c._uninitializedComponentsProvider._online)):(Xt("FirestoreClient","Using default OnlineComponentProvider"),yield Gf(c,new xh))),c._onlineComponents})).apply(this,arguments)}function Yp(c){return Xp(c).then(t=>t.persistence)}function Lh(c){return Xp(c).then(t=>t.localStore)}function Vv(c){return Yd(c).then(t=>t.remoteStore)}function Fm(c){return Yd(c).then(t=>t.syncEngine)}function Fh(c){return Um.apply(this,arguments)}function Um(){return(Um=(0,Ot.A)(function*(c){const t=yield Yd(c),i=t.eventManager;return i.onListen=XE.bind(null,t.syncEngine),i.onUnlisten=Dv.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Cm.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Sv.bind(null,t.syncEngine),i})).apply(this,arguments)}function Kf(c,t,i={}){const o=new ge;return c.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function(p,_,S,N,K){const he=new yd({next:ot=>{_.enqueueAndForget(()=>Em(p,Pe));const Ft=ot.docs.has(S);!Ft&&ot.fromCache?K.reject(new ve(se.UNAVAILABLE,"Failed to get document because the client is offline.")):Ft&&ot.fromCache&&N&&"server"===N.source?K.reject(new ve(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):K.resolve(ot)},error:ot=>K.reject(ot)}),Pe=new Kd(Vs(S.path),he,{includeMetadataChanges:!0,ra:!0});return Ff(p,Pe)}(yield Fh(c),c.asyncQueue,t,i,o)})),o.promise}function nI(c,t,i={}){const o=new ge;return c.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function(p,_,S,N,K){const he=new yd({next:ot=>{_.enqueueAndForget(()=>Em(p,Pe)),ot.fromCache&&"server"===N.source?K.reject(new ve(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):K.resolve(ot)},error:ot=>K.reject(ot)}),Pe=new Kd(S,he,{includeMetadataChanges:!0,ra:!0});return Ff(p,Pe)}(yield Fh(c),c.asyncQueue,t,i,o)})),o.promise}function $m(c){const t={};return void 0!==c.timeoutSeconds&&(t.timeoutSeconds=c.timeoutSeconds),t}const Hv=new Map;function Zp(c,t,i){if(!i)throw new ve(se.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${t}.`)}function zv(c,t,i,o){if(!0===t&&!0===o)throw new ve(se.INVALID_ARGUMENT,`${c} and ${i} cannot be used together.`)}function Gv(c){if(!Q.isDocumentKey(c))throw new ve(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function Kv(c){if(Q.isDocumentKey(c))throw new ve(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function Jp(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const t=(o=c).constructor?o.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var o;return"function"==typeof c?"a function":In()}function Ei(c,t){if("_delegate"in c&&(c=c._delegate),!(c instanceof t)){if(t.name===c.constructor.name)throw new ve(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Jp(c);throw new ve(se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return c}function jm(c,t){if(t<=0)throw new ve(se.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${t}.`)}class Hm{constructor(t){var i,o;if(void 0===t.host){if(void 0!==t.ssl)throw new ve(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ve(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}zv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=$m(null!==(o=t.experimentalLongPollingOptions)&&void 0!==o?o:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new ve(se.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vd{constructor(t,i,o,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ve(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hm(t),void 0!==t.credentials&&(this._authCredentials=function(o){if(!o)return new qe;switch(o.type){case"firstParty":return new Nn(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ve(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const o=Hv.get(i);o&&(Xt("ComponentProvider","Removing Datastore"),Hv.delete(i),o.terminate())}(this),Promise.resolve()}}class ta{constructor(t,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new ta(this.firestore,t,this._query)}}class Ms{constructor(t,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ms(this.firestore,t,this._key)}}class Wc extends ta{constructor(t,i,o){super(t,i,Vs(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ms(this.firestore,null,new Q(t))}withConverter(t){return new Wc(this.firestore,t,this._path)}}function Wv(c,t,...i){if(c=(0,dn.Ku)(c),Zp("collection","path",t),c instanceof vd){const o=Er.fromString(t,...i);return Kv(o),new Wc(c,null,o)}{if(!(c instanceof Ms||c instanceof Wc))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(Er.fromString(t,...i));return Kv(o),new Wc(c.firestore,null,o)}}function eg(c,t,...i){if(c=(0,dn.Ku)(c),1===arguments.length&&(t=_r.newId()),Zp("doc","path",t),c instanceof vd){const o=Er.fromString(t,...i);return Gv(o),new Ms(c,null,new Q(o))}{if(!(c instanceof Ms||c instanceof Wc))throw new ve(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=c._path.child(Er.fromString(t,...i));return Gv(o),new Ms(c.firestore,c instanceof Wc?c.converter:null,new Q(o))}}function qv(c,t){return c=(0,dn.Ku)(c),t=(0,dn.Ku)(t),(c instanceof Ms||c instanceof Wc)&&(t instanceof Ms||t instanceof Wc)&&c.firestore===t.firestore&&c.path===t.path&&c.converter===t.converter}function tg(c,t){return c=(0,dn.Ku)(c),t=(0,dn.Ku)(t),c instanceof ta&&t instanceof ta&&c.firestore===t.firestore&&sc(c._query,t._query)&&c.converter===t.converter}class vw{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new hd(this,"async_queue_retry"),this.hu=()=>{const i=li();i&&Xt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};const t=li();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const i=li();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const i=new ge;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,Ot.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(i){if(!js(i))throw i;Xt("AsyncQueue","Operation failed with retryable error: "+i)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const i=this.iu.then(()=>(this.uu=!0,t().catch(o=>{throw this.au=o,this.uu=!1,Lr("INTERNAL UNHANDLED ERROR: ",function(_){let S=_.message||"";return _.stack&&(S=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),S}(o)),o}).then(o=>(this.uu=!1,o))));return this.iu=i,i}enqueueAfterDelay(t,i,o){this.Pu(),this.lu.indexOf(t)>-1&&(i=0);const u=Hd.createAndSchedule(this,t,i,o,p=>this.Eu(p));return this._u.push(u),u}Pu(){this.au&&In()}verifyOperationInProgress(){}du(){var t=this;return(0,Ot.A)(function*(){let i;do{i=t.iu,yield i}while(i!==t.iu)})()}Au(t){for(const i of this._u)if(i.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._u)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const i=this._u.indexOf(t);this._u.splice(i,1)}}function ng(c){return function(i,o){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(c)}class oI{constructor(){this._progressObserver={},this._taskCompletionResolver=new ge,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,o){this._progressObserver={next:t,error:i,complete:o}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ds extends vd{constructor(t,i,o,u){super(t,i,o,u),this.type="firestore",this._queue=new vw,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Xv(this),this._firestoreClient.terminate()}}function Ns(c){return c._firestoreClient||Xv(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function Xv(c){var t,i,o;const u=c._freezeSettings(),p=(N=(null===(t=c._app)||void 0===t?void 0:t.options.appId)||"",new Da(c._databaseId,N,c._persistenceKey,(he=u).host,he.ssl,he.experimentalForceLongPolling,he.experimentalAutoDetectLongPolling,$m(he.experimentalLongPollingOptions),he.useFetchStreams));var N,he;c._firestoreClient=new tI(c._authCredentials,c._appCheckCredentials,c._queue,p),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(o=u.localCache)&&void 0!==o&&o._onlineComponentProvider&&(c._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Qv(c,t,i){const o=new ge;return c.asyncQueue.enqueue((0,Ot.A)(function*(){try{yield ql(c,i),yield Gf(c,t),o.resolve()}catch(u){const p=u;if(!Fv(p))throw p;ui("Error enabling indexeddb cache. Falling back to memory cache: "+p),o.reject(p)}})).then(()=>o.promise)}function hI(c){if(c._initialized||c._terminated)throw new ve(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new gu(Mi.fromBase64String(t))}catch(i){throw new ve(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new gu(Mi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class qc{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new ve(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class _c{constructor(t){this._methodName=t}}class Zd{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ve(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ve(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return fn(this._lat,t._lat)||fn(this._long,t._long)}}const Km=/^__.*__$/;class Wf{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return null!==this.fieldMask?new Ks(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zo(t,this.data,i,this.fieldTransforms)}}class qf{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return new Ks(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function Jd(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In()}}class Uh{constructor(t,i,o,u,p,_){this.settings=t,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=u,void 0===p&&this.mu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Uh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.gu({path:o,yu:!1});return u.wu(t),u}Su(t){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.gu({path:o,yu:!1});return u.mu(),u}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Zm(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(Jd(this.fu)&&Km.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class og{constructor(t,i,o){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=o||hu(t)}Fu(t,i,o,u=!1){return new Uh({fu:t,methodName:i,vu:o,path:Mr.emptyPath(),yu:!1,Cu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xc(c){const t=c._freezeSettings(),i=hu(c._databaseId);return new og(c._databaseId,!!t.ignoreUndefinedProperties,i)}function Bh(c,t,i,o,u,p={}){const _=c.Fu(p.merge||p.mergeFields?2:0,t,i,u);ug("Data must be an object, but it was:",_,o);const S=Jv(o,_);let N,K;if(p.merge)N=new ss(_.fieldMask),K=_.fieldTransforms;else if(p.mergeFields){const he=[];for(const Pe of p.mergeFields){const ot=nh(t,Pe,i);if(!_.contains(ot))throw new ve(se.INVALID_ARGUMENT,`Field '${ot}' is specified in your field mask but missing from your input data.`);jh(he,ot)||he.push(ot)}N=new ss(he),K=_.fieldTransforms.filter(Pe=>N.covers(Pe.field))}else N=null,K=_.fieldTransforms;return new Wf(new ir(S),N,K)}class ag extends _c{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ag}}function lg(c,t,i){return new Uh({fu:3,vu:t.settings.vu,methodName:c._methodName,yu:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class eh extends _c{_toFieldTransform(t){return new Us(t.path,new Oi)}isEqual(t){return t instanceof eh}}class Wm extends _c{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){const i=lg(this,t,!0),o=this.Mu.map(p=>th(p,i)),u=new fs(o);return new Us(t.path,u)}isEqual(t){return t instanceof Wm&&(0,dn.bD)(this.Mu,t.Mu)}}class cg extends _c{constructor(t,i){super(t),this.Mu=i}_toFieldTransform(t){const i=lg(this,t,!0),o=this.Mu.map(p=>th(p,i)),u=new Gs(o);return new Us(t.path,u)}isEqual(t){return t instanceof cg&&(0,dn.bD)(this.Mu,t.Mu)}}class qm extends _c{constructor(t,i){super(t),this.xu=i}_toFieldTransform(t){const i=new pa(t.serializer,Qr(t.serializer,this.xu));return new Us(t.path,i)}isEqual(t){return t instanceof qm&&this.xu===t.xu}}function Xm(c,t,i,o){const u=c.Fu(1,t,i);ug("Data must be an object, but it was:",u,o);const p=[],_=ir.empty();An(o,(N,K)=>{const he=Ym(t,N,i);K=(0,dn.Ku)(K);const Pe=u.Su(he);if(K instanceof ag)p.push(he);else{const ot=th(K,Pe);null!=ot&&(p.push(he),_.set(he,ot))}});const S=new ss(p);return new qf(_,S,u.fieldTransforms)}function Xf(c,t,i,o,u,p){const _=c.Fu(1,t,i),S=[nh(t,o,i)],N=[u];if(p.length%2!=0)throw new ve(se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ot=0;ot<p.length;ot+=2)S.push(nh(t,p[ot])),N.push(p[ot+1]);const K=[],he=ir.empty();for(let ot=S.length-1;ot>=0;--ot)if(!jh(K,S[ot])){const Ft=S[ot];let cn=N[ot];cn=(0,dn.Ku)(cn);const yn=_.Su(Ft);if(cn instanceof ag)K.push(Ft);else{const ln=th(cn,yn);null!=ln&&(K.push(Ft),he.set(Ft,ln))}}const Pe=new ss(K);return new qf(he,Pe,_.fieldTransforms)}function Qm(c,t,i,o=!1){return th(i,c.Fu(o?4:3,t))}function th(c,t){if($h(c=(0,dn.Ku)(c)))return ug("Unsupported field value:",t,c),Jv(c,t);if(c instanceof _c)return function(o,u){if(!Jd(u.fu))throw u.Du(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Du(`${o._methodName}() is not currently supported inside arrays`);const p=o._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(c,t),null;if(void 0===c&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),c instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(o,u){const p=[];let _=0;for(const S of o){let N=th(S,u.bu(_));null==N&&(N={nullValue:"NULL_VALUE"}),p.push(N),_++}return{arrayValue:{values:p}}}(c,t)}return function(o,u){if(null===(o=(0,dn.Ku)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return Qr(u.serializer,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const p=wr.fromDate(o);return{timestampValue:$t(u.serializer,p)}}if(o instanceof wr){const p=new wr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:$t(u.serializer,p)}}if(o instanceof Zd)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof gu)return{bytesValue:Dt(u.serializer,o._byteString)};if(o instanceof Ms){const p=u.databaseId,_=o.firestore._databaseId;if(!_.isEqual(p))throw u.Du(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Pn(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Du(`Unsupported field value: ${Jp(o)}`)}(c,t)}function Jv(c,t){const i={};return tr(c)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):An(c,(o,u)=>{const p=th(u,t.pu(o));null!=p&&(i[o]=p)}),{mapValue:{fields:i}}}function $h(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof wr||c instanceof Zd||c instanceof gu||c instanceof Ms||c instanceof _c)}function ug(c,t,i){if(!$h(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const o=Jp(i);throw t.Du("an object"===o?c+" a custom object":c+" "+o)}var u}function nh(c,t,i){if((t=(0,dn.Ku)(t))instanceof qc)return t._internalPath;if("string"==typeof t)return Ym(c,t);throw Zm("Field path arguments must be of type string or ",c,!1,void 0,i)}const fI=new RegExp("[~\\*/\\[\\]]");function Ym(c,t,i){if(t.search(fI)>=0)throw Zm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,i);try{return new qc(...t.split("."))._internalPath}catch{throw Zm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,i)}}function Zm(c,t,i,o,u){const p=o&&!o.isEmpty(),_=void 0!==u;let S=`Function ${t}() called with invalid data`;i&&(S+=" (via `toFirestore()`)"),S+=". ";let N="";return(p||_)&&(N+=" (found",p&&(N+=` in field ${o}`),_&&(N+=` in document ${u}`),N+=")"),new ve(se.INVALID_ARGUMENT,S+c+N)}function jh(c,t){return c.some(i=>i.isEqual(t))}class Qf{constructor(t,i,o,u,p){this._firestore=t,this._userDataWriter=i,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Ms(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new dg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(Hh("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class dg extends Qf{data(){return super.data()}}function Hh(c,t){return"string"==typeof t?Ym(c,t):t instanceof qc?t._internalPath:t._delegate._internalPath}function Jm(c){if("L"===c.limitType&&0===c.explicitOrderBy.length)throw new ve(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ey{}class zh extends ey{}function mu(c,t,...i){let o=[];t instanceof ey&&o.push(t),o=o.concat(i),function(p){const _=p.filter(N=>N instanceof rh).length,S=p.filter(N=>N instanceof Gh).length;if(_>1||_>0&&S>0)throw new ve(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const u of o)c=u._apply(c);return c}class Gh extends zh{constructor(t,i,o){super(),this._field=t,this._op=i,this._value=o,this.type="where"}static _create(t,i,o){return new Gh(t,i,o)}_apply(t){const i=this._parse(t);return sy(t._query,i),new ta(t.firestore,t.converter,ic(t._query,i))}_parse(t){const i=Xc(t.firestore);return function(p,_,S,N,K,he,Pe){let ot;if(K.isKeyField()){if("array-contains"===he||"array-contains-any"===he)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${he}' queries on documentId().`);if("in"===he||"not-in"===he){iy(Pe,he);const Ft=[];for(const cn of Pe)Ft.push(pg(N,p,cn));ot={arrayValue:{values:Ft}}}else ot=pg(N,p,Pe)}else"in"!==he&&"not-in"!==he&&"array-contains-any"!==he||iy(Pe,he),ot=Qm(S,"where",Pe,"in"===he||"not-in"===he);return kn.create(K,he,ot)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class rh extends ey{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new rh(t,i)}_parse(t){const i=this._queryConstraints.map(o=>o._parse(t)).filter(o=>o.getFilters().length>0);return 1===i.length?i[0]:ti.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,p){let _=u;const S=p.getFlattenedFilters();for(const N of S)sy(_,N),_=ic(_,N)}(t._query,i),new ta(t.firestore,t.converter,ic(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hg extends zh{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new hg(t,i)}_apply(t){const i=function(u,p,_){if(null!==u.startAt)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ve(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nt(p,_)}(t._query,this._field,this._direction);return new ta(t.firestore,t.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new Wo(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}class ih extends zh{constructor(t,i,o){super(),this.type=t,this._limit=i,this._limitType=o}static _create(t,i,o){return new ih(t,i,o)}_apply(t){return new ta(t.firestore,t.converter,xl(t._query,this._limit,this._limitType))}}class sh extends zh{constructor(t,i,o){super(),this.type=t,this._docOrFields=i,this._inclusive=o}static _create(t,i,o){return new sh(t,i,o)}_apply(t){const i=Zf(t,this.type,this._docOrFields,this._inclusive);return new ta(t.firestore,t.converter,(p=i,new Wo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class fg extends zh{constructor(t,i,o){super(),this.type=t,this._docOrFields=i,this._inclusive=o}static _create(t,i,o){return new fg(t,i,o)}_apply(t){const i=Zf(t,this.type,this._docOrFields,this._inclusive);return new ta(t.firestore,t.converter,(p=i,new Wo((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function Zf(c,t,i,o){if(i[0]=(0,dn.Ku)(i[0]),i[0]instanceof Qf)return function(p,_,S,N,K){if(!N)throw new ve(se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const he=[];for(const Pe of Ar(p))if(Pe.field.isKeyField())he.push(Eo(_,N.key));else{const ot=N.data.field(Pe.field);if(zo(ot))throw new ve(se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ot){const Ft=Pe.field.canonicalString();throw new ve(se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ft}' (used as the orderBy) does not exist.`)}he.push(ot)}return new j(he,K)}(c._query,c.firestore._databaseId,t,i[0]._document,o);{const u=Xc(c.firestore);return function(_,S,N,K,he,Pe){const ot=_.explicitOrderBy;if(he.length>ot.length)throw new ve(se.INVALID_ARGUMENT,`Too many arguments provided to ${K}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ft=[];for(let cn=0;cn<he.length;cn++){const yn=he[cn];if(ot[cn].field.isKeyField()){if("string"!=typeof yn)throw new ve(se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${K}(), but got a ${typeof yn}`);if(!gl(_)&&-1!==yn.indexOf("/"))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${K}() must be a plain document ID, but '${yn}' contains a slash.`);const ln=_.path.child(Er.fromString(yn));if(!Q.isDocumentKey(ln))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${K}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const nr=new Q(ln);Ft.push(Eo(S,nr))}else{const ln=Qm(N,K,yn);Ft.push(ln)}}return new j(Ft,Pe)}(c._query,c.firestore._databaseId,u,t,i,o)}}function pg(c,t,i){if("string"==typeof(i=(0,dn.Ku)(i))){if(""===i)throw new ve(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gl(t)&&-1!==i.indexOf("/"))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=t.path.child(Er.fromString(i));if(!Q.isDocumentKey(o))throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Eo(c,new Q(o))}if(i instanceof Ms)return Eo(c,i._key);throw new ve(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jp(i)}.`)}function iy(c,t){if(!Array.isArray(c)||0===c.length)throw new ve(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function sy(c,t){const i=function(u,p){for(const _ of u)for(const S of _.getFlattenedFilters())if(p.indexOf(S.op)>=0)return S.op;return null}(c.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new ve(se.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class Fu{convertValue(t,i="none"){switch(ii(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ro(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 10:return this.convertObject(t.mapValue,i);default:throw In()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const o={};return An(t,(u,p)=>{o[u]=this.convertValue(p,i)}),o}convertGeoPoint(t){return new Zd(Xr(t.latitude),Xr(t.longitude))}convertArray(t,i){return(t.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(t,i){switch(i){case"previous":const o=Fs(t);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(ds(t));default:return null}}convertTimestamp(t){const i=Cs(t);return new wr(i.seconds,i.nanos)}convertDocumentKey(t,i){const o=Er.fromString(t);Rn(Oc(o));const u=new Ti(o.get(1),o.get(3)),p=new Q(o.popFirst(5));return u.isEqual(i)||Lr(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function gg(c,t,i){let o;return o=c?i&&(i.merge||i.mergeFields)?c.toFirestore(t,i):c.toFirestore(t):t,o}class mI extends Fu{constructor(t){super(),this.firestore=t}convertBytes(t){return new gu(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ms(this.firestore,null,i)}}class oh{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vu extends Qf{constructor(t,i,o,u,p,_){super(t,i,o,u,_),this._firestore=t,this._firestoreImpl=t,this.metadata=p}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ep(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const o=this._document.data.field(Hh("DocumentSnapshot.get",t));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class ep extends Vu{data(t={}){return super.data(t)}}class Id{constructor(t,i,o,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new oh(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(o=>{t.call(i,new ep(this._firestore,this._userDataWriter,o.key,o,new oh(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ve(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(S=>({type:"added",doc:new ep(u._firestore,u._userDataWriter,S.doc.key,S.doc,new oh(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(S=>p||3!==S.type).map(S=>{const N=new ep(u._firestore,u._userDataWriter,S.doc.key,S.doc,new oh(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter);let K=-1,he=-1;return 0!==S.type&&(K=_.indexOf(S.doc.key),_=_.delete(S.doc.key)),1!==S.type&&(_=_.add(S.doc),he=_.indexOf(S.doc.key)),{type:vI(S.type),doc:N,oldIndex:K,newIndex:he}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function vI(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In()}}function n_(c,t){return c instanceof Vu&&t instanceof Vu?c._firestore===t._firestore&&c._key.isEqual(t._key)&&(null===c._document?null===t._document:c._document.isEqual(t._document))&&c._converter===t._converter:c instanceof Id&&t instanceof Id&&c._firestore===t._firestore&&tg(c.query,t.query)&&c.metadata.isEqual(t.metadata)&&c._snapshot.isEqual(t._snapshot)}class Td extends Fu{constructor(t){super(),this.firestore=t}convertBytes(t){return new gu(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ms(this.firestore,null,i)}}function Wh(c,t,i){c=Ei(c,Ms);const o=Ei(c.firestore,Ds),u=gg(c.converter,t,i);return tp(o,[Bh(Xc(o),"setDoc",c._key,u,null!==c.converter,i).toMutation(c._key,Gi.none())])}function ay(c,t,i,...o){c=Ei(c,Ms);const u=Ei(c.firestore,Ds),p=Xc(u);let _;return _="string"==typeof(t=(0,dn.Ku)(t))||t instanceof qc?Xf(p,"updateDoc",c._key,t,i,o):Xm(p,"updateDoc",c._key,t),tp(u,[_.toMutation(c._key,Gi.exists(!0))])}function TI(c,...t){var i,o,u;c=(0,dn.Ku)(c);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof t[_]||ng(t[_])||(p=t[_],_++);const S={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(ng(t[_])){const Pe=t[_];t[_]=null===(i=Pe.next)||void 0===i?void 0:i.bind(Pe),t[_+1]=null===(o=Pe.error)||void 0===o?void 0:o.bind(Pe),t[_+2]=null===(u=Pe.complete)||void 0===u?void 0:u.bind(Pe)}let N,K,he;if(c instanceof Ms)K=Ei(c.firestore,Ds),he=Vs(c._key.path),N={next:Pe=>{t[_]&&t[_](np(K,c,Pe))},error:t[_+1],complete:t[_+2]};else{const Pe=Ei(c,ta);K=Ei(Pe.firestore,Ds),he=Pe._query;const ot=new Td(K);N={next:Ft=>{t[_]&&t[_](new Id(K,ot,Pe,Ft))},error:t[_+1],complete:t[_+2]},Jm(c._query)}return function(ot,Ft,cn,yn){const ln=new yd(yn),nr=new Kd(Ft,ln,cn);return ot.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return Ff(yield Fh(ot),nr)})),()=>{ln.$a(),ot.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return Em(yield Fh(ot),nr)}))}}(Ns(K),he,S,N)}function tp(c,t){return function(o,u){const p=new ge;return o.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function Bp(c,t,i){return ku.apply(this,arguments)}(yield Fm(o),u,p)})),p.promise}(Ns(c),t)}function np(c,t,i){const o=i.docs.get(t._key),u=new Td(c);return new Vu(c,u,t._key,o,new oh(i.hasPendingWrites,i.fromCache),t.converter)}const yg={maxAttempts:5};class ly{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Xc(t)}set(t,i,o){this._verifyNotCommitted();const u=yu(t,this._firestore),p=gg(u.converter,i,o),_=Bh(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,Gi.none())),this}update(t,i,o,...u){this._verifyNotCommitted();const p=yu(t,this._firestore);let _;return _="string"==typeof(i=(0,dn.Ku)(i))||i instanceof qc?Xf(this._dataReader,"WriteBatch.update",p._key,i,o,u):Xm(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(_.toMutation(p._key,Gi.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=yu(t,this._firestore);return this._mutations=this._mutations.concat(new fo(i._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ve(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yu(c,t){if((c=(0,dn.Ku)(c)).firestore!==t)throw new ve(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class RI extends class{constructor(i,o){this._firestore=i,this._transaction=o,this._dataReader=Xc(i)}get(i){const o=yu(i,this._firestore),u=new mI(this._firestore);return this._transaction.lookup([o._key]).then(p=>{if(!p||1!==p.length)return In();const _=p[0];if(_.isFoundDocument())return new Qf(this._firestore,u,_.key,_,o.converter);if(_.isNoDocument())return new Qf(this._firestore,u,o._key,null,o.converter);throw In()})}set(i,o,u){const p=yu(i,this._firestore),_=gg(p.converter,o,u),S=Bh(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,S),this}update(i,o,u,...p){const _=yu(i,this._firestore);let S;return S="string"==typeof(o=(0,dn.Ku)(o))||o instanceof qc?Xf(this._dataReader,"Transaction.update",_._key,o,u,p):Xm(this._dataReader,"Transaction.update",_._key,o),this._transaction.update(_._key,S),this}delete(i){const o=yu(i,this._firestore);return this._transaction.delete(o._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=yu(t,this._firestore),o=new Td(this._firestore);return super.get(t).then(u=>new Vu(this._firestore,o,i._key,u._document,new oh(!1,!1),i.converter))}}function rp(c,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ve("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return t}function LI(){if(typeof Uint8Array>"u")throw new ve("unimplemented","Uint8Arrays are not available in this environment.")}function FI(){if(!function us(){return typeof atob<"u"}())throw new ve("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){oi=Zn.SDK_VERSION,(0,Zn._registerComponent)(new pr.uA("firestore",(o,{instanceIdentifier:u,options:p})=>{const _=o.getProvider("app").getImmediate(),S=new Ds(new _t(o.getProvider("auth-internal")),new Ii(o.getProvider("app-check-internal")),function(K,he){if(!Object.prototype.hasOwnProperty.apply(K.options,["projectId"]))throw new ve(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ti(K.options.projectId,he)}(_,u),_);return p=Object.assign({useFetchStreams:i},p),S._setSettings(p),S},"PUBLIC").setMultipleInstances(!0)),(0,Zn.registerVersion)(pi,"4.6.4",t),(0,Zn.registerVersion)(pi,"4.6.4","esm2017")}();class lh{constructor(t){this._delegate=t}static fromBase64String(t){return FI(),new lh(gu.fromBase64String(t))}static fromUint8Array(t){return LI(),new lh(gu.fromUint8Array(t))}toBase64(){return FI(),this._delegate.toBase64()}toUint8Array(){return LI(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function p_(c){return function Lw(c,t){if("object"!=typeof c||null===c)return!1;const i=c;for(const o of t)if(o in i&&"function"==typeof i[o])return!0;return!1}(c,["next","error","complete"])}class Fw{enableIndexedDbPersistence(t,i){return function _d(c,t){hI(c=Ei(c,Ds));const i=Ns(c);if(i._uninitializedComponentsProvider)throw new ve(se.FAILED_PRECONDITION,"SDK cache is already specified.");ui("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const o=c._freezeSettings(),u=new xh;return Qv(i,u,new kv(u,o.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function rg(c){hI(c=Ei(c,Ds));const t=Ns(c);if(t._uninitializedComponentsProvider)throw new ve(se.FAILED_PRECONDITION,"SDK cache is already specified.");ui("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=c._freezeSettings(),o=new xh;return Qv(t,o,new eI(o,i.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Yv(c){if(c._initialized&&!c._terminated)throw new ve(se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ge;return c._queue.enqueueAndForgetEvenWhileRestricted((0,Ot.A)(function*(){try{yield(i=(0,Ot.A)(function*(u){if(!qr.D())return Promise.resolve();const p=u+"main";yield qr.delete(p)}),function o(u){return i.apply(this,arguments)})(ur(c._databaseId,c._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class VI{constructor(t,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},t instanceof Ti||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&ui("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,o={}){!function zm(c,t,i,o={}){var u;const p=(c=Ei(c,vd))._getSettings(),_=`${t}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),c._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),o.mockUserToken){let S,N;if("string"==typeof o.mockUserToken)S=o.mockUserToken,N=Kn.MOCK_USER;else{S=(0,dn.Fy)(o.mockUserToken,null===(u=c._app)||void 0===u?void 0:u.options.projectId);const K=o.mockUserToken.sub||o.mockUserToken.user_id;if(!K)throw new ve(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new Kn(K)}c._authCredentials=new Ut(new De(S,N))}}(this._delegate,t,i,o)}enableNetwork(){return function Ew(c){return function bl(c){return c.asyncQueue.enqueue((0,Ot.A)(function*(){const t=yield Yp(c),i=yield Vv(c);return t.setNetworkEnabled(!0),function(u){const p=He(u);return p.M_.delete(0),fd(p)}(i)}))}(Ns(c=Ei(c,Ds)))}(this._delegate)}disableNetwork(){return function cI(c){return function Bm(c){return c.asyncQueue.enqueue((0,Ot.A)(function*(){const t=yield Yp(c),i=yield Vv(c);return t.setNetworkEnabled(!1),(o=(0,Ot.A)(function*(p){const _=He(p);_.M_.add(0),yield pd(_),_.N_.set("Offline")}),function u(p){return o.apply(this,arguments)})(i);var o}))}(Ns(c=Ei(c,Ds)))}(this._delegate)}enablePersistence(t){let i=!1,o=!1;return t&&(i=!!t.synchronizeTabs,o=!!t.experimentalForceOwningTab,zv("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Gm(c){return function(i){const o=new ge;return i.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return function QE(c,t){return jp.apply(this,arguments)}(yield Fm(i),o)})),o.promise}(Ns(c=Ei(c,Ds)))}(this._delegate)}onSnapshotsInSync(t){return function bw(c,t){return function Vh(c,t){const i=new yd(t);return c.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return u=yield Fh(c),p=i,He(u).z_.add(p),void p.next();var u,p})),()=>{i.$a(),c.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return u=yield Fh(c),p=i,void He(u).z_.delete(p);var u,p}))}}(Ns(c=Ei(c,Ds)),ng(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ve("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new op(this,Wv(this._delegate,t))}catch(i){throw Ha(i,"collection()","Firestore.collection()")}}doc(t){try{return new Xl(this,eg(this._delegate,t))}catch(i){throw Ha(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ss(this,function sI(c,t){if(c=Ei(c,vd),Zp("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ve(se.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ta(c,null,(o=t,new Wo(Er.emptyPath(),o)));var o}(this._delegate,t))}catch(i){throw Ha(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function ah(c,t,i){c=Ei(c,Ds);const o=Object.assign(Object.assign({},yg),i);return function(p){if(p.maxAttempts<1)throw new ve(se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function(p,_,S){const N=new ge;return p.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){const K=yield function Vm(c){return Yd(c).then(t=>t.datastore)}(p);new mw(p.asyncQueue,K,S,_,N).Xa()})),N.promise}(Ns(c),u=>t(new RI(c,u)),o)}(this._delegate,i=>t(new ip(this,i)))}batch(){return Ns(this._delegate),new sp(new ly(this._delegate,t=>tp(this._delegate,t)))}loadBundle(t){return function uI(c,t){const i=Ns(c=Ei(c,Ds)),o=new oI;return function Bv(c,t,i,o){const u=function(_,S){let N;return N="string"==typeof _?dc().encode(_):_,he=function(he,Pe){if(he instanceof Uint8Array)return qd(he,void 0);if(he instanceof ArrayBuffer)return qd(new Uint8Array(he),void 0);if(he instanceof ReadableStream)return he.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(N),new Lv(he,S);var he}(i,hu(t));c.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){!function pw(c,t,i){const o=He(c);var u;(u=(0,Ot.A)(function*(_,S,N){try{const K=yield S.getMetadata();if(yield function(cn,yn){const ln=He(cn),nr=Yn(yn.createTime);return ln.persistence.runTransaction("hasNewerBundle","readonly",dr=>ln.$r.getBundleMetadata(dr,yn.id)).then(dr=>!!dr&&dr.createTime.compareTo(nr)>=0)}(_.localStore,K))return yield S.close(),N._completeWith({taskState:"Success",documentsLoaded:(cn=K).totalDocuments,bytesLoaded:cn.totalBytes,totalDocuments:cn.totalDocuments,totalBytes:cn.totalBytes}),Promise.resolve(new Set);N._updateProgress(Lp(K));const he=new KE(K,_.localStore,S.serializer);let Pe=yield S.qa();for(;Pe;){const Ft=yield he._a(Pe);Ft&&N._updateProgress(Ft),Pe=yield S.qa()}const ot=yield he.complete();return yield Lu(_,ot.ca,void 0),yield function(cn,yn){const ln=He(cn);return ln.persistence.runTransaction("Save bundle","readwrite",nr=>ln.$r.saveBundleMetadata(nr,yn))}(_.localStore,K),N._completeWith(ot.progress),Promise.resolve(ot.ua)}catch(K){return ui("SyncEngine",`Loading bundle failed with ${K}`),N._failWith(K),Promise.resolve(new Set)}var cn}),function p(_,S,N){return u.apply(this,arguments)})(o,t,i).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Fm(c),u,o)}))}(i,c._databaseId,t,o),o}(this._delegate,t)}namedQuery(t){return function dI(c,t){return function $v(c,t){return c.asyncQueue.enqueue((0,Ot.A)(function*(){return function(o,u){const p=He(o);return p.persistence.runTransaction("Get named query","readonly",_=>p.$r.getNamedQuery(_,u))}(yield Lh(c),t)}))}(Ns(c=Ei(c,Ds)),t).then(i=>i?new ta(c,null,i.query):null)}(this._delegate,t).then(i=>i?new Ss(this,i):null)}}class dy extends Fu{constructor(t){super(),this.firestore=t}convertBytes(t){return new lh(new gu(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return Xl.forKey(i,this.firestore,null)}}class ip{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new dy(t)}get(t){const i=ch(t);return this._delegate.get(i).then(o=>new qh(this._firestore,new Vu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(t,i,o){const u=ch(t);return o?(rp("Transaction.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(t,i,o,...u){const p=ch(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,o,...u),this}delete(t){const i=ch(t);return this._delegate.delete(i),this}}class sp{constructor(t){this._delegate=t}set(t,i,o){const u=ch(t);return o?(rp("WriteBatch.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(t,i,o,...u){const p=ch(t);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,o,...u),this}delete(t){const i=ch(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class Cd{constructor(t,i,o){this._firestore=t,this._userDataWriter=i,this._delegate=o}fromFirestore(t,i){const o=new ep(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new vu(this._firestore,o),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const o=Cd.INSTANCES;let u=o.get(t);u||(u=new WeakMap,o.set(t,u));let p=u.get(i);return p||(p=new Cd(t,new dy(t),i),u.set(i,p)),p}}Cd.INSTANCES=new WeakMap;class Xl{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new dy(t)}static forPath(t,i,o){if(t.length%2!=0)throw new ve("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Xl(i,new Ms(i._delegate,o,new Q(t)))}static forKey(t,i,o){return new Xl(i,new Ms(i._delegate,o,t))}get id(){return this._delegate.id}get parent(){return new op(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new op(this.firestore,Wv(this._delegate,t))}catch(i){throw Ha(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,dn.Ku)(t))instanceof Ms&&qv(this._delegate,t)}set(t,i){i=rp("DocumentReference.set",i);try{return i?Wh(this._delegate,t,i):Wh(this._delegate,t)}catch(o){throw Ha(o,"setDoc()","DocumentReference.set()")}}update(t,i,...o){try{return 1===arguments.length?ay(this._delegate,t):ay(this._delegate,t,i,...o)}catch(u){throw Ha(u,"updateDoc()","DocumentReference.update()")}}delete(){return function i_(c){return tp(Ei(c.firestore,Ds),[new fo(c._key,Gi.none())])}(this._delegate)}onSnapshot(...t){const i=g_(t),o=m_(t,u=>new qh(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return TI(this._delegate,i,o)}get(t){let i;return i="cache"===t?.source?function _I(c){c=Ei(c,Ms);const t=Ei(c.firestore,Ds),i=Ns(t),o=new Td(t);return function Uv(c,t){const i=new ge;return c.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return(o=(0,Ot.A)(function*(p,_,S){try{const N=yield function(he,Pe){const ot=He(he);return ot.persistence.runTransaction("read document","readonly",Ft=>ot.localDocuments.getDocument(Ft,Pe))}(p,_);N.isFoundDocument()?S.resolve(N):N.isNoDocument()?S.resolve(null):S.reject(new ve(se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(N){const K=zd(N,`Failed to get document '${_} from cache`);S.reject(K)}}),function u(p,_,S){return o.apply(this,arguments)})(yield Lh(c),t,i);var o})),i.promise}(i,c._key).then(u=>new Vu(t,o,c._key,u,new oh(null!==u&&u.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===t?.source?function EI(c){c=Ei(c,Ms);const t=Ei(c.firestore,Ds);return Kf(Ns(t),c._key,{source:"server"}).then(i=>np(t,c,i))}(this._delegate):function r_(c){c=Ei(c,Ms);const t=Ei(c.firestore,Ds);return Kf(Ns(t),c._key).then(i=>np(t,c,i))}(this._delegate),i.then(o=>new qh(this.firestore,new Vu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(t){return new Xl(this.firestore,this._delegate.withConverter(t?Cd.getInstance(this.firestore,t):null))}}function Ha(c,t,i){return c.message=c.message.replace(t,i),c}function g_(c){for(const t of c)if("object"==typeof t&&!p_(t))return t;return{}}function m_(c,t){var i,o;let u;return u=p_(c[0])?c[0]:p_(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:p=>{u.next&&u.next(t(p))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class qh{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new Xl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return n_(this._delegate,t._delegate)}}class vu extends qh{data(t){const i=this._delegate.data(t);return this._delegate._converter||function Rt(c,t){c||In()}(void 0!==i),i}}class Ss{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new dy(t)}where(t,i,o){try{return new Ss(this.firestore,mu(this._delegate,function Yf(c,t,i){const o=t,u=Hh("where",c);return Gh._create(u,o,i)}(t,i,o)))}catch(u){throw Ha(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new Ss(this.firestore,mu(this._delegate,function e_(c,t="asc"){const i=t,o=Hh("orderBy",c);return hg._create(o,i)}(t,i)))}catch(o){throw Ha(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ss(this.firestore,mu(this._delegate,function ny(c){return jm("limit",c),ih._create("limit",c,"F")}(t)))}catch(i){throw Ha(i,"limit()","Query.limit()")}}limitToLast(t){try{return new Ss(this.firestore,mu(this._delegate,function t_(c){return jm("limitToLast",c),ih._create("limitToLast",c,"L")}(t)))}catch(i){throw Ha(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ss(this.firestore,mu(this._delegate,function ry(...c){return sh._create("startAt",c,!0)}(...t)))}catch(i){throw Ha(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ss(this.firestore,mu(this._delegate,function Kh(...c){return sh._create("startAfter",c,!1)}(...t)))}catch(i){throw Ha(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ss(this.firestore,mu(this._delegate,function gI(...c){return fg._create("endBefore",c,!1)}(...t)))}catch(i){throw Ha(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ss(this.firestore,mu(this._delegate,function Tw(...c){return fg._create("endAt",c,!0)}(...t)))}catch(i){throw Ha(i,"endAt()","Query.endAt()")}}isEqual(t){return tg(this._delegate,t._delegate)}get(t){let i;return i="cache"===t?.source?function mg(c){c=Ei(c,ta);const t=Ei(c.firestore,Ds),i=Ns(t),o=new Td(t);return function yw(c,t){const i=new ge;return c.asyncQueue.enqueueAndForget((0,Ot.A)(function*(){return(o=(0,Ot.A)(function*(p,_,S){try{const N=yield Ih(p,_,!0),K=new Tm(_,N.hs),he=K.da(N.documents),Pe=K.applyChanges(he,!1);S.resolve(Pe.snapshot)}catch(N){const K=zd(N,`Failed to execute query '${_} against cache`);S.reject(K)}}),function u(p,_,S){return o.apply(this,arguments)})(yield Lh(c),t,i);var o})),i.promise}(i,c._query).then(u=>new Id(t,o,c,u))}(this._delegate):"server"===t?.source?function Uu(c){c=Ei(c,ta);const t=Ei(c.firestore,Ds),i=Ns(t),o=new Td(t);return nI(i,c._query,{source:"server"}).then(u=>new Id(t,o,c,u))}(this._delegate):function II(c){c=Ei(c,ta);const t=Ei(c.firestore,Ds),i=Ns(t),o=new Td(t);return Jm(c._query),nI(i,c._query).then(u=>new Id(t,o,c,u))}(this._delegate),i.then(o=>new Eg(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...t){const i=g_(t),o=m_(t,u=>new Eg(this.firestore,new Id(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return TI(this._delegate,i,o)}withConverter(t){return new Ss(this.firestore,this._delegate.withConverter(t?Cd.getInstance(this.firestore,t):null))}}class Al{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new vu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Eg{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new Ss(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new vu(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new Al(this._firestore,i))}forEach(t,i){this._delegate.forEach(o=>{t.call(i,new vu(this._firestore,o))})}isEqual(t){return n_(this._delegate,t._delegate)}}class op extends Ss{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Xl(this.firestore,t):null}doc(t){try{return new Xl(this.firestore,void 0===t?eg(this._delegate):eg(this._delegate,t))}catch(i){throw Ha(i,"doc()","CollectionReference.doc()")}}add(t){return function s_(c,t){const i=Ei(c.firestore,Ds),o=eg(c),u=gg(c.converter,t);return tp(i,[Bh(Xc(c.firestore),"addDoc",o._key,u,null!==c.converter,{}).toMutation(o._key,Gi.exists(!1))]).then(()=>o)}(this._delegate,t).then(i=>new Xl(this.firestore,i))}isEqual(t){return qv(this._delegate,t._delegate)}withConverter(t){return new op(this.firestore,this._delegate.withConverter(t?Cd.getInstance(this.firestore,t):null))}}function ch(c){return Ei(c,Ms)}class y_{constructor(...t){this._delegate=new qc(...t)}static documentId(){return new y_(Mr.keyField().canonicalString())}isEqual(t){return(t=(0,dn.Ku)(t))instanceof qc&&this._delegate._internalPath.isEqual(t._internalPath)}}class Xh{constructor(t){this._delegate=t}static serverTimestamp(){const t=function MI(){return new eh("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Xh(t)}static delete(){const t=function PI(){return new ag("deleteField")}();return t._methodName="FieldValue.delete",new Xh(t)}static arrayUnion(...t){const i=function cy(...c){return new Wm("arrayUnion",c)}(...t);return i._methodName="FieldValue.arrayUnion",new Xh(i)}static arrayRemove(...t){const i=function c_(...c){return new cg("arrayRemove",c)}(...t);return i._methodName="FieldValue.arrayRemove",new Xh(i)}static increment(t){const i=function NI(c){return new qm("increment",c)}(t);return i._methodName="FieldValue.increment",new Xh(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const v_={Firestore:VI,GeoPoint:Zd,Timestamp:wr,Blob:lh,Transaction:ip,WriteBatch:sp,DocumentReference:Xl,DocumentSnapshot:qh,Query:Ss,QueryDocumentSnapshot:vu,QuerySnapshot:Eg,CollectionReference:op,FieldPath:y_,FieldValue:Xh,setLogLevel:function UI(c){!function ms(c){Xn.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};function Tg(c,t){return function Ig(c,t=Ne.E){return new $e.c(i=>{let o;return null!=t?t.schedule(()=>{o=c.onSnapshot({includeMetadataChanges:!0},i)}):o=c.onSnapshot({includeMetadataChanges:!0},i),()=>{o?.()}})}(c,t)}function fy(c,t){return Tg(c,t).pipe((0,st.T)(i=>({payload:i,type:"query"})))}!function Vw(c){(function __(c,t){c.INTERNAL.registerComponent(new pr.uA("firestore-compat",i=>{const o=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return t(o,u)},"PUBLIC").setServiceProps(Object.assign({},v_)))})(c,(t,i)=>new VI(t,i,new Fw)),c.registerVersion("@firebase/firestore-compat","0.3.33")}(zn.A);class uh{ref;afs;constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const o=this.ref.collection(t),{ref:u,query:p}=lp(o,i);return new my(u,p,this.afs)}snapshotChanges(){return function hy(c,t){return Tg(c,t).pipe((0,Ht.Z)(void 0),Hn(),(0,st.T)(i=>{const[o,u]=i;return u.exists?o?.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Te.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,st.T)(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return(0,Ke.H)(this.ref.get(t)).pipe(Te.U0)}}function Qh(c,t){return fy(c,t).pipe((0,Ht.Z)(void 0),Hn(),(0,st.T)(i=>{const[o,u]=i,p=u.payload.docChanges(),_=p.map(S=>({type:S.type,payload:S}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((S,N)=>{const K=p.find(Pe=>Pe.doc.ref.isEqual(S.ref)),he=o?.payload.docs.find(Pe=>Pe.ref.isEqual(S.ref));K&&JSON.stringify(K.doc.metadata)===JSON.stringify(S.metadata)||!K&&he&&JSON.stringify(he.metadata)===JSON.stringify(S.metadata)||_.push({type:"modified",payload:{oldIndex:N,newIndex:N,type:"modified",doc:S}})}),_}))}function py(c,t,i){return Qh(c,i).pipe((0,Kt.S)((o,u)=>function gy(c,t,i){return t.forEach(o=>{i.indexOf(o.type)>-1&&(c=function BI(c,t){switch(t.type){case"added":if(!c[t.newIndex]||!c[t.newIndex].doc.ref.isEqual(t.doc.ref))return Yh(c,t.newIndex,0,t);break;case"modified":if(null==c[t.oldIndex]||c[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=c.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return Yh(c,t.newIndex,1,t)}break;case"removed":if(c[t.oldIndex]&&c[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Yh(c,t.oldIndex,1)}return c}(c,o))}),c}(o,u.map(p=>p.payload),t),[]),(0,Bn.F)(),(0,st.T)(o=>o.map(u=>({type:u.type,payload:u}))))}function Yh(c,t,i,...o){const u=c.slice();return u.splice(t,i,...o),u}function E_(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}class my{ref;query;afs;constructor(t,i,o){this.ref=t,this.query=i,this.afs=o}stateChanges(t){let i=Qh(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,st.T)(o=>o.filter(u=>t.indexOf(u.type)>-1)))),i.pipe((0,Ht.Z)(void 0),Hn(),(0,mt.p)(([o,u])=>u.length>0||!o),(0,st.T)(([,o])=>o),Te.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Kt.S)((i,o)=>[...i,...o],[]))}snapshotChanges(t){const i=E_(t);return py(this.query,i,this.afs.schedulers.outsideAngular).pipe(Te.U0)}valueChanges(t={}){return fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(i=>i.payload.docs.map(o=>t.idField?{...o.data(),[t.idField]:o.id}:o.data())),Te.U0)}get(t){return(0,Ke.H)(this.query.get(t)).pipe(Te.U0)}add(t){return this.ref.add(t)}doc(t){return new uh(this.ref.doc(t),this.afs)}}class $I{query;afs;constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Qh(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(i=>i.filter(o=>t.indexOf(o.type)>-1)),(0,mt.p)(i=>i.length>0),Te.U0):Qh(this.query,this.afs.schedulers.outsideAngular).pipe(Te.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Kt.S)((i,o)=>[...i,...o],[]))}snapshotChanges(t){const i=E_(t);return py(this.query,i,this.afs.schedulers.outsideAngular).pipe(Te.U0)}valueChanges(t={}){return fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,st.T)(o=>o.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),Te.U0)}get(t){return(0,Ke.H)(this.query.get(t)).pipe(Te.U0)}}const I_=new U.nKC("angularfire2.enableFirestorePersistence"),yy=new U.nKC("angularfire2.firestore.persistenceSettings"),vy=new U.nKC("angularfire2.firestore.settings"),ap=new U.nKC("angularfire2.firestore.use-emulator");function lp(c,t=(i=>i)){return{query:t(c),ref:c}}let Cg=(()=>{class c{schedulers;firestore;persistenceEnabled$;constructor(i,o,u,p,_,S,N,K,he,Pe,ot,Ft,cn,yn,ln,nr,dr){this.schedulers=N;const Mn=(0,ie.iB)(i,S,o),br=he;Pe&&ae(Mn,S,ot,cn,yn,ln,Ft,nr),[this.firestore,this.persistenceEnabled$]=(0,ie.BM)(`${Mn.name}.firestore`,"AngularFirestore",Mn.name,()=>{const ni=S.runOutsideAngular(()=>Mn.firestore());if(p&&ni.settings(p),br&&ni.useEmulator(...br),u&&!(0,l.Vy)(_)){const ci=()=>{try{return(0,Ke.H)(ni.enablePersistence(K||void 0).then(()=>!0,()=>!1))}catch(At){return typeof console<"u"&&console.warn(At),(0,Oe.of)(!1)}};return[ni,S.runOutsideAngular(ci)]}return[ni,(0,Oe.of)(!1)]},[p,br,u])}collection(i,o){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:p,query:_}=lp(u,o),S=this.schedulers.ngZone.run(()=>p);return new my(S,_,this)}collectionGroup(i,o){const u=o||(_=>_),p=this.firestore.collectionGroup(i);return new $I(u(p),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>o);return new uh(u,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(o){return new(o||c)(U.KVO(ie.rx),U.KVO(ie.uP,8),U.KVO(I_,8),U.KVO(vy,8),U.KVO(U.Agw),U.KVO(U.SKi),U.KVO(Te.u0),U.KVO(yy,8),U.KVO(ap,8),U.KVO(be,8),U.KVO(It,8),U.KVO(rn,8),U.KVO(Qe,8),U.KVO(Ce,8),U.KVO(q,8),U.KVO(ne,8),U.KVO(Te.Jv,8))};static \u0275prov=U.jDH({token:c,factory:c.\u0275fac,providedIn:"any"})}return c})(),jI=(()=>{class c{constructor(){Ye.A.registerVersion("angularfire",Te.xv.full,"fst-compat")}static enablePersistence(i){return{ngModule:c,providers:[{provide:I_,useValue:!0},{provide:yy,useValue:i}]}}static \u0275fac=function(o){return new(o||c)};static \u0275mod=U.$C({type:c});static \u0275inj=U.G2t({providers:[Cg]})}return c})()},9253:(_n,vt,k)=>{"use strict";k.d(vt,{BM:()=>Ue,Gt:()=>me,bf:()=>je,e7:()=>Ae,iB:()=>Me,rx:()=>$e,uP:()=>Ke});var l=k(3953),U=k(1825),Te=k(7935);const ie=["ngOnDestroy"],me=(Ze,wt,yt,it={})=>new Proxy(Ze,{get:(Re,_e)=>yt.runOutsideAngular(()=>{if(Ze[_e])return it?.spy?.get&&it.spy.get(_e,Ze[_e]),Ze[_e];if(ie.indexOf(_e)>-1)return()=>{};const et=wt.toPromise().then(at=>{const ze=at?.[_e];return"function"==typeof ze?ze.bind(at):ze?.then?ze.then(Nt=>yt.run(()=>Nt)):yt.run(()=>ze)});return new Proxy(()=>{},{get:(at,ze)=>et[ze],apply:(at,ze,Nt)=>et.then(ke=>{const mt=ke?.(...Nt);return it?.spy?.apply&&it.spy.apply(_e,Nt,mt),mt})})})}),Ae=(Ze,wt)=>{wt.forEach(yt=>{Object.getOwnPropertyNames(yt.prototype||yt).forEach(it=>{Object.defineProperty(Ze.prototype,it,Object.getOwnPropertyDescriptor(yt.prototype||yt,it))})})};class Oe{constructor(wt){return wt}}const $e=new l.nKC("angularfire2.app.options"),Ke=new l.nKC("angularfire2.app.name");function Me(Ze,wt,yt){const Re="object"==typeof yt&&yt||{};Re.name=Re.name||"string"==typeof yt&&yt||"[DEFAULT]";const et=Te.A.apps.filter(at=>at&&at.name===Re.name)[0]||wt.runOutsideAngular(()=>Te.A.initializeApp(Ze,Re));try{if(JSON.stringify(Ze)!==JSON.stringify(et.options)){const at=!!module.hot;le("error",`${et.name} Firebase App already initialized with different options${at?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Oe(et)}const le=(Ze,...wt)=>{(0,l.naY)()&&typeof console<"u"&&console[Ze](...wt)},Be={provide:Oe,useFactory:Me,deps:[$e,l.SKi,[new l.Xx1,Ke]]};let je=(()=>{class Ze{static initializeApp(yt,it){return{ngModule:Ze,providers:[{provide:$e,useValue:yt},{provide:Ke,useValue:it}]}}constructor(yt){Te.A.registerVersion("angularfire",U.xv.full,"core"),Te.A.registerVersion("angularfire",U.xv.full,"app-compat"),Te.A.registerVersion("angular",l.xvI.full,yt.toString())}static \u0275fac=function(it){return new(it||Ze)(l.KVO(l.Agw))};static \u0275mod=l.$C({type:Ze});static \u0275inj=l.G2t({providers:[Be]})}return Ze})();function Ue(Ze,wt,yt,it,Re){const[,_e,et]=globalThis.\u0275AngularfireInstanceCache.find(at=>at[0]===Ze)||[];if(_e)return function ct(Ze,wt){try{return Ze.toString()===wt.toString()}catch{return Ze===wt}}(Re,et)||(st("error",`${wt} was already initialized on the ${yt} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),st("warn",{is:Re,was:et})),_e;{const at=it();return globalThis.\u0275AngularfireInstanceCache.push([Ze,at,Re]),at}}const ut=typeof module<"u"&&!!module.hot,st=(Ze,...wt)=>{(0,l.naY)()&&typeof console<"u"&&console[Ze](...wt)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(_n,vt,k)=>{"use strict";k.d(vt,{xv:()=>ct,U0:()=>Ye,Oe:()=>ke,u0:()=>et,Jv:()=>wt});var l=k(3953),U=k(7852);(0,U.registerVersion)("firebase","10.12.4","app");var me=k(6780),Oe=k(9687);const Ke=new class $e extends Oe.q{}(class Ae extends me.R{constructor(Ce,q){super(Ce,q),this.scheduler=Ce,this.work=q}schedule(Ce,q=0){return q>0?super.schedule(Ce,q):(this.delay=q,this.state=Ce,this.scheduler.flush(this),this)}execute(Ce,q){return q>0||this.closed?super.execute(Ce,q):this._execute(Ce,q)}requestAsyncId(Ce,q,ne=0){return null!=ne&&ne>0||null==ne&&this.delay>0?super.requestAsyncId(Ce,q,ne):(Ce.flush(this),0)}});var le=k(3236),Be=k(8141),je=k(941),Ue=k(6745);const ct=new l.RxE("ANGULARFIRE2_VERSION");class wt{constructor(){return((Qe,Ce)=>{const q=(0,U.getApps)(),ne=[];return q.forEach(ae=>{ae.container.getProvider(Qe).instances.forEach(Tt=>{ne.includes(Tt)||ne.push(Tt)})}),ne})(yt)}}const yt="app-check";function it(){}class Re{zone;delegate;constructor(Ce,q=Ke){this.zone=Ce,this.delegate=q}now(){return this.delegate.now()}schedule(Ce,q,ne){const ae=this.zone;return this.delegate.schedule(function(Tt){ae.runGuarded(()=>{Ce.apply(this,[Tt])})},q,ne)}}class _e{zone;task=null;constructor(Ce){this.zone=Ce}call(Ce,q){const ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",it,{},it,it)),q.pipe((0,Be.M)({next:ne,complete:ne,error:ne})).subscribe(Ce).add(ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let et=(()=>{class Qe{ngZone;outsideAngular;insideAngular;constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new Re(Zone.current)),this.insideAngular=q.run(()=>new Re(Zone.current,le.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(ne){return new(ne||Qe)(l.KVO(l.SKi))};static \u0275prov=l.jDH({token:Qe,factory:Qe.\u0275fac,providedIn:"root"})}return Qe})();function at(){const Qe=globalThis.\u0275AngularFireScheduler;if(!Qe)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Qe}function ke(Qe){return Qe.pipe((0,je.Q)(at().outsideAngular))}function Ye(Qe){return function Et(Qe){return function(q){return(q=q.lift(new _e(Qe.ngZone))).pipe((0,Ue._)(Qe.outsideAngular),(0,je.Q)(Qe.insideAngular))}}(at())(Qe)}},4341:(_n,vt,k)=>{"use strict";k.d(vt,{YN:()=>ir,zX:()=>zo,VZ:()=>ds,cz:()=>at,kq:()=>ut,vO:()=>pn,X1:()=>Io});var l=k(3953),Te=(k(177),k(8455)),ie=k(1985),me=k(3073),Ae=k(8750),Oe=k(3794),$e=k(4360),Ke=k(6450),Me=k(8496);k(1413);var je=k(6354);const ut=new l.nKC("");function _e(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}const at=new l.nKC("");function ne(H){return null}function ae(H){return null!=H}function be(H){return(0,l.jNT)(H)?(0,Te.H)(H):H}function Tt(H){let j={};return H.forEach(O=>{j=null!=O?{...j,...O}:j}),0===Object.keys(j).length?null:j}function Ne(H,j){return j.map(O=>O(H))}function an(H){return H.map(j=>function Ht(H){return!H.validate}(j)?j:O=>j.validate(O))}function Kt(H){return null!=H?function Hn(H){if(!H)return null;const j=H.filter(ae);return 0==j.length?null:function(O){return Tt(Ne(O,j))}}(an(H)):null}function zn(H){return null!=H?function Bn(H){if(!H)return null;const j=H.filter(ae);return 0==j.length?null:function(O){return function le(...H){const j=(0,Oe.ms)(H),{args:O,keys:pe}=(0,me.D)(H),nt=new ie.c(or=>{const{length:Fr}=O;if(!Fr)return void or.complete();const kn=new Array(Fr);let ti=Fr,zi=Fr;for(let Ra=0;Ra<Fr;Ra++){let Xa=!1;(0,Ae.Tg)(O[Ra]).subscribe((0,$e._)(or,ca=>{Xa||(Xa=!0,zi--),kn[Ra]=ca},()=>ti--,void 0,()=>{(!ti||!Xa)&&(zi||or.next(pe?(0,Me.e)(pe,kn):kn),or.complete())}))}});return j?nt.pipe((0,Ke.I)(j)):nt}(Ne(O,j).map(be)).pipe((0,je.T)(Tt))}}(an(H)):null}class kt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=Kt(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j=void 0){this.control&&this.control.reset(j)}hasError(j,O){return!!this.control&&this.control.hasError(j,O)}getError(j,O){return this.control?this.control.getError(j,O):null}}class pn extends kt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}const re=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>z}),z="always";Promise.resolve(),Promise.resolve();const de=new l.nKC("");function Cs(H){return"number"==typeof H?H:parseFloat(H)}let Xr=(()=>{class H{constructor(){this._validator=ne}ngOnChanges(O){if(this.inputName in O){const pe=this.normalizeInput(O[this.inputName].currentValue);this._enabled=this.enabled(pe),this._validator=this._enabled?this.createValidator(pe):ne,this._onChange&&this._onChange()}}validate(O){return this._validator(O)}registerOnValidatorChange(O){this._onChange=O}enabled(O){return null!=O}static#e=this.\u0275fac=function(pe){return new(pe||H)};static#t=this.\u0275dir=l.FsC({type:H,features:[l.OA$]})}return H})();const ro={provide:at,useExisting:(0,l.Rfq)(()=>zo),multi:!0};let zo=(()=>{class H extends Xr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=O=>Cs(O),this.createValidator=O=>function Ye(H){return j=>{if(_e(j.value)||_e(H))return null;const O=parseFloat(j.value);return!isNaN(O)&&O>H?{max:{max:H,actual:j.value}}:null}}(O)}static#e=this.\u0275fac=(()=>{let O;return function(nt){return(O||(O=l.xGo(H)))(nt||H)}})();static#t=this.\u0275dir=l.FsC({type:H,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(pe,nt){2&pe&&l.BMQ("max",nt._enabled?nt.max:null)},inputs:{max:"max"},features:[l.Jv_([ro]),l.Vt3]})}return H})();const Fs={provide:at,useExisting:(0,l.Rfq)(()=>ds),multi:!0};let ds=(()=>{class H extends Xr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=O=>Cs(O),this.createValidator=O=>function mt(H){return j=>{if(_e(j.value)||_e(H))return null;const O=parseFloat(j.value);return!isNaN(O)&&O<H?{min:{min:H,actual:j.value}}:null}}(O)}static#e=this.\u0275fac=(()=>{let O;return function(nt){return(O||(O=l.xGo(H)))(nt||H)}})();static#t=this.\u0275dir=l.FsC({type:H,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(pe,nt){2&pe&&l.BMQ("min",nt._enabled?nt.min:null)},inputs:{min:"min"},features:[l.Jv_([Fs]),l.Vt3]})}return H})(),Sa=(()=>{class H{static#e=this.\u0275fac=function(pe){return new(pe||H)};static#t=this.\u0275mod=l.$C({type:H});static#n=this.\u0275inj=l.G2t({})}return H})(),ir=(()=>{class H{static withConfig(O){return{ngModule:H,providers:[{provide:re,useValue:O.callSetDisabledState??z}]}}static#e=this.\u0275fac=function(pe){return new(pe||H)};static#t=this.\u0275mod=l.$C({type:H});static#n=this.\u0275inj=l.G2t({imports:[Sa]})}return H})(),Io=(()=>{class H{static withConfig(O){return{ngModule:H,providers:[{provide:de,useValue:O.warnOnNgModelWithFormControl??"always"},{provide:re,useValue:O.callSetDisabledState??z}]}}static#e=this.\u0275fac=function(pe){return new(pe||H)};static#t=this.\u0275mod=l.$C({type:H});static#n=this.\u0275inj=l.G2t({imports:[Sa]})}return H})()},345:(_n,vt,k)=>{"use strict";k.d(vt,{B7:()=>at,Bb:()=>Gn,hE:()=>zt,sG:()=>zn,up:()=>Kn});var l=k(177),U=k(3953);class Te extends l.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends Te{static makeCurrent(){(0,l.ZD)(new ie)}onAndCancel(He,se,ve){return He.addEventListener(se,ve),()=>{He.removeEventListener(se,ve)}}dispatchEvent(He,se){He.dispatchEvent(se)}remove(He){He.parentNode&&He.parentNode.removeChild(He)}createElement(He,se){return(se=se||this.getDefaultDocument()).createElement(He)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(He){return He.nodeType===Node.ELEMENT_NODE}isShadowRoot(He){return He instanceof DocumentFragment}getGlobalEventTarget(He,se){return"window"===se?window:"document"===se?He:"body"===se?He.body:null}getBaseHref(He){const se=function Ae(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==se?null:function Oe(Rt){return new URL(Rt,document.baseURI).pathname}(se)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(He){return(0,l._b)(document.cookie,He)}}let me=null,Ke=(()=>{class Rt{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(ve){return new(ve||Rt)};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();const Me=new U.nKC("");let le=(()=>{class Rt{constructor(se,ve){this._zone=ve,this._eventNameToPlugin=new Map,se.forEach(ge=>{ge.manager=this}),this._plugins=se.slice().reverse()}addEventListener(se,ve,ge){return this._findPluginFor(ve).addEventListener(se,ve,ge)}getZone(){return this._zone}_findPluginFor(se){let ve=this._eventNameToPlugin.get(se);if(ve)return ve;if(ve=this._plugins.find(De=>De.supports(se)),!ve)throw new U.wOt(5101,!1);return this._eventNameToPlugin.set(se,ve),ve}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(Me),U.KVO(U.SKi))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();class Be{constructor(He){this._doc=He}}const je="ng-app-id";let Ue=(()=>{class Rt{constructor(se,ve,ge,De={}){this.doc=se,this.appId=ve,this.nonce=ge,this.platformId=De,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,l.Vy)(De),this.resetHostNodes()}addStyles(se){for(const ve of se)1===this.changeUsageCount(ve,1)&&this.onStyleAdded(ve)}removeStyles(se){for(const ve of se)this.changeUsageCount(ve,-1)<=0&&this.onStyleRemoved(ve)}ngOnDestroy(){const se=this.styleNodesInDOM;se&&(se.forEach(ve=>ve.remove()),se.clear());for(const ve of this.getAllStyles())this.onStyleRemoved(ve);this.resetHostNodes()}addHost(se){this.hostNodes.add(se);for(const ve of this.getAllStyles())this.addStyleToHost(se,ve)}removeHost(se){this.hostNodes.delete(se)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(se){for(const ve of this.hostNodes)this.addStyleToHost(ve,se)}onStyleRemoved(se){const ve=this.styleRef;ve.get(se)?.elements?.forEach(ge=>ge.remove()),ve.delete(se)}collectServerRenderedStyles(){const se=this.doc.head?.querySelectorAll(`style[${je}="${this.appId}"]`);if(se?.length){const ve=new Map;return se.forEach(ge=>{null!=ge.textContent&&ve.set(ge.textContent,ge)}),ve}return null}changeUsageCount(se,ve){const ge=this.styleRef;if(ge.has(se)){const De=ge.get(se);return De.usage+=ve,De.usage}return ge.set(se,{usage:ve,elements:[]}),ve}getStyleElement(se,ve){const ge=this.styleNodesInDOM,De=ge?.get(ve);if(De?.parentNode===se)return ge.delete(ve),De.removeAttribute(je),De;{const qe=this.doc.createElement("style");return this.nonce&&qe.setAttribute("nonce",this.nonce),qe.textContent=ve,this.platformIsServer&&qe.setAttribute(je,this.appId),se.appendChild(qe),qe}}addStyleToHost(se,ve){const ge=this.getStyleElement(se,ve),De=this.styleRef,qe=De.get(ve)?.elements;qe?qe.push(ge):De.set(ve,{elements:[ge],usage:1})}resetHostNodes(){const se=this.hostNodes;se.clear(),se.add(this.doc.head)}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(l.qQ),U.KVO(U.sZ2),U.KVO(U.BIS,8),U.KVO(U.Agw))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ut=/%COMP%/g,it=new U.nKC("",{providedIn:"root",factory:()=>!0});function et(Rt,He){return He.map(se=>se.replace(ut,Rt))}let at=(()=>{class Rt{constructor(se,ve,ge,De,qe,Ut,_t,mn=null){this.eventManager=se,this.sharedStylesHost=ve,this.appId=ge,this.removeStylesOnCompDestroy=De,this.doc=qe,this.platformId=Ut,this.ngZone=_t,this.nonce=mn,this.rendererByCompId=new Map,this.platformIsServer=(0,l.Vy)(Ut),this.defaultRenderer=new ze(se,qe,_t,this.platformIsServer)}createRenderer(se,ve){if(!se||!ve)return this.defaultRenderer;this.platformIsServer&&ve.encapsulation===U.gXe.ShadowDom&&(ve={...ve,encapsulation:U.gXe.Emulated});const ge=this.getOrCreateRenderer(se,ve);return ge instanceof It?ge.applyToHost(se):ge instanceof Et&&ge.applyStyles(),ge}getOrCreateRenderer(se,ve){const ge=this.rendererByCompId;let De=ge.get(ve.id);if(!De){const qe=this.doc,Ut=this.ngZone,_t=this.eventManager,mn=this.sharedStylesHost,Nn=this.removeStylesOnCompDestroy,er=this.platformIsServer;switch(ve.encapsulation){case U.gXe.Emulated:De=new It(_t,mn,ve,this.appId,Nn,qe,Ut,er);break;case U.gXe.ShadowDom:return new Ye(_t,mn,se,ve,qe,Ut,this.nonce,er);default:De=new Et(_t,mn,ve,Nn,qe,Ut,er)}ge.set(ve.id,De)}return De}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(le),U.KVO(Ue),U.KVO(U.sZ2),U.KVO(it),U.KVO(l.qQ),U.KVO(U.Agw),U.KVO(U.SKi),U.KVO(U.BIS))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();class ze{constructor(He,se,ve,ge){this.eventManager=He,this.doc=se,this.ngZone=ve,this.platformIsServer=ge,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(He,se){return se?this.doc.createElementNS(ct[se]||se,He):this.doc.createElement(He)}createComment(He){return this.doc.createComment(He)}createText(He){return this.doc.createTextNode(He)}appendChild(He,se){(mt(He)?He.content:He).appendChild(se)}insertBefore(He,se,ve){He&&(mt(He)?He.content:He).insertBefore(se,ve)}removeChild(He,se){He&&He.removeChild(se)}selectRootElement(He,se){let ve="string"==typeof He?this.doc.querySelector(He):He;if(!ve)throw new U.wOt(-5104,!1);return se||(ve.textContent=""),ve}parentNode(He){return He.parentNode}nextSibling(He){return He.nextSibling}setAttribute(He,se,ve,ge){if(ge){se=ge+":"+se;const De=ct[ge];De?He.setAttributeNS(De,se,ve):He.setAttribute(se,ve)}else He.setAttribute(se,ve)}removeAttribute(He,se,ve){if(ve){const ge=ct[ve];ge?He.removeAttributeNS(ge,se):He.removeAttribute(`${ve}:${se}`)}else He.removeAttribute(se)}addClass(He,se){He.classList.add(se)}removeClass(He,se){He.classList.remove(se)}setStyle(He,se,ve,ge){ge&(U.czy.DashCase|U.czy.Important)?He.style.setProperty(se,ve,ge&U.czy.Important?"important":""):He.style[se]=ve}removeStyle(He,se,ve){ve&U.czy.DashCase?He.style.removeProperty(se):He.style[se]=""}setProperty(He,se,ve){null!=He&&(He[se]=ve)}setValue(He,se){He.nodeValue=se}listen(He,se,ve){if("string"==typeof He&&!(He=(0,l.QT)().getGlobalEventTarget(this.doc,He)))throw new Error(`Unsupported event target ${He} for event ${se}`);return this.eventManager.addEventListener(He,se,this.decoratePreventDefault(ve))}decoratePreventDefault(He){return se=>{if("__ngUnwrap__"===se)return He;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>He(se)):He(se))&&se.preventDefault()}}}function mt(Rt){return"TEMPLATE"===Rt.tagName&&void 0!==Rt.content}class Ye extends ze{constructor(He,se,ve,ge,De,qe,Ut,_t){super(He,De,qe,_t),this.sharedStylesHost=se,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=et(ge.id,ge.styles);for(const Nn of mn){const er=document.createElement("style");Ut&&er.setAttribute("nonce",Ut),er.textContent=Nn,this.shadowRoot.appendChild(er)}}nodeOrShadowRoot(He){return He===this.hostEl?this.shadowRoot:He}appendChild(He,se){return super.appendChild(this.nodeOrShadowRoot(He),se)}insertBefore(He,se,ve){return super.insertBefore(this.nodeOrShadowRoot(He),se,ve)}removeChild(He,se){return super.removeChild(this.nodeOrShadowRoot(He),se)}parentNode(He){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(He)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Et extends ze{constructor(He,se,ve,ge,De,qe,Ut,_t){super(He,De,qe,Ut),this.sharedStylesHost=se,this.removeStylesOnCompDestroy=ge,this.styles=_t?et(_t,ve.styles):ve.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class It extends Et{constructor(He,se,ve,ge,De,qe,Ut,_t){const mn=ge+"-"+ve.id;super(He,se,ve,De,qe,Ut,_t,mn),this.contentAttr=function Re(Rt){return"_ngcontent-%COMP%".replace(ut,Rt)}(mn),this.hostAttr=function _e(Rt){return"_nghost-%COMP%".replace(ut,Rt)}(mn)}applyToHost(He){this.applyStyles(),this.setAttribute(He,this.hostAttr,"")}createElement(He,se){const ve=super.createElement(He,se);return super.setAttribute(ve,this.contentAttr,""),ve}}let rn=(()=>{class Rt extends Be{constructor(se){super(se)}supports(se){return!0}addEventListener(se,ve,ge){return se.addEventListener(ve,ge,!1),()=>this.removeEventListener(se,ve,ge)}removeEventListener(se,ve,ge){return se.removeEventListener(ve,ge)}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(l.qQ))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})(),Qe=(()=>{class Rt extends Be{constructor(se){super(se),this.delegate=(0,U.WQX)(U.zAP,{optional:!0})}supports(se){return!!this.delegate&&this.delegate.supports(se)}addEventListener(se,ve,ge){return this.delegate.addEventListener(se,ve,ge)}removeEventListener(se,ve,ge){return this.delegate.removeEventListener(se,ve,ge)}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(l.qQ))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();const Ce=["alt","control","meta","shift"],q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ne={alt:Rt=>Rt.altKey,control:Rt=>Rt.ctrlKey,meta:Rt=>Rt.metaKey,shift:Rt=>Rt.shiftKey};let ae=(()=>{class Rt extends Be{constructor(se){super(se)}supports(se){return null!=Rt.parseEventName(se)}addEventListener(se,ve,ge){const De=Rt.parseEventName(ve),qe=Rt.eventCallback(De.fullKey,ge,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.QT)().onAndCancel(se,De.domEventName,qe))}static parseEventName(se){const ve=se.toLowerCase().split("."),ge=ve.shift();if(0===ve.length||"keydown"!==ge&&"keyup"!==ge)return null;const De=Rt._normalizeKey(ve.pop());let qe="",Ut=ve.indexOf("code");if(Ut>-1&&(ve.splice(Ut,1),qe="code."),Ce.forEach(mn=>{const Nn=ve.indexOf(mn);Nn>-1&&(ve.splice(Nn,1),qe+=mn+".")}),qe+=De,0!=ve.length||0===De.length)return null;const _t={};return _t.domEventName=ge,_t.fullKey=qe,_t}static matchEventFullKeyCode(se,ve){let ge=q[se.key]||se.key,De="";return ve.indexOf("code.")>-1&&(ge=se.code,De="code."),!(null==ge||!ge)&&(ge=ge.toLowerCase()," "===ge?ge="space":"."===ge&&(ge="dot"),Ce.forEach(qe=>{qe!==ge&&(0,ne[qe])(se)&&(De+=qe+".")}),De+=ge,De===ve)}static eventCallback(se,ve,ge){return De=>{Rt.matchEventFullKeyCode(De,se)&&ge.runGuarded(()=>ve(De))}}static _normalizeKey(se){return"esc"===se?"escape":se}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(l.qQ))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac})}return Rt})();const zn=(0,U.oH4)(U.fpN,"browser",[{provide:U.Agw,useValue:l.AJ},{provide:U.PLl,useValue:function an(){ie.makeCurrent()},multi:!0},{provide:l.qQ,useFactory:function Kt(){return(0,U.TL$)(document),document},deps:[]}]),Ot=new U.nKC(""),Zn=[{provide:U.e01,useClass:class $e{addToWindow(He){U.JZv.getAngularTestability=(ve,ge=!0)=>{const De=He.findTestabilityInTree(ve,ge);if(null==De)throw new U.wOt(5103,!1);return De},U.JZv.getAllAngularTestabilities=()=>He.getAllTestabilities(),U.JZv.getAllAngularRootElements=()=>He.getAllRootElements(),U.JZv.frameworkStabilizers||(U.JZv.frameworkStabilizers=[]),U.JZv.frameworkStabilizers.push(ve=>{const ge=U.JZv.getAllAngularTestabilities();let De=ge.length;const qe=function(){De--,0==De&&ve()};ge.forEach(Ut=>{Ut.whenStable(qe)})})}findTestabilityInTree(He,se,ve){return null==se?null:He.getTestability(se)??(ve?(0,l.QT)().isShadowRoot(se)?this.findTestabilityInTree(He,se.host,!0):this.findTestabilityInTree(He,se.parentElement,!0):null)}},deps:[]},{provide:U.WHO,useClass:U.NYb,deps:[U.SKi,U.giA,U.e01]},{provide:U.NYb,useClass:U.NYb,deps:[U.SKi,U.giA,U.e01]}],pr=[{provide:U.H8p,useValue:"root"},{provide:U.zcH,useFactory:function Hn(){return new U.zcH},deps:[]},{provide:Me,useClass:rn,multi:!0,deps:[l.qQ,U.SKi,U.Agw]},{provide:Me,useClass:ae,multi:!0,deps:[l.qQ]},{provide:Me,useClass:Qe,multi:!0},at,Ue,le,{provide:U._9s,useExisting:at},{provide:l.N0,useClass:Ke,deps:[]},[]];let Gn=(()=>{class Rt{constructor(se){}static withServerTransition(se){return{ngModule:Rt,providers:[{provide:U.sZ2,useValue:se.appId}]}}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(Ot,12))};static#t=this.\u0275mod=U.$C({type:Rt});static#n=this.\u0275inj=U.G2t({providers:[...pr,...Zn],imports:[l.MD,U.Hbi]})}return Rt})(),zt=(()=>{class Rt{constructor(se){this._doc=se}getTitle(){return this._doc.title}setTitle(se){this._doc.title=se||""}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(l.qQ))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})(),Kn=(()=>{class Rt{static#e=this.\u0275fac=function(ve){return new(ve||Rt)};static#t=this.\u0275prov=U.jDH({token:Rt,factory:function(ve){let ge=null;return ge=ve?new(ve||Rt):U.KVO(oi),ge},providedIn:"root"})}return Rt})(),oi=(()=>{class Rt extends Kn{constructor(se){super(),this._doc=se}sanitize(se,ve){if(null==ve)return null;switch(se){case U.WPN.NONE:return ve;case U.WPN.HTML:return(0,U.ZF7)(ve,"HTML")?(0,U.rcV)(ve):(0,U.h9k)(this._doc,String(ve)).toString();case U.WPN.STYLE:return(0,U.ZF7)(ve,"Style")?(0,U.rcV)(ve):ve;case U.WPN.SCRIPT:if((0,U.ZF7)(ve,"Script"))return(0,U.rcV)(ve);throw new U.wOt(5200,!1);case U.WPN.URL:return(0,U.ZF7)(ve,"URL")?(0,U.rcV)(ve):(0,U.$MX)(String(ve));case U.WPN.RESOURCE_URL:if((0,U.ZF7)(ve,"ResourceURL"))return(0,U.rcV)(ve);throw new U.wOt(5201,!1);default:throw new U.wOt(5202,!1)}}bypassSecurityTrustHtml(se){return(0,U.Kcf)(se)}bypassSecurityTrustStyle(se){return(0,U.cWb)(se)}bypassSecurityTrustScript(se){return(0,U.UyX)(se)}bypassSecurityTrustUrl(se){return(0,U.osQ)(se)}bypassSecurityTrustResourceUrl(se){return(0,U.e5t)(se)}static#e=this.\u0275fac=function(ve){return new(ve||Rt)(U.KVO(l.qQ))};static#t=this.\u0275prov=U.jDH({token:Rt,factory:Rt.\u0275fac,providedIn:"root"})}return Rt})()},4964:(_n,vt,k)=>{"use strict";k.d(vt,{nX:()=>tn,Zp:()=>$i,Z:()=>bt,Xk:()=>Kt,Kp:()=>Pd,b:()=>sn,Ix:()=>Oi,Wk:()=>Gs,iI:()=>ma,Sd:()=>Xn});var l=k(3953),U=k(1985),Te=k(8071),me=k(8455),Ae=k(7673),Oe=k(4412),$e=k(4572),Ke=k(9350),Me=k(8793),le=k(8750);function Be(C){return new U.c(P=>{(0,le.Tg)(C()).subscribe(P)})}var je=k(1203);function Ue(C,P){const b=(0,Te.T)(C)?C:()=>C,M=W=>W.error(b());return new U.c(P?W=>P.schedule(M,0,W):M)}var ct=k(983),ut=k(8359),st=k(9974),Ze=k(4360);function wt(){return(0,st.N)((C,P)=>{let b=null;C._refCount++;const M=(0,Ze._)(P,void 0,void 0,void 0,()=>{if(!C||C._refCount<=0||0<--C._refCount)return void(b=null);const W=C._connection,fe=b;b=null,W&&(!fe||W===fe)&&W.unsubscribe(),P.unsubscribe()});C.subscribe(M),M.closed||(b=C.connect())})}class yt extends U.c{constructor(P,b){super(),this.source=P,this.subjectFactory=b,this._subject=null,this._refCount=0,this._connection=null,(0,st.S)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,P?.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new ut.yU;const b=this.getSubject();P.add(this.source.subscribe((0,Ze._)(b,void 0,()=>{this._teardown(),b.complete()},M=>{this._teardown(),b.error(M)},()=>this._teardown()))),P.closed&&(this._connection=null,P=ut.yU.EMPTY)}return P}refCount(){return wt()(this)}}var it=k(1413),Re=k(177),_e=k(6354),et=k(5558),at=k(6697),ze=k(9172),Nt=k(5964),ke=k(1397),mt=k(1594);function Ye(C,P){return(0,Te.T)(P)?(0,ke.Z)(C,P,1):(0,ke.Z)(C,1)}var Et=k(8141);function It(C){return(0,st.N)((P,b)=>{let fe,M=null,W=!1;M=P.subscribe((0,Ze._)(b,void 0,void 0,Fe=>{fe=(0,le.Tg)(C(Fe,It(C)(P))),M?(M.unsubscribe(),M=null,fe.subscribe(b)):W=!0})),W&&(M.unsubscribe(),M=null,fe.subscribe(b))})}var rn=k(2816),Qe=k(9901);function Ce(C){return C<=0?()=>ct.w:(0,st.N)((P,b)=>{let M=[];P.subscribe((0,Ze._)(b,W=>{M.push(W),C<M.length&&M.shift()},()=>{for(const W of M)b.next(W);b.complete()},void 0,()=>{M=null}))})}var q=k(3774),ne=k(3669);function Tt(C){return(0,st.N)((P,b)=>{try{P.subscribe(b)}finally{b.add(C)}})}var Ne=k(5343),an=k(6365),Hn=k(345);const Kt="primary",Bn=Symbol("RouteTitle");class zn{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const b=this.params[P];return Array.isArray(b)?b[0]:b}return null}getAll(P){if(this.has(P)){const b=this.params[P];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function Ot(C){return new zn(C)}function Zn(C,P,b){const M=b.path.split("/");if(M.length>C.length||"full"===b.pathMatch&&(P.hasChildren()||M.length<C.length))return null;const W={};for(let fe=0;fe<M.length;fe++){const Fe=M[fe],$t=C[fe];if(":"===Fe[0])W[Fe.substring(1)]=$t;else if(Fe!==$t.path)return null}return{consumed:C.slice(0,M.length),posParams:W}}function Gn(C,P){const b=C?dn(C):void 0,M=P?dn(P):void 0;if(!b||!M||b.length!=M.length)return!1;let W;for(let fe=0;fe<b.length;fe++)if(W=b[fe],!On(C[W],P[W]))return!1;return!0}function dn(C){return[...Object.keys(C),...Object.getOwnPropertySymbols(C)]}function On(C,P){if(Array.isArray(C)&&Array.isArray(P)){if(C.length!==P.length)return!1;const b=[...C].sort(),M=[...P].sort();return b.every((W,fe)=>M[fe]===W)}return C===P}function zt(C){return C.length>0?C[C.length-1]:null}function kt(C){return function ie(C){return!!C&&(C instanceof U.c||(0,Te.T)(C.lift)&&(0,Te.T)(C.subscribe))}(C)?C:(0,l.jNT)(C)?(0,me.H)(Promise.resolve(C)):(0,Ae.of)(C)}const Bt={exact:function gr(C,P,b){if(!Kn(C.segments,P.segments)||!Sr(C.segments,P.segments,b)||C.numberOfChildren!==P.numberOfChildren)return!1;for(const M in P.children)if(!C.children[M]||!gr(C.children[M],P.children[M],b))return!1;return!0},subset:qt},pn={exact:function ri(C,P){return Gn(C,P)},subset:function Sn(C,P){return Object.keys(P).length<=Object.keys(C).length&&Object.keys(P).every(b=>On(C[b],P[b]))},ignored:()=>!0};function Un(C,P,b){return Bt[b.paths](C.root,P.root,b.matrixParams)&&pn[b.queryParams](C.queryParams,P.queryParams)&&!("exact"===b.fragment&&C.fragment!==P.fragment)}function qt(C,P,b){return Pr(C,P,P.segments,b)}function Pr(C,P,b,M){if(C.segments.length>b.length){const W=C.segments.slice(0,b.length);return!(!Kn(W,b)||P.hasChildren()||!Sr(W,b,M))}if(C.segments.length===b.length){if(!Kn(C.segments,b)||!Sr(C.segments,b,M))return!1;for(const W in P.children)if(!C.children[W]||!qt(C.children[W],P.children[W],M))return!1;return!0}{const W=b.slice(0,C.segments.length),fe=b.slice(C.segments.length);return!!(Kn(C.segments,W)&&Sr(C.segments,W,M)&&C.children[Kt])&&Pr(C.children[Kt],P,fe,M)}}function Sr(C,P,b){return P.every((M,W)=>pn[b](C[W].parameters,M.parameters))}class qn{constructor(P=new Jn([],{}),b={},M=null){this.root=P,this.queryParams=b,this.fragment=M}get queryParamMap(){return this._queryParamMap??=Ot(this.queryParams),this._queryParamMap}toString(){return ms.serialize(this)}}class Jn{constructor(P,b){this.segments=P,this.children=b,this.parent=null,Object.values(b).forEach(M=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xt(this)}}class Ir{constructor(P,b){this.path=P,this.parameters=b}get parameterMap(){return this._parameterMap??=Ot(this.parameters),this._parameterMap}toString(){return se(this)}}function Kn(C,P){return C.length===P.length&&C.every((b,M)=>b.path===P[M].path)}let Xn=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:()=>new cr,providedIn:"root"})}return C})();class cr{parse(P){const b=new ai(P);return new qn(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(P){const b=`/${Lr(P.root,!0)}`,M=function ge(C){const P=Object.entries(C).map(([b,M])=>Array.isArray(M)?M.map(W=>`${Di(b)}=${Di(W)}`).join("&"):`${Di(b)}=${Di(M)}`).filter(b=>b);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${b}${M}${"string"==typeof P.fragment?`#${function In(C){return encodeURI(C)}(P.fragment)}`:""}`}}const ms=new cr;function Xt(C){return C.segments.map(P=>se(P)).join("/")}function Lr(C,P){if(!C.hasChildren())return Xt(C);if(P){const b=C.children[Kt]?Lr(C.children[Kt],!1):"",M=[];return Object.entries(C.children).forEach(([W,fe])=>{W!==Kt&&M.push(`${W}:${Lr(fe,!1)}`)}),M.length>0?`${b}(${M.join("//")})`:b}{const b=function oi(C,P){let b=[];return Object.entries(C.children).forEach(([M,W])=>{M===Kt&&(b=b.concat(P(W,M)))}),Object.entries(C.children).forEach(([M,W])=>{M!==Kt&&(b=b.concat(P(W,M)))}),b}(C,(M,W)=>W===Kt?[Lr(C.children[Kt],!1)]:[`${W}:${Lr(M,!1)}`]);return 1===Object.keys(C.children).length&&null!=C.children[Kt]?`${Xt(C)}/${b[0]}`:`${Xt(C)}/(${b.join("//")})`}}function ui(C){return encodeURIComponent(C).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Di(C){return ui(C).replace(/%3B/gi,";")}function Rn(C){return ui(C).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rt(C){return decodeURIComponent(C)}function He(C){return Rt(C.replace(/\+/g,"%20"))}function se(C){return`${Rn(C.path)}${function ve(C){return Object.entries(C).map(([P,b])=>`;${Rn(P)}=${Rn(b)}`).join("")}(C.parameters)}`}const De=/^[^\/()?;#]+/;function qe(C){const P=C.match(De);return P?P[0]:""}const Ut=/^[^\/()?;=#]+/,mn=/^[^=?&#]+/,er=/^[^&#]+/;class ai{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(P.length>0||Object.keys(b).length>0)&&(M[Kt]=new Jn(P,b)),M}parseSegment(){const P=qe(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(P),new Ir(Rt(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const b=function _t(C){const P=C.match(Ut);return P?P[0]:""}(this.remaining);if(!b)return;this.capture(b);let M="";if(this.consumeOptional("=")){const W=qe(this.remaining);W&&(M=W,this.capture(M))}P[Rt(b)]=Rt(M)}parseQueryParam(P){const b=function Nn(C){const P=C.match(mn);return P?P[0]:""}(this.remaining);if(!b)return;this.capture(b);let M="";if(this.consumeOptional("=")){const Fe=function Ii(C){const P=C.match(er);return P?P[0]:""}(this.remaining);Fe&&(M=Fe,this.capture(M))}const W=He(b),fe=He(M);if(P.hasOwnProperty(W)){let Fe=P[W];Array.isArray(Fe)||(Fe=[Fe],P[W]=Fe),Fe.push(fe)}else P[W]=fe}parseParens(P){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=qe(this.remaining),W=this.remaining[M.length];if("/"!==W&&")"!==W&&";"!==W)throw new l.wOt(4010,!1);let fe;M.indexOf(":")>-1?(fe=M.slice(0,M.indexOf(":")),this.capture(fe),this.capture(":")):P&&(fe=Kt);const Fe=this.parseChildren();b[fe]=1===Object.keys(Fe).length?Fe[Kt]:new Jn([],Fe),this.consumeOptional("//")}return b}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new l.wOt(4011,!1)}}function zr(C){return C.segments.length>0?new Jn([],{[Kt]:C}):C}function _r(C){const P={};for(const[M,W]of Object.entries(C.children)){const fe=_r(W);if(M===Kt&&0===fe.segments.length&&fe.hasChildren())for(const[Fe,$t]of Object.entries(fe.children))P[Fe]=$t;else(fe.segments.length>0||fe.hasChildren())&&(P[M]=fe)}return function fn(C){if(1===C.numberOfChildren&&C.children[Kt]){const P=C.children[Kt];return new Jn(C.segments.concat(P.segments),P.children)}return C}(new Jn(C.segments,P))}function ei(C){return C instanceof qn}function wr(C){let P;const W=zr(function b(fe){const Fe={};for(const Dt of fe.children){const Dn=b(Dt);Fe[Dt.outlet]=Dn}const $t=new Jn(fe.url,Fe);return fe===C&&(P=$t),$t}(C.root));return P??W}function xn(C,P,b,M){let W=C;for(;W.parent;)W=W.parent;if(0===P.length)return Is(W,W,W,b,M);const fe=function re(C){if("string"==typeof C[0]&&1===C.length&&"/"===C[0])return new Q(!0,0,C);let P=0,b=!1;const M=C.reduce((W,fe,Fe)=>{if("object"==typeof fe&&null!=fe){if(fe.outlets){const $t={};return Object.entries(fe.outlets).forEach(([Dt,Dn])=>{$t[Dt]="string"==typeof Dn?Dn.split("/"):Dn}),[...W,{outlets:$t}]}if(fe.segmentPath)return[...W,fe.segmentPath]}return"string"!=typeof fe?[...W,fe]:0===Fe?(fe.split("/").forEach(($t,Dt)=>{0==Dt&&"."===$t||(0==Dt&&""===$t?b=!0:".."===$t?P++:""!=$t&&W.push($t))}),W):[...W,fe]},[]);return new Q(b,P,M)}(P);if(fe.toRoot())return Is(W,W,new Jn([],{}),b,M);const Fe=function ce(C,P,b){if(C.isAbsolute)return new z(P,!0,0);if(!b)return new z(P,!1,NaN);if(null===b.parent)return new z(b,!0,0);const M=Si(C.commands[0])?0:1;return function Ge(C,P,b){let M=C,W=P,fe=b;for(;fe>W;){if(fe-=W,M=M.parent,!M)throw new l.wOt(4005,!1);W=M.segments.length}return new z(M,!1,W-fe)}(b,b.segments.length-1+M,C.numberOfDoubleDots)}(fe,W,C),$t=Fe.processChildren?Vt(Fe.segmentGroup,Fe.index,fe.commands):dt(Fe.segmentGroup,Fe.index,fe.commands);return Is(W,Fe.segmentGroup,$t,b,M)}function Si(C){return"object"==typeof C&&null!=C&&!C.outlets&&!C.segmentPath}function Er(C){return"object"==typeof C&&null!=C&&C.outlets}function Is(C,P,b,M,W){let Fe,fe={};M&&Object.entries(M).forEach(([Dt,Dn])=>{fe[Dt]=Array.isArray(Dn)?Dn.map(Yn=>`${Yn}`):`${Dn}`}),Fe=C===P?b:Mr(C,P,b);const $t=zr(_r(Fe));return new qn($t,fe,W)}function Mr(C,P,b){const M={};return Object.entries(C.children).forEach(([W,fe])=>{M[W]=fe===P?b:Mr(fe,P,b)}),new Jn(C.segments,M)}class Q{constructor(P,b,M){if(this.isAbsolute=P,this.numberOfDoubleDots=b,this.commands=M,P&&M.length>0&&Si(M[0]))throw new l.wOt(4003,!1);const W=M.find(Er);if(W&&W!==zt(M))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class z{constructor(P,b,M){this.segmentGroup=P,this.processChildren=b,this.index=M}}function dt(C,P,b){if(C??=new Jn([],{}),0===C.segments.length&&C.hasChildren())return Vt(C,P,b);const M=function En(C,P,b){let M=0,W=P;const fe={match:!1,pathIndex:0,commandIndex:0};for(;W<C.segments.length;){if(M>=b.length)return fe;const Fe=C.segments[W],$t=b[M];if(Er($t))break;const Dt=`${$t}`,Dn=M<b.length-1?b[M+1]:null;if(W>0&&void 0===Dt)break;if(Dt&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!Ur(Dt,Dn,Fe))return fe;M+=2}else{if(!Ur(Dt,{},Fe))return fe;M++}W++}return{match:!0,pathIndex:W,commandIndex:M}}(C,P,b),W=b.slice(M.commandIndex);if(M.match&&M.pathIndex<C.segments.length){const fe=new Jn(C.segments.slice(0,M.pathIndex),{});return fe.children[Kt]=new Jn(C.segments.slice(M.pathIndex),C.children),Vt(fe,0,W)}return M.match&&0===W.length?new Jn(C.segments,{}):M.match&&!C.hasChildren()?Fn(C,P,b):M.match?Vt(C,0,W):Fn(C,P,b)}function Vt(C,P,b){if(0===b.length)return new Jn(C.segments,{});{const M=function Ie(C){return Er(C[0])?C[0].outlets:{[Kt]:C}}(b),W={};if(Object.keys(M).some(fe=>fe!==Kt)&&C.children[Kt]&&1===C.numberOfChildren&&0===C.children[Kt].segments.length){const fe=Vt(C.children[Kt],P,b);return new Jn(C.segments,fe.children)}return Object.entries(M).forEach(([fe,Fe])=>{"string"==typeof Fe&&(Fe=[Fe]),null!==Fe&&(W[fe]=dt(C.children[fe],P,Fe))}),Object.entries(C.children).forEach(([fe,Fe])=>{void 0===M[fe]&&(W[fe]=Fe)}),new Jn(C.segments,W)}}function Fn(C,P,b){const M=C.segments.slice(0,P);let W=0;for(;W<b.length;){const fe=b[W];if(Er(fe)){const Dt=vr(fe.outlets);return new Jn(M,Dt)}if(0===W&&Si(b[0])){M.push(new Ir(C.segments[P].path,Ri(b[0]))),W++;continue}const Fe=Er(fe)?fe.outlets[Kt]:`${fe}`,$t=W<b.length-1?b[W+1]:null;Fe&&$t&&Si($t)?(M.push(new Ir(Fe,Ri($t))),W+=2):(M.push(new Ir(Fe,{})),W++)}return new Jn(M,{})}function vr(C){const P={};return Object.entries(C).forEach(([b,M])=>{"string"==typeof M&&(M=[M]),null!==M&&(P[b]=Fn(new Jn([],{}),0,M))}),P}function Ri(C){const P={};return Object.entries(C).forEach(([b,M])=>P[b]=`${M}`),P}function Ur(C,P,b){return C==b.path&&Gn(P,b.parameters)}const Ui="imperative";var hr=function(C){return C[C.NavigationStart=0]="NavigationStart",C[C.NavigationEnd=1]="NavigationEnd",C[C.NavigationCancel=2]="NavigationCancel",C[C.NavigationError=3]="NavigationError",C[C.RoutesRecognized=4]="RoutesRecognized",C[C.ResolveStart=5]="ResolveStart",C[C.ResolveEnd=6]="ResolveEnd",C[C.GuardsCheckStart=7]="GuardsCheckStart",C[C.GuardsCheckEnd=8]="GuardsCheckEnd",C[C.RouteConfigLoadStart=9]="RouteConfigLoadStart",C[C.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",C[C.ChildActivationStart=11]="ChildActivationStart",C[C.ChildActivationEnd=12]="ChildActivationEnd",C[C.ActivationStart=13]="ActivationStart",C[C.ActivationEnd=14]="ActivationEnd",C[C.Scroll=15]="Scroll",C[C.NavigationSkipped=16]="NavigationSkipped",C}(hr||{});class Hi{constructor(P,b){this.id=P,this.url=b}}class bt extends Hi{constructor(P,b,M="imperative",W=null){super(P,b),this.type=hr.NavigationStart,this.navigationTrigger=M,this.restoredState=W}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends Hi{constructor(P,b,M){super(P,b),this.urlAfterRedirects=M,this.type=hr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var qr=function(C){return C[C.Redirect=0]="Redirect",C[C.SupersededByNewNavigation=1]="SupersededByNewNavigation",C[C.NoDataFromResolver=2]="NoDataFromResolver",C[C.GuardRejected=3]="GuardRejected",C}(qr||{}),Rs=function(C){return C[C.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",C[C.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",C}(Rs||{});class Ts extends Hi{constructor(P,b,M,W){super(P,b),this.reason=M,this.code=W,this.type=hr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wi extends Hi{constructor(P,b,M,W){super(P,b),this.reason=M,this.code=W,this.type=hr.NavigationSkipped}}class js extends Hi{constructor(P,b,M,W){super(P,b),this.error=M,this.target=W,this.type=hr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ia extends Hi{constructor(P,b,M,W){super(P,b),this.urlAfterRedirects=M,this.state=W,this.type=hr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xs extends Hi{constructor(P,b,M,W){super(P,b),this.urlAfterRedirects=M,this.state=W,this.type=hr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo extends Hi{constructor(P,b,M,W,fe){super(P,b),this.urlAfterRedirects=M,this.state=W,this.shouldActivate=fe,this.type=hr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uo extends Hi{constructor(P,b,M,W){super(P,b),this.urlAfterRedirects=M,this.state=W,this.type=hr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li extends Hi{constructor(P,b,M,W){super(P,b),this.urlAfterRedirects=M,this.state=W,this.type=hr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yo{constructor(P){this.route=P,this.type=hr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class hi{constructor(P){this.route=P,this.type=hr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Hs{constructor(P){this.snapshot=P,this.type=hr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(P){this.snapshot=P,this.type=hr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sa{constructor(P){this.snapshot=P,this.type=hr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(P){this.snapshot=P,this.type=hr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ks{constructor(P,b,M){this.routerEvent=P,this.position=b,this.anchor=M,this.type=hr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ao{}class vs{constructor(P,b){this.url=P,this.navigationBehaviorOptions=b}}function x(C){return C.outlet||Kt}function Nr(C){if(!C)return null;if(C.routeConfig?._injector)return C.routeConfig._injector;for(let P=C.parent;P;P=P.parent){const b=P.routeConfig;if(b?._loadedInjector)return b._loadedInjector;if(b?._injector)return b._injector}return null}class gi{get injector(){return Nr(this.route?.snapshot)??this.rootInjector}set injector(P){}constructor(P){this.rootInjector=P,this.outlet=null,this.route=null,this.children=new $i(this.rootInjector),this.attachRef=null}}let $i=(()=>{class C{constructor(b){this.rootInjector=b,this.contexts=new Map}onChildOutletCreated(b,M){const W=this.getOrCreateContext(b);W.outlet=M,this.contexts.set(b,W)}onChildOutletDestroyed(b){const M=this.getContext(b);M&&(M.outlet=null,M.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let M=this.getContext(b);return M||(M=new gi(this.rootInjector),this.contexts.set(b,M)),M}getContext(b){return this.contexts.get(b)||null}static#e=this.\u0275fac=function(M){return new(M||C)(l.KVO(l.uvJ))};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();class Ls{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const b=this.pathFromRoot(P);return b.length>1?b[b.length-2]:null}children(P){const b=G(P,this._root);return b?b.children.map(M=>M.value):[]}firstChild(P){const b=G(P,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(P){const b=de(P,this._root);return b.length<2?[]:b[b.length-2].children.map(W=>W.value).filter(W=>W!==P)}pathFromRoot(P){return de(P,this._root).map(b=>b.value)}}function G(C,P){if(C===P.value)return P;for(const b of P.children){const M=G(C,b);if(M)return M}return null}function de(C,P){if(C===P.value)return[P];for(const b of P.children){const M=de(C,b);if(M.length)return M.unshift(P),M}return[]}class xe{constructor(P,b){this.value=P,this.children=b}toString(){return`TreeNode(${this.value})`}}function We(C){const P={};return C&&C.children.forEach(b=>P[b.value.outlet]=b),P}class pt extends Ls{constructor(P,b){super(P),this.snapshot=b,An(this,P)}toString(){return this.snapshot.toString()}}function ft(C){const P=function Yt(C){const fe=new Wt([],{},{},"",{},Kt,C,null,{});return new Cn("",new xe(fe,[]))}(C),b=new Oe.t([new Ir("",{})]),M=new Oe.t({}),W=new Oe.t({}),fe=new Oe.t({}),Fe=new Oe.t(""),$t=new tn(b,M,fe,Fe,W,Kt,C,P.root);return $t.snapshot=P.root,new pt(new xe($t,[]),P)}class tn{constructor(P,b,M,W,fe,Fe,$t,Dt){this.urlSubject=P,this.paramsSubject=b,this.queryParamsSubject=M,this.fragmentSubject=W,this.dataSubject=fe,this.outlet=Fe,this.component=$t,this._futureSnapshot=Dt,this.title=this.dataSubject?.pipe((0,_e.T)(Dn=>Dn[Bn]))??(0,Ae.of)(void 0),this.url=P,this.params=b,this.queryParams=M,this.fragment=W,this.data=fe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,_e.T)(P=>Ot(P))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,_e.T)(P=>Ot(P))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Zt(C,P,b="emptyOnly"){let M;const{routeConfig:W}=C;return M=null===P||"always"!==b&&""!==W?.path&&(P.component||P.routeConfig?.loadComponent)?{params:{...C.params},data:{...C.data},resolve:{...C.data,...C._resolvedData??{}}}:{params:{...P.params,...C.params},data:{...P.data,...C.data},resolve:{...C.data,...P.data,...W?.data,...C._resolvedData}},W&&Fi(W)&&(M.resolve[Bn]=W.title),M}class Wt{get title(){return this.data?.[Bn]}constructor(P,b,M,W,fe,Fe,$t,Dt,Dn){this.url=P,this.params=b,this.queryParams=M,this.fragment=W,this.data=fe,this.outlet=Fe,this.component=$t,this.routeConfig=Dt,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ot(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ot(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cn extends Ls{constructor(P,b){super(b),this.url=P,An(this,b)}toString(){return rr(this._root)}}function An(C,P){P.value._routerState=C,P.children.forEach(b=>An(C,b))}function rr(C){const P=C.children.length>0?` { ${C.children.map(rr).join(", ")} } `:"";return`${C.value}${P}`}function tr(C){if(C.snapshot){const P=C.snapshot,b=C._futureSnapshot;C.snapshot=b,Gn(P.queryParams,b.queryParams)||C.queryParamsSubject.next(b.queryParams),P.fragment!==b.fragment&&C.fragmentSubject.next(b.fragment),Gn(P.params,b.params)||C.paramsSubject.next(b.params),function pr(C,P){if(C.length!==P.length)return!1;for(let b=0;b<C.length;++b)if(!Gn(C[b],P[b]))return!1;return!0}(P.url,b.url)||C.urlSubject.next(b.url),Gn(P.data,b.data)||C.dataSubject.next(b.data)}else C.snapshot=C._futureSnapshot,C.dataSubject.next(C._futureSnapshot.data)}function mr(C,P){const b=Gn(C.params,P.params)&&function pi(C,P){return Kn(C,P)&&C.every((b,M)=>Gn(b.parameters,P[M].parameters))}(C.url,P.url);return b&&!(!C.parent!=!P.parent)&&(!C.parent||mr(C.parent,P.parent))}function Fi(C){return"string"==typeof C.title||null===C.title}let Or=(()=>{class C{constructor(){this.activated=null,this._activatedRoute=null,this.name=Kt,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)($i),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(Pi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:M,previousValue:W}=b.name;if(M)return;this.isTrackedInParentContexts(W)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(W)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){return this.parentContexts.getContext(b)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);b?.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,M){this.activated=b,this._activatedRoute=M,this.location.insert(b.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,M){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=b;const W=this.location,Fe=b.snapshot.component,$t=this.parentContexts.getOrCreateContext(this.name).children,Dt=new en(b,$t,W.injector);this.activated=W.createComponent(Fe,{index:W.length,injector:Dt,environmentInjector:M}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275dir=l.FsC({type:C,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}return C})();class en{__ngOutletInjector(P){return new en(this.route,this.childContexts,P)}constructor(P,b,M){this.route=P,this.childContexts=b,this.parent=M}get(P,b){return P===tn?this.route:P===$i?this.childContexts:this.parent.get(P,b)}}const Pi=new l.nKC("");let mi=(()=>{class C{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){this.outletDataSubscriptions.get(b)?.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:M}=b,W=(0,$e.z)([M.queryParams,M.params,M.data]).pipe((0,et.n)(([fe,Fe,$t],Dt)=>($t={...fe,...Fe,...$t},0===Dt?(0,Ae.of)($t):Promise.resolve($t)))).subscribe(fe=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==M||null===M.component)return void this.unsubscribeFromRouteData(b);const Fe=(0,l.HJs)(M.component);if(Fe)for(const{templateName:$t}of Fe.inputs)b.activatedComponentRef.setInput($t,fe[$t]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,W)}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac})}return C})();function la(C,P,b){if(b&&C.shouldReuseRoute(P.value,b.value.snapshot)){const M=b.value;M._futureSnapshot=P.value;const W=function us(C,P,b){return P.children.map(M=>{for(const W of b.children)if(C.shouldReuseRoute(M.value,W.value.snapshot))return la(C,M,W);return la(C,M)})}(C,P,b);return new xe(M,W)}{if(C.shouldAttach(P.value)){const fe=C.retrieve(P.value);if(null!==fe){const Fe=fe.route;return Fe.value._futureSnapshot=P.value,Fe.children=P.children.map($t=>la(C,$t)),Fe}}const M=function Mi(C){return new tn(new Oe.t(C.url),new Oe.t(C.params),new Oe.t(C.queryParams),new Oe.t(C.fragment),new Oe.t(C.data),C.outlet,C.component,C)}(P.value),W=P.children.map(fe=>la(C,fe));return new xe(M,W)}}class _o{constructor(P,b){this.redirectTo=P,this.navigationBehaviorOptions=b}}const Cs="ngNavigationCancelingError";function Xr(C,P){const{redirectTo:b,navigationBehaviorOptions:M}=ei(P)?{redirectTo:P,navigationBehaviorOptions:void 0}:P,W=ro(!1,qr.Redirect);return W.url=b,W.navigationBehaviorOptions=M,W}function ro(C,P){const b=new Error(`NavigationCancelingError: ${C||""}`);return b[Cs]=!0,b.cancellationCode=P,b}function Fs(C){return!!C&&C[Cs]}class Ti{constructor(P,b,M,W,fe){this.routeReuseStrategy=P,this.futureState=b,this.currState=M,this.forwardEvent=W,this.inputBindingEnabled=fe}activate(P){const b=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,M,P),tr(this.futureState.root),this.activateChildRoutes(b,M,P)}deactivateChildRoutes(P,b,M){const W=We(b);P.children.forEach(fe=>{const Fe=fe.value.outlet;this.deactivateRoutes(fe,W[Fe],M),delete W[Fe]}),Object.values(W).forEach(fe=>{this.deactivateRouteAndItsChildren(fe,M)})}deactivateRoutes(P,b,M){const W=P.value,fe=b?b.value:null;if(W===fe)if(W.component){const Fe=M.getContext(W.outlet);Fe&&this.deactivateChildRoutes(P,b,Fe.children)}else this.deactivateChildRoutes(P,b,M);else fe&&this.deactivateRouteAndItsChildren(b,M)}deactivateRouteAndItsChildren(P,b){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,b):this.deactivateRouteAndOutlet(P,b)}detachAndStoreRouteSubtree(P,b){const M=b.getContext(P.value.outlet),W=M&&P.value.component?M.children:b,fe=We(P);for(const Fe of Object.values(fe))this.deactivateRouteAndItsChildren(Fe,W);if(M&&M.outlet){const Fe=M.outlet.detach(),$t=M.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Fe,route:P,contexts:$t})}}deactivateRouteAndOutlet(P,b){const M=b.getContext(P.value.outlet),W=M&&P.value.component?M.children:b,fe=We(P);for(const Fe of Object.values(fe))this.deactivateRouteAndItsChildren(Fe,W);M&&(M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated()),M.attachRef=null,M.route=null)}activateChildRoutes(P,b,M){const W=We(b);P.children.forEach(fe=>{this.activateRoutes(fe,W[fe.value.outlet],M),this.forwardEvent(new cs(fe.value.snapshot))}),P.children.length&&this.forwardEvent(new no(P.value.snapshot))}activateRoutes(P,b,M){const W=P.value,fe=b?b.value:null;if(tr(W),W===fe)if(W.component){const Fe=M.getOrCreateContext(W.outlet);this.activateChildRoutes(P,b,Fe.children)}else this.activateChildRoutes(P,b,M);else if(W.component){const Fe=M.getOrCreateContext(W.outlet);if(this.routeReuseStrategy.shouldAttach(W.snapshot)){const $t=this.routeReuseStrategy.retrieve(W.snapshot);this.routeReuseStrategy.store(W.snapshot,null),Fe.children.onOutletReAttached($t.contexts),Fe.attachRef=$t.componentRef,Fe.route=$t.route.value,Fe.outlet&&Fe.outlet.attach($t.componentRef,$t.route.value),tr($t.route.value),this.activateChildRoutes(P,null,Fe.children)}else Fe.attachRef=null,Fe.route=W,Fe.outlet&&Fe.outlet.activateWith(W,Fe.injector),this.activateChildRoutes(P,null,Fe.children)}else this.activateChildRoutes(P,null,M)}}class _s{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class So{constructor(P,b){this.component=P,this.route=b}}function ii(C,P,b){const M=C._root;return ws(M,P?P._root:null,b,[M.value])}function Ni(C,P){const b=Symbol(),M=P.get(C,b);return M===b?"function"!=typeof C||(0,l.LfX)(C)?P.get(C):C:M}function ws(C,P,b,M,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=We(P);return C.children.forEach(Fe=>{(function ec(C,P,b,M,W={canDeactivateChecks:[],canActivateChecks:[]}){const fe=C.value,Fe=P?P.value:null,$t=b?b.getContext(C.value.outlet):null;if(Fe&&fe.routeConfig===Fe.routeConfig){const Dt=function Go(C,P,b){if("function"==typeof b)return b(C,P);switch(b){case"pathParamsChange":return!Kn(C.url,P.url);case"pathParamsOrQueryParamsChange":return!Kn(C.url,P.url)||!Gn(C.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mr(C,P)||!Gn(C.queryParams,P.queryParams);default:return!mr(C,P)}}(Fe,fe,fe.routeConfig.runGuardsAndResolvers);Dt?W.canActivateChecks.push(new _s(M)):(fe.data=Fe.data,fe._resolvedData=Fe._resolvedData),ws(C,P,fe.component?$t?$t.children:null:b,M,W),Dt&&$t&&$t.outlet&&$t.outlet.isActivated&&W.canDeactivateChecks.push(new So($t.outlet.component,Fe))}else Fe&&io(P,$t,W),W.canActivateChecks.push(new _s(M)),ws(C,null,fe.component?$t?$t.children:null:b,M,W)})(Fe,fe[Fe.value.outlet],b,M.concat([Fe.value]),W),delete fe[Fe.value.outlet]}),Object.entries(fe).forEach(([Fe,$t])=>io($t,b.getContext(Fe),W)),W}function io(C,P,b){const M=We(C),W=C.value;Object.entries(M).forEach(([fe,Fe])=>{io(Fe,W.component?P?P.children.getContext(fe):null:P,b)}),b.canDeactivateChecks.push(new So(W.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,W))}function Qn(C){return"function"==typeof C}function ul(C){return C instanceof Ke.G||"EmptyError"===C?.name}const yi=Symbol("INITIAL_VALUE");function qa(){return(0,et.n)(C=>(0,$e.z)(C.map(P=>P.pipe((0,at.s)(1),(0,ze.Z)(yi)))).pipe((0,_e.T)(P=>{for(const b of P)if(!0!==b){if(b===yi)return yi;if(!1===b||Jc(b))return b}return!0}),(0,Nt.p)(P=>P!==yi),(0,at.s)(1)))}function Jc(C){return ei(C)||C instanceof _o}function or(C){return(0,je.F)((0,Et.M)(P=>{if("boolean"!=typeof P)throw Xr(0,P)}),(0,_e.T)(P=>!0===P))}class kn{constructor(P){this.segmentGroup=P||null}}class ti extends Error{constructor(P){super(),this.urlTree=P}}function zi(C){return Ue(new kn(C))}class Ml{constructor(P,b){this.urlSerializer=P,this.urlTree=b}lineralizeSegments(P,b){let M=[],W=b.root;for(;;){if(M=M.concat(W.segments),0===W.numberOfChildren)return(0,Ae.of)(M);if(W.numberOfChildren>1||!W.children[Kt])return Ue(new l.wOt(4e3,!1));W=W.children[Kt]}}applyRedirectCommands(P,b,M,W,fe){if("string"!=typeof b){const $t=b,{queryParams:Dt,fragment:Dn,routeConfig:Yn,url:Pn,outlet:Hr,params:qi,data:Xi,title:bi}=W,Mo=(0,l.N4e)(fe,()=>$t({params:qi,data:Xi,queryParams:Dt,fragment:Dn,routeConfig:Yn,url:Pn,outlet:Hr,title:bi}));if(Mo instanceof qn)throw new ti(Mo);b=Mo}const Fe=this.applyRedirectCreateUrlTree(b,this.urlSerializer.parse(b),P,M);if("/"===b[0])throw new ti(Fe);return Fe}applyRedirectCreateUrlTree(P,b,M,W){const fe=this.createSegmentGroup(P,b.root,M,W);return new qn(fe,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(P,b){const M={};return Object.entries(P).forEach(([W,fe])=>{if("string"==typeof fe&&":"===fe[0]){const $t=fe.substring(1);M[W]=b[$t]}else M[W]=fe}),M}createSegmentGroup(P,b,M,W){const fe=this.createSegments(P,b.segments,M,W);let Fe={};return Object.entries(b.children).forEach(([$t,Dt])=>{Fe[$t]=this.createSegmentGroup(P,Dt,M,W)}),new Jn(fe,Fe)}createSegments(P,b,M,W){return b.map(fe=>":"===fe.path[0]?this.findPosParam(P,fe,W):this.findOrReturn(fe,M))}findPosParam(P,b,M){const W=M[b.path.substring(1)];if(!W)throw new l.wOt(4001,!1);return W}findOrReturn(P,b){let M=0;for(const W of b){if(W.path===P.path)return b.splice(M),W;M++}return P}}const Pa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function dl(C,P,b,M,W){const fe=hl(C,P,b);return fe.matched?(M=function oa(C,P){return C.providers&&!C._injector&&(C._injector=(0,l.Ol2)(C.providers,P,`Route: ${C.path}`)),C._injector??P}(P,M),function Fr(C,P,b,M){const W=P.canMatch;if(!W||0===W.length)return(0,Ae.of)(!0);const fe=W.map(Fe=>{const $t=Ni(Fe,C);return kt(function so(C){return C&&Qn(C.canMatch)}($t)?$t.canMatch(P,b):(0,l.N4e)(C,()=>$t(P,b)))});return(0,Ae.of)(fe).pipe(qa(),or())}(M,P,b).pipe((0,_e.T)(Fe=>!0===Fe?fe:{...Pa}))):(0,Ae.of)(fe)}function hl(C,P,b){if("**"===P.path)return function fl(C){return{matched:!0,parameters:C.length>0?zt(C).parameters:{},consumedSegments:C,remainingSegments:[],positionalParamSegments:{}}}(b);if(""===P.path)return"full"===P.pathMatch&&(C.hasChildren()||b.length>0)?{...Pa}:{matched:!0,consumedSegments:[],remainingSegments:b,parameters:{},positionalParamSegments:{}};const W=(P.matcher||Zn)(b,C,P);if(!W)return{...Pa};const fe={};Object.entries(W.posParams??{}).forEach(([$t,Dt])=>{fe[$t]=Dt.path});const Fe=W.consumed.length>0?{...fe,...W.consumed[W.consumed.length-1].parameters}:fe;return{matched:!0,consumedSegments:W.consumed,remainingSegments:b.slice(W.consumed.length),parameters:Fe,positionalParamSegments:W.posParams??{}}}function wc(C,P,b,M){return b.length>0&&function Ko(C,P,b){return b.some(M=>da(C,P,M)&&x(M)!==Kt)}(C,b,M)?{segmentGroup:new Jn(P,bc(M,new Jn(b,C.children))),slicedSegments:[]}:0===b.length&&function ua(C,P,b){return b.some(M=>da(C,P,M))}(C,b,M)?{segmentGroup:new Jn(C.segments,xr(C,b,M,C.children)),slicedSegments:b}:{segmentGroup:new Jn(C.segments,C.children),slicedSegments:b}}function xr(C,P,b,M){const W={};for(const fe of b)if(da(C,P,fe)&&!M[x(fe)]){const Fe=new Jn([],{});W[x(fe)]=Fe}return{...M,...W}}function bc(C,P){const b={};b[Kt]=P;for(const M of C)if(""===M.path&&x(M)!==Kt){const W=new Jn([],{});b[x(M)]=W}return b}function da(C,P,b){return(!(C.hasChildren()||P.length>0)||"full"!==b.pathMatch)&&""===b.path}class wu{}class nc{constructor(P,b,M,W,fe,Fe,$t){this.injector=P,this.configLoader=b,this.rootComponentType=M,this.config=W,this.urlTree=fe,this.paramsInheritanceStrategy=Fe,this.urlSerializer=$t,this.applyRedirects=new Ml(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(P){return new l.wOt(4002,`'${P.segmentGroup}'`)}recognize(){const P=wc(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(P).pipe((0,_e.T)(({children:b,rootSnapshot:M})=>{const W=new xe(M,b),fe=new Cn("",W),Fe=function ys(C,P,b=null,M=null){return xn(wr(C),P,b,M)}(M,[],this.urlTree.queryParams,this.urlTree.fragment);return Fe.queryParams=this.urlTree.queryParams,fe.url=this.urlSerializer.serialize(Fe),{state:fe,tree:Fe}}))}match(P){const b=new Wt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Kt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,P,Kt,b).pipe((0,_e.T)(M=>({children:M,rootSnapshot:b})),It(M=>{if(M instanceof ti)return this.urlTree=M.urlTree,this.match(M.urlTree.root);throw M instanceof kn?this.noMatchError(M):M}))}processSegmentGroup(P,b,M,W,fe){return 0===M.segments.length&&M.hasChildren()?this.processChildren(P,b,M,fe):this.processSegment(P,b,M,M.segments,W,!0,fe).pipe((0,_e.T)(Fe=>Fe instanceof xe?[Fe]:[]))}processChildren(P,b,M,W){const fe=[];for(const Fe of Object.keys(M.children))"primary"===Fe?fe.unshift(Fe):fe.push(Fe);return(0,me.H)(fe).pipe(Ye(Fe=>{const $t=M.children[Fe],Dt=function we(C,P){const b=C.filter(M=>x(M)===P);return b.push(...C.filter(M=>x(M)!==P)),b}(b,Fe);return this.processSegmentGroup(P,Dt,$t,Fe,W)}),(0,rn.S)((Fe,$t)=>(Fe.push(...$t),Fe)),(0,Qe.U)(null),function ae(C,P){const b=arguments.length>=2;return M=>M.pipe(C?(0,Nt.p)((W,fe)=>C(W,fe,M)):ne.D,Ce(1),b?(0,Qe.U)(P):(0,q.v)(()=>new Ke.G))}(),(0,ke.Z)(Fe=>{if(null===Fe)return zi(M);const $t=Ya(Fe);return function Ol(C){C.sort((P,b)=>P.value.outlet===Kt?-1:b.value.outlet===Kt?1:P.value.outlet.localeCompare(b.value.outlet))}($t),(0,Ae.of)($t)}))}processSegment(P,b,M,W,fe,Fe,$t){return(0,me.H)(b).pipe(Ye(Dt=>this.processSegmentAgainstRoute(Dt._injector??P,b,Dt,M,W,fe,Fe,$t).pipe(It(Dn=>{if(Dn instanceof kn)return(0,Ae.of)(null);throw Dn}))),(0,mt.$)(Dt=>!!Dt),It(Dt=>{if(ul(Dt))return function Nl(C,P,b){return 0===P.length&&!C.children[b]}(M,W,fe)?(0,Ae.of)(new wu):zi(M);throw Dt}))}processSegmentAgainstRoute(P,b,M,W,fe,Fe,$t,Dt){return function Zu(C,P,b,M){return!!(x(C)===M||M!==Kt&&da(P,b,C))&&hl(P,C,b).matched}(M,W,fe,Fe)?void 0===M.redirectTo?this.matchSegmentAgainstRoute(P,W,M,fe,Fe,Dt):this.allowRedirects&&$t?this.expandSegmentAgainstRouteUsingRedirect(P,W,b,M,fe,Fe,Dt):zi(W):zi(W)}expandSegmentAgainstRouteUsingRedirect(P,b,M,W,fe,Fe,$t){const{matched:Dt,parameters:Dn,consumedSegments:Yn,positionalParamSegments:Pn,remainingSegments:Hr}=hl(b,W,fe);if(!Dt)return zi(b);"string"==typeof W.redirectTo&&"/"===W.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const qi=new Wt(fe,Dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(W),x(W),W.component??W._loadedComponent??null,W,Vs(W)),Xi=Zt(qi,$t,this.paramsInheritanceStrategy);qi.params=Object.freeze(Xi.params),qi.data=Object.freeze(Xi.data);const bi=this.applyRedirects.applyRedirectCommands(Yn,W.redirectTo,Pn,qi,P);return this.applyRedirects.lineralizeSegments(W,bi).pipe((0,ke.Z)(Mo=>this.processSegment(P,M,b,Mo.concat(Hr),Fe,!1,$t)))}matchSegmentAgainstRoute(P,b,M,W,fe,Fe){const $t=dl(b,M,W,P);return"**"===M.path&&(b.children={}),$t.pipe((0,et.n)(Dt=>Dt.matched?this.getChildConfig(P=M._injector??P,M,W).pipe((0,et.n)(({routes:Dn})=>{const Yn=M._loadedInjector??P,{parameters:Pn,consumedSegments:Hr,remainingSegments:qi}=Dt,Xi=new Wt(Hr,Pn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Dc(M),x(M),M.component??M._loadedComponent??null,M,Vs(M)),bi=Zt(Xi,Fe,this.paramsInheritanceStrategy);Xi.params=Object.freeze(bi.params),Xi.data=Object.freeze(bi.data);const{segmentGroup:Mo,slicedSegments:No}=wc(b,Hr,qi,Dn);if(0===No.length&&Mo.hasChildren())return this.processChildren(Yn,Dn,Mo,Xi).pipe((0,_e.T)(Ll=>new xe(Xi,Ll)));if(0===Dn.length&&0===No.length)return(0,Ae.of)(new xe(Xi,[]));const Oa=x(M)===fe;return this.processSegment(Yn,Dn,Mo,No,Oa?Kt:fe,!0,Xi).pipe((0,_e.T)(Ll=>new xe(Xi,Ll instanceof xe?[Ll]:[])))})):zi(b)))}getChildConfig(P,b,M){return b.children?(0,Ae.of)({routes:b.children,injector:P}):b.loadChildren?void 0!==b._loadedRoutes?(0,Ae.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):function nt(C,P,b,M){const W=P.canLoad;if(void 0===W||0===W.length)return(0,Ae.of)(!0);const fe=W.map(Fe=>{const $t=Ni(Fe,C);return kt(function bs(C){return C&&Qn(C.canLoad)}($t)?$t.canLoad(P,b):(0,l.N4e)(C,()=>$t(P,b)))});return(0,Ae.of)(fe).pipe(qa(),or())}(P,b,M).pipe((0,ke.Z)(W=>W?this.configLoader.loadChildren(P,b).pipe((0,Et.M)(fe=>{b._loadedRoutes=fe.routes,b._loadedInjector=fe.injector})):function ca(C){return Ue(ro(!1,qr.GuardRejected))}())):(0,Ae.of)({routes:[],injector:P})}}function pl(C){const P=C.value.routeConfig;return P&&""===P.path}function Ya(C){const P=[],b=new Set;for(const M of C){if(!pl(M)){P.push(M);continue}const W=P.find(fe=>M.value.routeConfig===fe.value.routeConfig);void 0!==W?(W.children.push(...M.children),b.add(W)):P.push(M)}for(const M of b){const W=Ya(M.children);P.push(new xe(M.value,W))}return P.filter(M=>!b.has(M))}function Dc(C){return C.data||{}}function Vs(C){return C.resolve||{}}function Ar(C){const P=C.children.map(b=>Ar(b)).flat();return[C,...P]}function ic(C){return(0,et.n)(P=>{const b=C(P);return b?(0,me.H)(b).pipe((0,_e.T)(()=>P)):(0,Ae.of)(P)})}let xl=(()=>{class C{buildTitle(b){let M,W=b.root;for(;void 0!==W;)M=this.getResolvedTitleForRoute(W)??M,W=W.children.find(fe=>fe.outlet===Kt);return M}getResolvedTitleForRoute(b){return b.data[Bn]}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:()=>(0,l.WQX)(sc),providedIn:"root"})}return C})(),sc=(()=>{class C extends xl{constructor(b){super(),this.title=b}updateTitle(b){const M=this.buildTitle(b);void 0!==M&&this.title.setTitle(M)}static#e=this.\u0275fac=function(M){return new(M||C)(l.KVO(Hn.hE))};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const qo=new l.nKC("",{providedIn:"root",factory:()=>({})});let Gr=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275cmp=l.VBU({type:C,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(M,W){1&M&&l.nrm(0,"router-outlet")},dependencies:[Or],encapsulation:2})}return C})();function Xo(C){const P=C.children&&C.children.map(Xo),b=P?{...C,children:P}:{...C};return!b.component&&!b.loadComponent&&(P||b.loadChildren)&&b.outlet&&b.outlet!==Kt&&(b.component=Gr),b}const Za=new l.nKC("");let zs=(()=>{class C{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,Ae.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const M=kt(b.loadComponent()).pipe((0,_e.T)(oc),(0,Et.M)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=fe}),Tt(()=>{this.componentLoaders.delete(b)})),W=new yt(M,()=>new it.B).pipe(wt());return this.componentLoaders.set(b,W),W}loadChildren(b,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,Ae.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const fe=function kl(C,P,b,M){return kt(C.loadChildren()).pipe((0,_e.T)(oc),(0,ke.Z)(W=>W instanceof l.Co$||Array.isArray(W)?(0,Ae.of)(W):(0,me.H)(P.compileModuleAsync(W))),(0,_e.T)(W=>{M&&M(C);let fe,Fe,$t=!1;return Array.isArray(W)?(Fe=W,!0):(fe=W.create(b).injector,Fe=fe.get(Za,[],{optional:!0,self:!0}).flat()),{routes:Fe.map(Xo),injector:fe}}))}(M,this.compiler,b,this.onLoadEndListener).pipe(Tt(()=>{this.childrenLoaders.delete(M)})),Fe=new yt(fe,()=>new it.B).pipe(wt());return this.childrenLoaders.set(M,Fe),Fe}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function oc(C){return function ha(C){return C&&"object"==typeof C&&"default"in C}(C)?C.default:C}let Ji=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:()=>(0,l.WQX)(ac),providedIn:"root"})}return C})(),ac=(()=>{class C{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,M){return b}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const R=new l.nKC(""),oe=new l.nKC("");function V(C,P,b){const M=C.get(oe),W=C.get(Re.qQ);return C.get(l.SKi).runOutsideAngular(()=>{if(!W.startViewTransition||M.skipNextTransition)return M.skipNextTransition=!1,new Promise(Dn=>setTimeout(Dn));let fe;const Fe=new Promise(Dn=>{fe=Dn}),$t=W.startViewTransition(()=>(fe(),function Z(C){return new Promise(P=>{(0,l.mal)({read:()=>setTimeout(P)},{injector:C})})}(C))),{onViewTransitionCreated:Dt}=M;return Dt&&(0,l.N4e)(C,()=>Dt({transition:$t,from:P,to:b})),Fe})}const Ve=new l.nKC("");let jt=(()=>{class C{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new it.B,this.transitionAbortSubject=new it.B,this.configLoader=(0,l.WQX)(zs),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Xn),this.rootContexts=(0,l.WQX)($i),this.location=(0,l.WQX)(Re.aZ),this.inputBindingEnabled=null!==(0,l.WQX)(Pi,{optional:!0}),this.titleStrategy=(0,l.WQX)(xl),this.options=(0,l.WQX)(qo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(Ji),this.createViewTransition=(0,l.WQX)(R,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)(Ve,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=W=>this.events.next(new hi(W)),this.configLoader.onLoadStartListener=W=>this.events.next(new yo(W))}complete(){this.transitions?.complete()}handleNavigationRequest(b){const M=++this.navigationId;this.transitions?.next({...this.transitions.value,...b,id:M})}setupNavigations(b,M,W){return this.transitions=new Oe.t({id:0,currentUrlTree:M,currentRawUrl:M,extractedUrl:this.urlHandlingStrategy.extract(M),urlAfterRedirects:this.urlHandlingStrategy.extract(M),rawUrl:M,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ui,restoredState:null,currentSnapshot:W.snapshot,targetSnapshot:null,currentRouterState:W,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Nt.p)(fe=>0!==fe.id),(0,_e.T)(fe=>({...fe,extractedUrl:this.urlHandlingStrategy.extract(fe.rawUrl)})),(0,et.n)(fe=>{let Fe=!1,$t=!1;return(0,Ae.of)(fe).pipe((0,et.n)(Dt=>{if(this.navigationId>fe.id)return this.cancelNavigationTransition(fe,"",qr.SupersededByNewNavigation),ct.w;this.currentTransition=fe,this.currentNavigation={id:Dt.id,initialUrl:Dt.rawUrl,extractedUrl:Dt.extractedUrl,targetBrowserUrl:"string"==typeof Dt.extras.browserUrl?this.urlSerializer.parse(Dt.extras.browserUrl):Dt.extras.browserUrl,trigger:Dt.source,extras:Dt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Dn=!b.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Dn&&"reload"!==(Dt.extras.onSameUrlNavigation??b.onSameUrlNavigation)){const Pn="";return this.events.next(new wi(Dt.id,this.urlSerializer.serialize(Dt.rawUrl),Pn,Rs.IgnoredSameUrlNavigation)),Dt.resolve(!1),ct.w}if(this.urlHandlingStrategy.shouldProcessUrl(Dt.rawUrl))return(0,Ae.of)(Dt).pipe((0,et.n)(Pn=>{const Hr=this.transitions?.getValue();return this.events.next(new bt(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),Pn.source,Pn.restoredState)),Hr!==this.transitions?.getValue()?ct.w:Promise.resolve(Pn)}),function rc(C,P,b,M,W,fe){return(0,ke.Z)(Fe=>function Qa(C,P,b,M,W,fe,Fe="emptyOnly"){return new nc(C,P,b,M,W,Fe,fe).recognize()}(C,P,b,M,Fe.extractedUrl,W,fe).pipe((0,_e.T)(({state:$t,tree:Dt})=>({...Fe,targetSnapshot:$t,urlAfterRedirects:Dt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Et.M)(Pn=>{fe.targetSnapshot=Pn.targetSnapshot,fe.urlAfterRedirects=Pn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Pn.urlAfterRedirects};const Hr=new ia(Pn.id,this.urlSerializer.serialize(Pn.extractedUrl),this.urlSerializer.serialize(Pn.urlAfterRedirects),Pn.targetSnapshot);this.events.next(Hr)}));if(Dn&&this.urlHandlingStrategy.shouldProcessUrl(Dt.currentRawUrl)){const{id:Pn,extractedUrl:Hr,source:qi,restoredState:Xi,extras:bi}=Dt,Mo=new bt(Pn,this.urlSerializer.serialize(Hr),qi,Xi);this.events.next(Mo);const No=ft(this.rootComponentType).snapshot;return this.currentTransition=fe={...Dt,targetSnapshot:No,urlAfterRedirects:Hr,extras:{...bi,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Hr,(0,Ae.of)(fe)}{const Pn="";return this.events.next(new wi(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),Pn,Rs.IgnoredByUrlHandlingStrategy)),Dt.resolve(!1),ct.w}}),(0,Et.M)(Dt=>{const Dn=new xs(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot);this.events.next(Dn)}),(0,_e.T)(Dt=>(this.currentTransition=fe={...Dt,guards:ii(Dt.targetSnapshot,Dt.currentSnapshot,this.rootContexts)},fe)),function Pl(C,P){return(0,ke.Z)(b=>{const{targetSnapshot:M,currentSnapshot:W,guards:{canActivateChecks:fe,canDeactivateChecks:Fe}}=b;return 0===Fe.length&&0===fe.length?(0,Ae.of)({...b,guardsResult:!0}):function tc(C,P,b,M){return(0,me.H)(C).pipe((0,ke.Z)(W=>function pe(C,P,b,M,W){const fe=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!fe||0===fe.length)return(0,Ae.of)(!0);const Fe=fe.map($t=>{const Dt=Nr(P)??W,Dn=Ni($t,Dt);return kt(function Cc(C){return C&&Qn(C.canDeactivate)}(Dn)?Dn.canDeactivate(C,P,b,M):(0,l.N4e)(Dt,()=>Dn(C,P,b,M))).pipe((0,mt.$)())});return(0,Ae.of)(Fe).pipe(qa())}(W.component,W.route,b,P,M)),(0,mt.$)(W=>!0!==W,!0))}(Fe,M,W,C).pipe((0,ke.Z)($t=>$t&&function Eo(C){return"boolean"==typeof C}($t)?function ir(C,P,b,M){return(0,me.H)(P).pipe(Ye(W=>(0,Me.x)(function H(C,P){return null!==C&&P&&P(new Hs(C)),(0,Ae.of)(!0)}(W.route.parent,M),function Io(C,P){return null!==C&&P&&P(new sa(C)),(0,Ae.of)(!0)}(W.route,M),function O(C,P,b){const M=P[P.length-1],fe=P.slice(0,P.length-1).reverse().map(Fe=>function Ps(C){const P=C.routeConfig?C.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:C,guards:P}:null}(Fe)).filter(Fe=>null!==Fe).map(Fe=>Be(()=>{const $t=Fe.guards.map(Dt=>{const Dn=Nr(Fe.node)??b,Yn=Ni(Dt,Dn);return kt(function Sa(C){return C&&Qn(C.canActivateChild)}(Yn)?Yn.canActivateChild(M,C):(0,l.N4e)(Dn,()=>Yn(M,C))).pipe((0,mt.$)())});return(0,Ae.of)($t).pipe(qa())}));return(0,Ae.of)(fe).pipe(qa())}(C,W.path,b),function j(C,P,b){const M=P.routeConfig?P.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Ae.of)(!0);const W=M.map(fe=>Be(()=>{const Fe=Nr(P)??b,$t=Ni(fe,Fe);return kt(function Wa(C){return C&&Qn(C.canActivate)}($t)?$t.canActivate(P,C):(0,l.N4e)(Fe,()=>$t(P,C))).pipe((0,mt.$)())}));return(0,Ae.of)(W).pipe(qa())}(C,W.route,b))),(0,mt.$)(W=>!0!==W,!0))}(M,fe,C,P):(0,Ae.of)($t)),(0,_e.T)($t=>({...b,guardsResult:$t})))})}(this.environmentInjector,Dt=>this.events.next(Dt)),(0,Et.M)(Dt=>{if(fe.guardsResult=Dt.guardsResult,Dt.guardsResult&&"boolean"!=typeof Dt.guardsResult)throw Xr(0,Dt.guardsResult);const Dn=new jo(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects),Dt.targetSnapshot,!!Dt.guardsResult);this.events.next(Dn)}),(0,Nt.p)(Dt=>!!Dt.guardsResult||(this.cancelNavigationTransition(Dt,"",qr.GuardRejected),!1)),ic(Dt=>{if(Dt.guards.canActivateChecks.length)return(0,Ae.of)(Dt).pipe((0,Et.M)(Dn=>{const Yn=new uo(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(Yn)}),(0,et.n)(Dn=>{let Yn=!1;return(0,Ae.of)(Dn).pipe(function gl(C,P){return(0,ke.Z)(b=>{const{targetSnapshot:M,guards:{canActivateChecks:W}}=b;if(!W.length)return(0,Ae.of)(b);const fe=new Set(W.map(Dt=>Dt.route)),Fe=new Set;for(const Dt of fe)if(!Fe.has(Dt))for(const Dn of Ar(Dt))Fe.add(Dn);let $t=0;return(0,me.H)(Fe).pipe(Ye(Dt=>fe.has(Dt)?function kr(C,P,b,M){const W=C.routeConfig,fe=C._resolve;return void 0!==W?.title&&!Fi(W)&&(fe[Bn]=W.title),function Ju(C,P,b,M){const W=dn(C);if(0===W.length)return(0,Ae.of)({});const fe={};return(0,me.H)(W).pipe((0,ke.Z)(Fe=>function Sc(C,P,b,M){const W=Nr(P)??M,fe=Ni(C,W);return kt(fe.resolve?fe.resolve(P,b):(0,l.N4e)(W,()=>fe(P,b)))}(C[Fe],P,b,M).pipe((0,mt.$)(),(0,Et.M)($t=>{if($t instanceof _o)throw Xr(new cr,$t);fe[Fe]=$t}))),Ce(1),function be(C){return(0,_e.T)(()=>C)}(fe),It(Fe=>ul(Fe)?ct.w:Ue(Fe)))}(fe,C,P,M).pipe((0,_e.T)(Fe=>(C._resolvedData=Fe,C.data=Zt(C,C.parent,b).resolve,null)))}(Dt,M,C,P):(Dt.data=Zt(Dt,Dt.parent,C).resolve,(0,Ae.of)(void 0))),(0,Et.M)(()=>$t++),Ce(1),(0,ke.Z)(Dt=>$t===Fe.size?(0,Ae.of)(b):ct.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Et.M)({next:()=>Yn=!0,complete:()=>{Yn||this.cancelNavigationTransition(Dn,"",qr.NoDataFromResolver)}}))}),(0,Et.M)(Dn=>{const Yn=new Li(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(Yn)}))}),ic(Dt=>{const Dn=Yn=>{const Pn=[];Yn.routeConfig?.loadComponent&&!Yn.routeConfig._loadedComponent&&Pn.push(this.configLoader.loadComponent(Yn.routeConfig).pipe((0,Et.M)(Hr=>{Yn.component=Hr}),(0,_e.T)(()=>{})));for(const Hr of Yn.children)Pn.push(...Dn(Hr));return Pn};return(0,$e.z)(Dn(Dt.targetSnapshot.root)).pipe((0,Qe.U)(null),(0,at.s)(1))}),ic(()=>this.afterPreactivation()),(0,et.n)(()=>{const{currentSnapshot:Dt,targetSnapshot:Dn}=fe,Yn=this.createViewTransition?.(this.environmentInjector,Dt.root,Dn.root);return Yn?(0,me.H)(Yn).pipe((0,_e.T)(()=>fe)):(0,Ae.of)(fe)}),(0,_e.T)(Dt=>{const Dn=function ss(C,P,b){const M=la(C,P._root,b?b._root:void 0);return new pt(M,P)}(b.routeReuseStrategy,Dt.targetSnapshot,Dt.currentRouterState);return this.currentTransition=fe={...Dt,targetRouterState:Dn},this.currentNavigation.targetRouterState=Dn,fe}),(0,Et.M)(()=>{this.events.next(new Ao)}),((C,P,b,M)=>(0,_e.T)(W=>(new Ti(P,W.targetRouterState,W.currentRouterState,b,M).activate(C),W)))(this.rootContexts,b.routeReuseStrategy,Dt=>this.events.next(Dt),this.inputBindingEnabled),(0,at.s)(1),(0,Et.M)({next:Dt=>{Fe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(Dt.id,this.urlSerializer.serialize(Dt.extractedUrl),this.urlSerializer.serialize(Dt.urlAfterRedirects))),this.titleStrategy?.updateTitle(Dt.targetRouterState.snapshot),Dt.resolve(!0)},complete:()=>{Fe=!0}}),function Ht(C){return(0,st.N)((P,b)=>{(0,le.Tg)(C).subscribe((0,Ze._)(b,()=>b.complete(),Ne.l)),!b.closed&&P.subscribe(b)})}(this.transitionAbortSubject.pipe((0,Et.M)(Dt=>{throw Dt}))),Tt(()=>{!Fe&&!$t&&this.cancelNavigationTransition(fe,"",qr.SupersededByNewNavigation),this.currentTransition?.id===fe.id&&(this.currentNavigation=null,this.currentTransition=null)}),It(Dt=>{if($t=!0,Fs(Dt))this.events.next(new Ts(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Dt.message,Dt.cancellationCode)),function zo(C){return Fs(C)&&ei(C.url)}(Dt)?this.events.next(new vs(Dt.url,Dt.navigationBehaviorOptions)):fe.resolve(!1);else{const Dn=new js(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Dt,fe.targetSnapshot??void 0);try{const Yn=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Dn));if(Yn instanceof _o){const{message:Pn,cancellationCode:Hr}=Xr(0,Yn);this.events.next(new Ts(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Pn,Hr)),this.events.next(new vs(Yn.redirectTo,Yn.navigationBehaviorOptions))}else{this.events.next(Dn);const Pn=b.errorHandler(Dt);fe.resolve(!!Pn)}}catch(Yn){this.options.resolveNavigationPromiseOnError?fe.resolve(!1):fe.reject(Yn)}}return ct.w}))}))}cancelNavigationTransition(b,M,W){const fe=new Ts(b.id,this.urlSerializer.serialize(b.extractedUrl),M,W);this.events.next(fe),b.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const b=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),M=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return b.toString()!==M?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();function un(C){return C!==Ui}let sn=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:()=>(0,l.WQX)(Vr),providedIn:"root"})}return C})();class Vi{shouldDetach(P){return!1}store(P,b){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,b){return P.routeConfig===b.routeConfig}}let Vr=(()=>{class C extends Vi{static#e=this.\u0275fac=(()=>{let b;return function(W){return(b||(b=l.xGo(C)))(W||C)}})();static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),vi=(()=>{class C{static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:()=>(0,l.WQX)(vn),providedIn:"root"})}return C})(),vn=(()=>{class C extends vi{constructor(){super(...arguments),this.location=(0,l.WQX)(Re.aZ),this.urlSerializer=(0,l.WQX)(Xn),this.options=(0,l.WQX)(qo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(Ji),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ft(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(b){return this.location.subscribe(M=>{"popstate"===M.type&&b(M.url,M.state)})}handleRouterEvent(b,M){if(b instanceof bt)this.stateMemento=this.createStateMemento();else if(b instanceof wi)this.rawUrlTree=M.initialUrl;else if(b instanceof ia){if("eager"===this.urlUpdateStrategy&&!M.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(M.finalUrl,M.initialUrl);this.setBrowserUrl(M.targetBrowserUrl??W,M)}}else b instanceof Ao?(this.currentUrlTree=M.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(M.finalUrl,M.initialUrl),this.routerState=M.targetRouterState,"deferred"===this.urlUpdateStrategy&&!M.extras.skipLocationChange&&this.setBrowserUrl(M.targetBrowserUrl??this.rawUrlTree,M)):b instanceof Ts&&(b.code===qr.GuardRejected||b.code===qr.NoDataFromResolver)?this.restoreHistory(M):b instanceof js?this.restoreHistory(M,!0):b instanceof Bi&&(this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId)}setBrowserUrl(b,M){const W=b instanceof qn?this.urlSerializer.serialize(b):b;if(this.location.isCurrentPathEqualTo(W)||M.extras.replaceUrl){const Fe={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId)};this.location.replaceState(W,"",Fe)}else{const fe={...M.extras.state,...this.generateNgRouterState(M.id,this.browserPageId+1)};this.location.go(W,"",fe)}}restoreHistory(b,M=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-this.browserPageId;0!==fe?this.location.historyGo(fe):this.currentUrlTree===b.finalUrl&&0===fe&&(this.resetState(b),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,M){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:M}:{navigationId:b}}static#e=this.\u0275fac=(()=>{let b;return function(W){return(b||(b=l.xGo(C)))(W||C)}})();static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();var Qr=function(C){return C[C.COMPLETE=0]="COMPLETE",C[C.FAILED=1]="FAILED",C[C.REDIRECTING=2]="REDIRECTING",C}(Qr||{});function fi(C,P){C.events.pipe((0,Nt.p)(b=>b instanceof Bi||b instanceof Ts||b instanceof js||b instanceof wi),(0,_e.T)(b=>b instanceof Bi||b instanceof wi?Qr.COMPLETE:b instanceof Ts&&(b.code===qr.Redirect||b.code===qr.SupersededByNewNavigation)?Qr.REDIRECTING:Qr.FAILED),(0,Nt.p)(b=>b!==Qr.REDIRECTING),(0,at.s)(1)).subscribe(()=>{P()})}function hs(C){throw C}const fa={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class C{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(vi),this.options=(0,l.WQX)(qo,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(jt),this.urlSerializer=(0,l.WQX)(Xn),this.location=(0,l.WQX)(Re.aZ),this.urlHandlingStrategy=(0,l.WQX)(Ji),this._events=new it.B,this.errorHandler=this.options.errorHandler||hs,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(sn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(Za,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(Pi,{optional:!0}),this.eventsSubscription=new ut.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:b=>{this.console.warn(b)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(M=>{try{const W=this.navigationTransitions.currentTransition,fe=this.navigationTransitions.currentNavigation;if(null!==W&&null!==fe)if(this.stateManager.handleRouterEvent(M,fe),M instanceof Ts&&M.code!==qr.Redirect&&M.code!==qr.SupersededByNewNavigation)this.navigated=!0;else if(M instanceof Bi)this.navigated=!0;else if(M instanceof vs){const Fe=M.navigationBehaviorOptions,$t=this.urlHandlingStrategy.merge(M.url,W.currentRawUrl),Dt={browserUrl:W.extras.browserUrl,info:W.extras.info,skipLocationChange:W.extras.skipLocationChange,replaceUrl:W.extras.replaceUrl||"eager"===this.urlUpdateStrategy||un(W.source),...Fe};this.scheduleNavigation($t,Ui,null,Dt,{resolve:W.resolve,reject:W.reject,promise:W.promise})}(function ho(C){return!(C instanceof Ao||C instanceof vs)})(M)&&this._events.next(M)}catch(W){this.navigationTransitions.transitionAbortSubject.next(W)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ui,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((b,M)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(b,"popstate",M)},0)})}navigateToSyncWithBrowser(b,M,W){const fe={replaceUrl:!0},Fe=W?.navigationId?W:null;if(W){const Dt={...W};delete Dt.navigationId,delete Dt.\u0275routerPageId,0!==Object.keys(Dt).length&&(fe.state=Dt)}const $t=this.parseUrl(b);this.scheduleNavigation($t,M,Fe,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(Xo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,M={}){const{relativeTo:W,queryParams:fe,fragment:Fe,queryParamsHandling:$t,preserveFragment:Dt}=M,Dn=Dt?this.currentUrlTree.fragment:Fe;let Pn,Yn=null;switch($t){case"merge":Yn={...this.currentUrlTree.queryParams,...fe};break;case"preserve":Yn=this.currentUrlTree.queryParams;break;default:Yn=fe||null}null!==Yn&&(Yn=this.removeEmptyProps(Yn));try{Pn=wr(W?W.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||"/"!==b[0][0])&&(b=[]),Pn=this.currentUrlTree.root}return xn(Pn,b,Yn,Dn??null)}navigateByUrl(b,M={skipLocationChange:!1}){const W=ei(b)?b:this.parseUrl(b),fe=this.urlHandlingStrategy.merge(W,this.rawUrlTree);return this.scheduleNavigation(fe,Ui,null,M)}navigate(b,M={skipLocationChange:!1}){return function fs(C){for(let P=0;P<C.length;P++)if(null==C[P])throw new l.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,M),M)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){try{return this.urlSerializer.parse(b)}catch{return this.urlSerializer.parse("/")}}isActive(b,M){let W;if(W=!0===M?{...fa}:!1===M?{...Qo}:M,ei(b))return Un(this.currentUrlTree,b,W);const fe=this.parseUrl(b);return Un(this.currentUrlTree,fe,W)}removeEmptyProps(b){return Object.entries(b).reduce((M,[W,fe])=>(null!=fe&&(M[W]=fe),M),{})}scheduleNavigation(b,M,W,fe,Fe){if(this.disposed)return Promise.resolve(!1);let $t,Dt,Dn;Fe?($t=Fe.resolve,Dt=Fe.reject,Dn=Fe.promise):Dn=new Promise((Pn,Hr)=>{$t=Pn,Dt=Hr});const Yn=this.pendingTasks.add();return fi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Yn))}),this.navigationTransitions.handleNavigationRequest({source:M,restoredState:W,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:fe,resolve:$t,reject:Dt,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(Pn=>Promise.reject(Pn))}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Gs=(()=>{class C{constructor(b,M,W,fe,Fe,$t){this.router=b,this.route=M,this.tabIndexAttribute=W,this.renderer=fe,this.el=Fe,this.locationStrategy=$t,this.href=null,this.onChanges=new it.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Dt=Fe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===Dt||"area"===Dt,this.isAnchorElement?this.subscription=b.events.subscribe(Dn=>{Dn instanceof Bi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null==b?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ei(b)||Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0"))}onClick(b,M,W,fe,Fe){const $t=this.urlTree;return!!(null===$t||this.isAnchorElement&&(0!==b||M||W||fe||Fe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl($t,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const b=this.urlTree;this.href=null!==b&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(b)):null;const M=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",M)}applyAttributeValue(b,M){const W=this.renderer,fe=this.el.nativeElement;null!==M?W.setAttribute(fe,b,M):W.removeAttribute(fe,b)}get urlTree(){return null===this.routerLinkInput?null:ei(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(M){return new(M||C)(l.rXU(Oi),l.rXU(tn),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(Re.hb))};static#t=this.\u0275dir=l.FsC({type:C,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(M,W){1&M&&l.bIt("click",function(Fe){return W.onClick(Fe.button,Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey)}),2&M&&l.BMQ("target",W.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}return C})();class Ja{}let Pd=(()=>{class C{preload(b,M){return M().pipe(It(()=>(0,Ae.of)(null)))}static#e=this.\u0275fac=function(M){return new(M||C)};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})(),Ma=(()=>{class C{constructor(b,M,W,fe,Fe){this.router=b,this.injector=W,this.preloadingStrategy=fe,this.loader=Fe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Nt.p)(b=>b instanceof Bi),Ye(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,M){const W=[];for(const fe of M){fe.providers&&!fe._injector&&(fe._injector=(0,l.Ol2)(fe.providers,b,`Route: ${fe.path}`));const Fe=fe._injector??b,$t=fe._loadedInjector??Fe;(fe.loadChildren&&!fe._loadedRoutes&&void 0===fe.canLoad||fe.loadComponent&&!fe._loadedComponent)&&W.push(this.preloadConfig(Fe,fe)),(fe.children||fe._loadedRoutes)&&W.push(this.processRoutes($t,fe.children??fe._loadedRoutes))}return(0,me.H)(W).pipe((0,an.U)())}preloadConfig(b,M){return this.preloadingStrategy.preload(M,()=>{let W;W=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(b,M):(0,Ae.of)(null);const fe=W.pipe((0,ke.Z)(Fe=>null===Fe?(0,Ae.of)(void 0):(M._loadedRoutes=Fe.routes,M._loadedInjector=Fe.injector,this.processRoutes(Fe.injector??b,Fe.routes))));if(M.loadComponent&&!M._loadedComponent){const Fe=this.loader.loadComponent(M);return(0,me.H)([fe,Fe]).pipe((0,an.U)())}return fe})}static#e=this.\u0275fac=function(M){return new(M||C)(l.KVO(Oi),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(Ja),l.KVO(zs))};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}return C})();const ml=new l.nKC("");let Gi=(()=>{class C{constructor(b,M,W,fe,Fe={}){this.urlSerializer=b,this.transitions=M,this.viewportScroller=W,this.zone=fe,this.options=Fe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Fe.scrollPositionRestoration||="disabled",Fe.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof bt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Bi?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof wi&&b.code===Rs.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof ks&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,M){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ks(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(M){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:C,factory:C.\u0275fac})}return C})();function Na(C,P){return{\u0275kind:C,\u0275providers:P}}function Zo(){const C=(0,l.WQX)(l.zZn);return P=>{const b=C.get(l.o8S);if(P!==b.components[0])return;const M=C.get(Oi),W=C.get(Ks);1===C.get(Ro)&&M.initialNavigation(),C.get(os,null,l.$GK.Optional)?.setUpPreloading(),C.get(ml,null,l.$GK.Optional)?.init(),M.resetRootComponentType(b.componentTypes[0]),W.closed||(W.next(),W.complete(),W.unsubscribe())}}const Ks=new l.nKC("",{factory:()=>new it.B}),Ro=new l.nKC("",{providedIn:"root",factory:()=>1}),os=new l.nKC("");function cc(C){return Na(0,[{provide:os,useExisting:Ma},{provide:Ja,useExisting:C}])}function Es(C){return Na(9,[{provide:R,useValue:V},{provide:oe,useValue:{skipNextTransition:!!C?.skipInitialTransition,...C}}])}const vl=new l.nKC("ROUTER_FORROOT_GUARD"),uc=[Re.aZ,{provide:Xn,useClass:cr},Oi,$i,{provide:tn,useFactory:function tl(C){return C.routerState.root},deps:[Oi]},zs,[]];let ma=(()=>{class C{constructor(b){}static forRoot(b,M){return{ngModule:C,providers:[uc,[],{provide:Za,multi:!0,useValue:b},{provide:vl,useFactory:Ws,deps:[[Oi,new l.Xx1,new l.kdw]]},{provide:qo,useValue:M||{}},M?.useHash?{provide:Re.hb,useClass:Re.fw}:{provide:Re.hb,useClass:Re.Sm},{provide:ml,useFactory:()=>{const C=(0,l.WQX)(Re.Xr),P=(0,l.WQX)(l.SKi),b=(0,l.WQX)(qo),M=(0,l.WQX)(jt),W=(0,l.WQX)(Xn);return b.scrollOffset&&C.setOffset(b.scrollOffset),new Gi(W,M,C,P,b)}},M?.preloadingStrategy?cc(M.preloadingStrategy).\u0275providers:[],M?.initialNavigation?hc(M):[],M?.bindToComponentInputs?Na(8,[mi,{provide:Pi,useExisting:mi}]).\u0275providers:[],M?.enableViewTransitions?Es().\u0275providers:[],[{provide:_l,useFactory:Zo},{provide:l.iLQ,multi:!0,useExisting:_l}]]}}static forChild(b){return{ngModule:C,providers:[{provide:Za,multi:!0,useValue:b}]}}static#e=this.\u0275fac=function(M){return new(M||C)(l.KVO(vl,8))};static#t=this.\u0275mod=l.$C({type:C});static#n=this.\u0275inj=l.G2t({})}return C})();function Ws(C){return"guarded"}function hc(C){return["disabled"===C.initialNavigation?Na(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const P=(0,l.WQX)(Oi);return()=>{P.setUpLocationChangeListener()}}},{provide:Ro,useValue:2}]).\u0275providers:[],"enabledBlocking"===C.initialNavigation?Na(2,[{provide:Ro,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:P=>{const b=P.get(Re.hj,Promise.resolve());return()=>b.then(()=>new Promise(M=>{const W=P.get(Oi),fe=P.get(Ks);fi(W,()=>{M(!0)}),P.get(jt).afterPreactivation=()=>(M(!0),fe.closed?(0,Ae.of)(void 0):fe),W.initialNavigation()}))}}]).\u0275providers:[]]}const _l=new l.nKC("")},3345:(_n,vt,k)=>{"use strict";k.d(vt,{A:()=>ct});var l=k(1076),U=k(1362),Te=k(7852),ie=k(8041);class me{constructor(st,Ze){this._delegate=st,this.firebase=Ze,(0,Te._addComponent)(st,new U.uA("app-compat",()=>this,"PUBLIC")),this.container=st.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(st){this._delegate.automaticDataCollectionEnabled=st}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(st=>{this._delegate.checkDestroyed(),st()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Te.deleteApp)(this._delegate)))}_getService(st,Ze=Te._DEFAULT_ENTRY_NAME){var wt;this._delegate.checkDestroyed();const yt=this._delegate.container.getProvider(st);return!yt.isInitialized()&&"EXPLICIT"===(null===(wt=yt.getComponent())||void 0===wt?void 0:wt.instantiationMode)&&yt.initialize(),yt.getImmediate({identifier:Ze})}_removeServiceInstance(st,Ze=Te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(st).clearInstance(Ze)}_addComponent(st){(0,Te._addComponent)(this._delegate,st)}_addOrOverwriteComponent(st){(0,Te._addOrOverwriteComponent)(this._delegate,st)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Oe=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Me=function Ke(){const ut=function $e(ut){const st={},Ze={__esModule:!0,initializeApp:function it(at,ze={}){const Nt=Te.initializeApp(at,ze);if((0,l.gR)(st,Nt.name))return st[Nt.name];const ke=new ut(Nt,Ze);return st[Nt.name]=ke,ke},app:yt,registerVersion:Te.registerVersion,setLogLevel:Te.setLogLevel,onLog:Te.onLog,apps:null,SDK_VERSION:Te.SDK_VERSION,INTERNAL:{registerComponent:function _e(at){const ze=at.name,Nt=ze.replace("-compat","");if(Te._registerComponent(at)&&"PUBLIC"===at.type){const ke=(mt=yt())=>{if("function"!=typeof mt[Nt])throw Oe.create("invalid-app-argument",{appName:ze});return mt[Nt]()};void 0!==at.serviceProps&&(0,l.zw)(ke,at.serviceProps),Ze[Nt]=ke,ut.prototype[Nt]=function(...mt){return this._getService.bind(this,ze).apply(this,at.multipleInstances?mt:[])}}return"PUBLIC"===at.type?Ze[Nt]:null},removeApp:function wt(at){delete st[at]},useAsService:function et(at,ze){return"serverAuth"===ze?null:ze},modularAPIs:Te}};function yt(at){if(!(0,l.gR)(st,at=at||Te._DEFAULT_ENTRY_NAME))throw Oe.create("no-app",{appName:at});return st[at]}return Ze.default=Ze,Object.defineProperty(Ze,"apps",{get:function Re(){return Object.keys(st).map(at=>st[at])}}),yt.App=ut,Ze}(me);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:Ke,extendNamespace:function st(Ze){(0,l.zw)(ut,Ze)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),ut}(),le=new ie.Vy("@firebase/app-compat");if((0,l.Bd)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ct=Me;!function Ue(ut){(0,Te.registerVersion)("@firebase/app-compat","0.2.37",ut)}()},7852:(_n,vt,k)=>{"use strict";k.r(vt),k.d(vt,{FirebaseError:()=>ie.g,SDK_VERSION:()=>Di,_DEFAULT_ENTRY_NAME:()=>gr,_addComponent:()=>qn,_addOrOverwriteComponent:()=>Jn,_apps:()=>qt,_clearComponents:()=>cr,_components:()=>Sr,_getProvider:()=>pi,_isFirebaseApp:()=>oi,_isFirebaseServerApp:()=>Xn,_registerComponent:()=>Ir,_removeServiceInstance:()=>Kn,_serverApps:()=>Pr,deleteApp:()=>se,getApp:()=>Rt,getApps:()=>He,initializeApp:()=>In,initializeServerApp:()=>Rn,onLog:()=>De,registerVersion:()=>ge,setLogLevel:()=>qe});var l=k(467),U=k(1362),Te=k(8041),ie=k(1076);const me=(Q,re)=>re.some(z=>Q instanceof z);let Ae,Oe;const Me=new WeakMap,le=new WeakMap,Be=new WeakMap,je=new WeakMap,Ue=new WeakMap;let st={get(Q,re,z){if(Q instanceof IDBTransaction){if("done"===re)return le.get(Q);if("objectStoreNames"===re)return Q.objectStoreNames||Be.get(Q);if("store"===re)return z.objectStoreNames[1]?void 0:z.objectStore(z.objectStoreNames[0])}return it(Q[re])},set:(Q,re,z)=>(Q[re]=z,!0),has:(Q,re)=>Q instanceof IDBTransaction&&("done"===re||"store"===re)||re in Q};function yt(Q){return"function"==typeof Q?function wt(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ke(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...re){return Q.apply(Re(this),re),it(Me.get(this))}:function(...re){return it(Q.apply(Re(this),re))}:function(re,...z){const ce=Q.call(Re(this),re,...z);return Be.set(ce,re.sort?re.sort():[re]),it(ce)}}(Q):(Q instanceof IDBTransaction&&function ut(Q){if(le.has(Q))return;const re=new Promise((z,ce)=>{const Ge=()=>{Q.removeEventListener("complete",Ie),Q.removeEventListener("error",dt),Q.removeEventListener("abort",dt)},Ie=()=>{z(),Ge()},dt=()=>{ce(Q.error||new DOMException("AbortError","AbortError")),Ge()};Q.addEventListener("complete",Ie),Q.addEventListener("error",dt),Q.addEventListener("abort",dt)});le.set(Q,re)}(Q),me(Q,function $e(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,st):Q)}function it(Q){if(Q instanceof IDBRequest)return function ct(Q){const re=new Promise((z,ce)=>{const Ge=()=>{Q.removeEventListener("success",Ie),Q.removeEventListener("error",dt)},Ie=()=>{z(it(Q.result)),Ge()},dt=()=>{ce(Q.error),Ge()};Q.addEventListener("success",Ie),Q.addEventListener("error",dt)});return re.then(z=>{z instanceof IDBCursor&&Me.set(z,Q)}).catch(()=>{}),Ue.set(re,Q),re}(Q);if(je.has(Q))return je.get(Q);const re=yt(Q);return re!==Q&&(je.set(Q,re),Ue.set(re,Q)),re}const Re=Q=>Ue.get(Q),at=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],Nt=new Map;function ke(Q,re){if(!(Q instanceof IDBDatabase)||re in Q||"string"!=typeof re)return;if(Nt.get(re))return Nt.get(re);const z=re.replace(/FromIndex$/,""),ce=re!==z,Ge=ze.includes(z);if(!(z in(ce?IDBIndex:IDBObjectStore).prototype)||!Ge&&!at.includes(z))return;const Ie=function(){var dt=(0,l.A)(function*(Vt,...En){const Fn=this.transaction(Vt,Ge?"readwrite":"readonly");let vr=Fn.store;return ce&&(vr=vr.index(En.shift())),(yield Promise.all([vr[z](...En),Ge&&Fn.done]))[0]});return function(En){return dt.apply(this,arguments)}}();return Nt.set(re,Ie),Ie}!function Ze(Q){st=Q(st)}(Q=>({...Q,get:(re,z,ce)=>ke(re,z)||Q.get(re,z,ce),has:(re,z)=>!!ke(re,z)||Q.has(re,z)}));class mt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(z=>{if(function Ye(Q){const re=Q.getComponent();return"VERSION"===re?.type}(z)){const ce=z.getImmediate();return`${ce.library}/${ce.version}`}return null}).filter(z=>z).join(" ")}}const Et="@firebase/app",It="0.10.7",rn=new Te.Vy("@firebase/app"),gr="[DEFAULT]",Sn={[Et]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Pr=new Map,Sr=new Map;function qn(Q,re){try{Q.container.addComponent(re)}catch(z){rn.debug(`Component ${re.name} failed to register with FirebaseApp ${Q.name}`,z)}}function Jn(Q,re){Q.container.addOrOverwriteComponent(re)}function Ir(Q){const re=Q.name;if(Sr.has(re))return rn.debug(`There were multiple attempts to register component ${re}.`),!1;Sr.set(re,Q);for(const z of qt.values())qn(z,Q);for(const z of Pr.values())qn(z,Q);return!0}function pi(Q,re){const z=Q.container.getProvider("heartbeat").getImmediate({optional:!0});return z&&z.triggerHeartbeat(),Q.container.getProvider(re)}function Kn(Q,re,z=gr){pi(Q,re).clearInstance(z)}function oi(Q){return void 0!==Q.options}function Xn(Q){return void 0!==Q.settings}function cr(){Sr.clear()}const Xt=new ie.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Lr{constructor(re,z,ce){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},z),this._name=z.name,this._automaticDataCollectionEnabled=z.automaticDataCollectionEnabled,this._container=ce,this.container.addComponent(new U.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}class ui extends Lr{constructor(re,z,ce,Ge){const Ie=void 0!==z.automaticDataCollectionEnabled&&z.automaticDataCollectionEnabled,dt={name:ce,automaticDataCollectionEnabled:Ie};super(void 0!==re.apiKey?re:re.options,dt,Ge),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ie},z),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,z.releaseOnDeref=void 0,ge(Et,It,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(re){this.isDeleted||(this._refCount++,void 0!==re&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(re,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){se(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Xt.create("server-app-deleted")}}const Di="10.12.4";function In(Q,re={}){let z=Q;"object"!=typeof re&&(re={name:re});const ce=Object.assign({name:gr,automaticDataCollectionEnabled:!1},re),Ge=ce.name;if("string"!=typeof Ge||!Ge)throw Xt.create("bad-app-name",{appName:String(Ge)});if(z||(z=(0,ie.T9)()),!z)throw Xt.create("no-options");const Ie=qt.get(Ge);if(Ie){if((0,ie.bD)(z,Ie.options)&&(0,ie.bD)(ce,Ie.config))return Ie;throw Xt.create("duplicate-app",{appName:Ge})}const dt=new U.h1(Ge);for(const En of Sr.values())dt.addComponent(En);const Vt=new Lr(z,ce,dt);return qt.set(Ge,Vt),Vt}function Rn(Q,re){if((0,ie.Bd)()&&!(0,ie.p7)())throw Xt.create("invalid-server-app-environment");let z;void 0===re.automaticDataCollectionEnabled&&(re.automaticDataCollectionEnabled=!1),z=oi(Q)?Q.options:Q;const ce=Object.assign(Object.assign({},re),z);if(void 0!==ce.releaseOnDeref&&delete ce.releaseOnDeref,void 0!==re.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Xt.create("finalization-registry-not-supported",{});const Ie=""+(Fn=JSON.stringify(ce),[...Fn].reduce((vr,Ri)=>Math.imul(31,vr)+Ri.charCodeAt(0)|0,0)),dt=Pr.get(Ie);var Fn;if(dt)return dt.incRefCount(re.releaseOnDeref),dt;const Vt=new U.h1(Ie);for(const Fn of Sr.values())Vt.addComponent(Fn);const En=new ui(z,re,Ie,Vt);return Pr.set(Ie,En),En}function Rt(Q=gr){const re=qt.get(Q);if(!re&&Q===gr&&(0,ie.T9)())return In();if(!re)throw Xt.create("no-app",{appName:Q});return re}function He(){return Array.from(qt.values())}function se(Q){return ve.apply(this,arguments)}function ve(){return(ve=(0,l.A)(function*(Q){let re=!1;const z=Q.name;qt.has(z)?(re=!0,qt.delete(z)):Pr.has(z)&&Q.decRefCount()<=0&&(Pr.delete(z),re=!0),re&&(yield Promise.all(Q.container.getProviders().map(ce=>ce.delete())),Q.isDeleted=!0)})).apply(this,arguments)}function ge(Q,re,z){var ce;let Ge=null!==(ce=Sn[Q])&&void 0!==ce?ce:Q;z&&(Ge+=`-${z}`);const Ie=Ge.match(/\s|\//),dt=re.match(/\s|\//);if(Ie||dt){const Vt=[`Unable to register library "${Ge}" with version "${re}":`];return Ie&&Vt.push(`library name "${Ge}" contains illegal characters (whitespace or "/")`),Ie&&dt&&Vt.push("and"),dt&&Vt.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void rn.warn(Vt.join(" "))}Ir(new U.uA(`${Ge}-version`,()=>({library:Ge,version:re}),"VERSION"))}function De(Q,re){if(null!==Q&&"function"!=typeof Q)throw Xt.create("invalid-log-argument");(0,Te.Ey)(Q,re)}function qe(Q){(0,Te.He)(Q)}const Ut="firebase-heartbeat-database",_t=1,mn="firebase-heartbeat-store";let Nn=null;function er(){return Nn||(Nn=function _e(Q,re,{blocked:z,upgrade:ce,blocking:Ge,terminated:Ie}={}){const dt=indexedDB.open(Q,re),Vt=it(dt);return ce&&dt.addEventListener("upgradeneeded",En=>{ce(it(dt.result),En.oldVersion,En.newVersion,it(dt.transaction),En)}),z&&dt.addEventListener("blocked",En=>z(En.oldVersion,En.newVersion,En)),Vt.then(En=>{Ie&&En.addEventListener("close",()=>Ie()),Ge&&En.addEventListener("versionchange",Fn=>Ge(Fn.oldVersion,Fn.newVersion,Fn))}).catch(()=>{}),Vt}(Ut,_t,{upgrade:(Q,re)=>{if(0===re)try{Q.createObjectStore(mn)}catch(z){console.warn(z)}}}).catch(Q=>{throw Xt.create("idb-open",{originalErrorMessage:Q.message})})),Nn}function ai(){return(ai=(0,l.A)(function*(Q){try{const z=(yield er()).transaction(mn),ce=yield z.objectStore(mn).get(fn(Q));return yield z.done,ce}catch(re){if(re instanceof ie.g)rn.warn(re.message);else{const z=Xt.create("idb-get",{originalErrorMessage:re?.message});rn.warn(z.message)}}})).apply(this,arguments)}function zr(Q,re){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.A)(function*(Q,re){try{const ce=(yield er()).transaction(mn,"readwrite");yield ce.objectStore(mn).put(re,fn(Q)),yield ce.done}catch(z){if(z instanceof ie.g)rn.warn(z.message);else{const ce=Xt.create("idb-set",{originalErrorMessage:z?.message});rn.warn(ce.message)}}})).apply(this,arguments)}function fn(Q){return`${Q.name}!${Q.options.appId}`}class wr{constructor(re){this.container=re,this._heartbeatsCache=null;const z=this.container.getProvider("app").getImmediate();this._storage=new Er(z),this._heartbeatsCachePromise=this._storage.read().then(ce=>(this._heartbeatsCache=ce,ce))}triggerHeartbeat(){var re=this;return(0,l.A)(function*(){var z,ce;const Ie=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),dt=xn();if((null!=(null===(z=re._heartbeatsCache)||void 0===z?void 0:z.heartbeats)||(re._heartbeatsCache=yield re._heartbeatsCachePromise,null!=(null===(ce=re._heartbeatsCache)||void 0===ce?void 0:ce.heartbeats)))&&re._heartbeatsCache.lastSentHeartbeatDate!==dt&&!re._heartbeatsCache.heartbeats.some(Vt=>Vt.date===dt))return re._heartbeatsCache.heartbeats.push({date:dt,agent:Ie}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(Vt=>{const En=new Date(Vt.date).valueOf();return Date.now()-En<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,l.A)(function*(){var z;if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null==(null===(z=re._heartbeatsCache)||void 0===z?void 0:z.heartbeats)||0===re._heartbeatsCache.heartbeats.length)return"";const ce=xn(),{heartbeatsToSend:Ge,unsentEntries:Ie}=function Si(Q,re=1024){const z=[];let ce=Q.slice();for(const Ge of Q){const Ie=z.find(dt=>dt.agent===Ge.agent);if(Ie){if(Ie.dates.push(Ge.date),Is(z)>re){Ie.dates.pop();break}}else if(z.push({agent:Ge.agent,dates:[Ge.date]}),Is(z)>re){z.pop();break}ce=ce.slice(1)}return{heartbeatsToSend:z,unsentEntries:ce}}(re._heartbeatsCache.heartbeats),dt=(0,ie.Uj)(JSON.stringify({version:2,heartbeats:Ge}));return re._heartbeatsCache.lastSentHeartbeatDate=ce,Ie.length>0?(re._heartbeatsCache.heartbeats=Ie,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),dt})()}}function xn(){return(new Date).toISOString().substring(0,10)}class Er{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,ie.zW)()&&(0,ie.eX)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,l.A)(function*(){if(yield re._canUseIndexedDBPromise){const ce=yield function Ii(Q){return ai.apply(this,arguments)}(re.app);return ce?.heartbeats?ce:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(re){var z=this;return(0,l.A)(function*(){var ce;if(yield z._canUseIndexedDBPromise){const Ie=yield z.read();return zr(z.app,{lastSentHeartbeatDate:null!==(ce=re.lastSentHeartbeatDate)&&void 0!==ce?ce:Ie.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var z=this;return(0,l.A)(function*(){var ce;if(yield z._canUseIndexedDBPromise){const Ie=yield z.read();return zr(z.app,{lastSentHeartbeatDate:null!==(ce=re.lastSentHeartbeatDate)&&void 0!==ce?ce:Ie.lastSentHeartbeatDate,heartbeats:[...Ie.heartbeats,...re.heartbeats]})}})()}}function Is(Q){return(0,ie.Uj)(JSON.stringify({version:2,heartbeats:Q})).length}!function Mr(Q){Ir(new U.uA("platform-logger",re=>new mt(re),"PRIVATE")),Ir(new U.uA("heartbeat",re=>new wr(re),"PRIVATE")),ge(Et,It,Q),ge(Et,It,"esm2017"),ge("fire-js","")}("")},1362:(_n,vt,k)=>{"use strict";k.d(vt,{h1:()=>$e,uA:()=>Te});var l=k(467),U=k(1076);class Te{constructor(Me,le,Be){this.name=Me,this.instanceFactory=le,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Me){return this.instantiationMode=Me,this}setMultipleInstances(Me){return this.multipleInstances=Me,this}setServiceProps(Me){return this.serviceProps=Me,this}setInstanceCreatedCallback(Me){return this.onInstanceCreated=Me,this}}const ie="[DEFAULT]";class me{constructor(Me,le){this.name=Me,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Me){const le=this.normalizeInstanceIdentifier(Me);if(!this.instancesDeferred.has(le)){const Be=new U.cY;if(this.instancesDeferred.set(le,Be),this.isInitialized(le)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:le});je&&Be.resolve(je)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(Me){var le;const Be=this.normalizeInstanceIdentifier(Me?.identifier),je=null!==(le=Me?.optional)&&void 0!==le&&le;if(!this.isInitialized(Be)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(Ue){if(je)return null;throw Ue}}getComponent(){return this.component}setComponent(Me){if(Me.name!==this.name)throw Error(`Mismatching Component ${Me.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Me,this.shouldAutoInitialize()){if(function Oe(Ke){return"EAGER"===Ke.instantiationMode}(Me))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[le,Be]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(le);try{const Ue=this.getOrInitializeService({instanceIdentifier:je});Be.resolve(Ue)}catch{}}}}clearInstance(Me=ie){this.instancesDeferred.delete(Me),this.instancesOptions.delete(Me),this.instances.delete(Me)}delete(){var Me=this;return(0,l.A)(function*(){const le=Array.from(Me.instances.values());yield Promise.all([...le.filter(Be=>"INTERNAL"in Be).map(Be=>Be.INTERNAL.delete()),...le.filter(Be=>"_delete"in Be).map(Be=>Be._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Me=ie){return this.instances.has(Me)}getOptions(Me=ie){return this.instancesOptions.get(Me)||{}}initialize(Me={}){const{options:le={}}=Me,Be=this.normalizeInstanceIdentifier(Me.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Be,options:le});for(const[Ue,ct]of this.instancesDeferred.entries())Be===this.normalizeInstanceIdentifier(Ue)&&ct.resolve(je);return je}onInit(Me,le){var Be;const je=this.normalizeInstanceIdentifier(le),Ue=null!==(Be=this.onInitCallbacks.get(je))&&void 0!==Be?Be:new Set;Ue.add(Me),this.onInitCallbacks.set(je,Ue);const ct=this.instances.get(je);return ct&&Me(ct,je),()=>{Ue.delete(Me)}}invokeOnInitCallbacks(Me,le){const Be=this.onInitCallbacks.get(le);if(Be)for(const je of Be)try{je(Me,le)}catch{}}getOrInitializeService({instanceIdentifier:Me,options:le={}}){let Be=this.instances.get(Me);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:(Ke=Me,Ke===ie?void 0:Ke),options:le}),this.instances.set(Me,Be),this.instancesOptions.set(Me,le),this.invokeOnInitCallbacks(Be,Me),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Me,Be)}catch{}var Ke;return Be||null}normalizeInstanceIdentifier(Me=ie){return this.component?this.component.multipleInstances?Me:ie:Me}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class $e{constructor(Me){this.name=Me,this.providers=new Map}addComponent(Me){const le=this.getProvider(Me.name);if(le.isComponentSet())throw new Error(`Component ${Me.name} has already been registered with ${this.name}`);le.setComponent(Me)}addOrOverwriteComponent(Me){this.getProvider(Me.name).isComponentSet()&&this.providers.delete(Me.name),this.addComponent(Me)}getProvider(Me){if(this.providers.has(Me))return this.providers.get(Me);const le=new me(Me,this);return this.providers.set(Me,le),le}getProviders(){return Array.from(this.providers.values())}}},8041:(_n,vt,k)=>{"use strict";k.d(vt,{$b:()=>U,Ey:()=>Ke,He:()=>$e,Vy:()=>Oe});const l=[];var U=function(Me){return Me[Me.DEBUG=0]="DEBUG",Me[Me.VERBOSE=1]="VERBOSE",Me[Me.INFO=2]="INFO",Me[Me.WARN=3]="WARN",Me[Me.ERROR=4]="ERROR",Me[Me.SILENT=5]="SILENT",Me}(U||{});const Te={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},ie=U.INFO,me={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},Ae=(Me,le,...Be)=>{if(le<Me.logLevel)return;const je=(new Date).toISOString(),Ue=me[le];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Ue](`[${je}]  ${Me.name}:`,...Be)};class Oe{constructor(le){this.name=le,this._logLevel=ie,this._logHandler=Ae,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in U))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?Te[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...le),this._logHandler(this,U.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...le),this._logHandler(this,U.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,U.INFO,...le),this._logHandler(this,U.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,U.WARN,...le),this._logHandler(this,U.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...le),this._logHandler(this,U.ERROR,...le)}}function $e(Me){l.forEach(le=>{le.setLogLevel(Me)})}function Ke(Me,le){for(const Be of l){let je=null;le&&le.level&&(je=Te[le.level]),Be.userLogHandler=null===Me?null:(Ue,ct,...ut)=>{const st=ut.map(Ze=>{if(null==Ze)return null;if("string"==typeof Ze)return Ze;if("number"==typeof Ze||"boolean"==typeof Ze)return Ze.toString();if(Ze instanceof Error)return Ze.message;try{return JSON.stringify(Ze)}catch{return null}}).filter(Ze=>Ze).join(" ");ct>=(je??Ue.logLevel)&&Me({level:U[ct].toLowerCase(),message:st,args:ut,type:Ue.name})}}}},2872:(_n,vt,k)=>{"use strict";k.d(vt,{Yq:()=>On,TS:()=>Zn,sR:()=>pr,el:()=>Nn,Sb:()=>oi,QE:()=>_r,CF:()=>Ir,Rg:()=>ve,p4:()=>fn,jM:()=>Is,q9:()=>Kt,Kb:()=>Mr,CE:()=>er,pF:()=>Ii,fL:()=>ys,YV:()=>Ut,er:()=>ei,z3:()=>wr});var l=k(467),U=k(3953),Te=k(4964),ie=k(177),me=k(5531),Ae=k(4442);var ke=k(1413),mt=k(3726),Ye=k(4412),Et=k(4572),It=k(7673),rn=k(1635),Qe=k(5964),Ce=k(5558),q=k(3294),ne=k(4341);const ae=["tabsInner"];let Ht=(()=>{class Q{doc;_readyPromise;win;backButton=new ke.B;keyboardDidShow=new ke.B;keyboardDidHide=new ke.B;pause=new ke.B;resume=new ke.B;resize=new ke.B;constructor(z,ce){this.doc=z,ce.run(()=>{let Ge;this.win=z.defaultView,this.backButton.subscribeWithPriority=function(Ie,dt){return this.subscribe(Vt=>Vt.register(Ie,En=>ce.run(()=>dt(En))))},Hn(this.pause,z,"pause",ce),Hn(this.resume,z,"resume",ce),Hn(this.backButton,z,"ionBackButton",ce),Hn(this.resize,this.win,"resize",ce),Hn(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ce),Hn(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ce),this._readyPromise=new Promise(Ie=>{Ge=Ie}),this.win?.cordova?z.addEventListener("deviceready",()=>{Ge("cordova")},{once:!0}):Ge("dom")})}is(z){return(0,me.a)(this.win,z)}platforms(){return(0,me.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(z){return an(this.win.location.href,z)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(z){const ce=this.win.navigator;return!!(ce?.userAgent&&ce.userAgent.indexOf(z)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(ce){return new(ce||Q)(U.KVO(ie.qQ),U.KVO(U.SKi))};static \u0275prov=U.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})();const an=(Q,re)=>{re=re.replace(/[[\]\\]/g,"\\$&");const ce=new RegExp("[\\?&]"+re+"=([^&#]*)").exec(Q);return ce?decodeURIComponent(ce[1].replace(/\+/g," ")):null},Hn=(Q,re,z,ce)=>{re&&re.addEventListener(z,Ge=>{ce.run(()=>{const Ie=Ge?.detail;Q.next(Ie)})})};let Kt=(()=>{class Q{location;serializer;router;topOutlet;direction=zn;animated=Ot;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(z,ce,Ge,Ie){this.location=ce,this.serializer=Ge,this.router=Ie,Ie&&Ie.events.subscribe(dt=>{if(dt instanceof Te.Z){const Vt=dt.restoredState?dt.restoredState.navigationId:dt.id;this.guessDirection=this.guessAnimation=Vt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?dt.id:Vt}}),z.backButton.subscribeWithPriority(0,dt=>{this.pop(),dt()})}navigateForward(z,ce={}){return this.setDirection("forward",ce.animated,ce.animationDirection,ce.animation),this.navigate(z,ce)}navigateBack(z,ce={}){return this.setDirection("back",ce.animated,ce.animationDirection,ce.animation),this.navigate(z,ce)}navigateRoot(z,ce={}){return this.setDirection("root",ce.animated,ce.animationDirection,ce.animation),this.navigate(z,ce)}back(z={animated:!0,animationDirection:"back"}){return this.setDirection("back",z.animated,z.animationDirection,z.animation),this.location.back()}pop(){var z=this;return(0,l.A)(function*(){let ce=z.topOutlet;for(;ce;){if(yield ce.pop())return!0;ce=ce.parentOutlet}return!1})()}setDirection(z,ce,Ge,Ie){this.direction=z,this.animated=Bn(z,ce,Ge),this.animationBuilder=Ie}setTopOutlet(z){this.topOutlet=z}consumeTransition(){let ce,z="root";const Ge=this.animationBuilder;return"auto"===this.direction?(z=this.guessDirection,ce=this.guessAnimation):(ce=this.animated,z=this.direction),this.direction=zn,this.animated=Ot,this.animationBuilder=void 0,{direction:z,animation:ce,animationBuilder:Ge}}navigate(z,ce){if(Array.isArray(z))return this.router.navigate(z,ce);{const Ge=this.serializer.parse(z.toString());return void 0!==ce.queryParams&&(Ge.queryParams={...ce.queryParams}),void 0!==ce.fragment&&(Ge.fragment=ce.fragment),this.router.navigateByUrl(Ge,ce)}}static \u0275fac=function(ce){return new(ce||Q)(U.KVO(Ht),U.KVO(ie.aZ),U.KVO(Te.Sd),U.KVO(Te.Ix,8))};static \u0275prov=U.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})();const Bn=(Q,re,z)=>{if(!1!==re){if(void 0!==z)return z;if("forward"===Q||"back"===Q)return Q;if("root"===Q&&!0===re)return"forward"}},zn="auto",Ot=void 0;let Zn=(()=>{class Q{get(z,ce){const Ge=Gn();return Ge?Ge.get(z,ce):null}getBoolean(z,ce){const Ge=Gn();return!!Ge&&Ge.getBoolean(z,ce)}getNumber(z,ce){const Ge=Gn();return Ge?Ge.getNumber(z,ce):0}static \u0275fac=function(ce){return new(ce||Q)};static \u0275prov=U.jDH({token:Q,factory:Q.\u0275fac,providedIn:"root"})}return Q})();const pr=new U.nKC("USERCONFIG"),Gn=()=>{if(typeof window<"u"){const Q=window.Ionic;if(Q?.config)return Q.config}return null};class dn{data;constructor(re={}){this.data=re,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(re){return this.data[re]}}let On=(()=>{class Q{zone=(0,U.WQX)(U.SKi);applicationRef=(0,U.WQX)(U.o8S);config=(0,U.WQX)(pr);create(z,ce,Ge){return new zt(z,ce,this.applicationRef,this.zone,Ge,this.config.useSetInputAPI??!1)}static \u0275fac=function(ce){return new(ce||Q)};static \u0275prov=U.jDH({token:Q,factory:Q.\u0275fac})}return Q})();class zt{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(re,z,ce,Ge,Ie,dt){this.environmentInjector=re,this.injector=z,this.applicationRef=ce,this.zone=Ge,this.elementReferenceKey=Ie,this.enableSignalsSupport=dt}attachViewToDom(re,z,ce,Ge){return this.zone.run(()=>new Promise(Ie=>{const dt={...ce};void 0!==this.elementReferenceKey&&(dt[this.elementReferenceKey]=re),Ie(kt(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,re,z,dt,Ge,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(re,z){return this.zone.run(()=>new Promise(ce=>{const Ge=this.elRefMap.get(z);if(Ge){Ge.destroy(),this.elRefMap.delete(z);const Ie=this.elEventsMap.get(z);Ie&&(Ie(),this.elEventsMap.delete(z))}ce()}))}}const kt=(Q,re,z,ce,Ge,Ie,dt,Vt,En,Fn,vr,Ri)=>{const Ur=U.zZn.create({providers:ri(En),parent:z}),Ui=(0,U.a0P)(Vt,{environmentInjector:re,elementInjector:Ur}),hr=Ui.instance,Hi=Ui.location.nativeElement;if(En)if(vr&&void 0!==hr[vr]&&console.error(`[Ionic Error]: ${vr} is a reserved property when using ${dt.tagName.toLowerCase()}. Rename or remove the "${vr}" property from ${Vt.name}.`),!0===Ri&&void 0!==Ui.setInput){const{modal:Bi,popover:qr,...Rs}=En;for(const Ts in Rs)Ui.setInput(Ts,Rs[Ts]);void 0!==Bi&&Object.assign(hr,{modal:Bi}),void 0!==qr&&Object.assign(hr,{popover:qr})}else Object.assign(hr,En);if(Fn)for(const Bi of Fn)Hi.classList.add(Bi);const bt=pn(Q,hr,Hi);return dt.appendChild(Hi),ce.attachView(Ui.hostView),Ge.set(Hi,Ui),Ie.set(Hi,bt),Hi},Bt=[Ae.L,Ae.a,Ae.b,Ae.c,Ae.d],pn=(Q,re,z)=>Q.run(()=>{const ce=Bt.filter(Ge=>"function"==typeof re[Ge]).map(Ge=>{const Ie=dt=>re[Ge](dt.detail);return z.addEventListener(Ge,Ie),()=>z.removeEventListener(Ge,Ie)});return()=>ce.forEach(Ge=>Ge())}),Un=new U.nKC("NavParamsToken"),ri=Q=>[{provide:Un,useValue:Q},{provide:dn,useFactory:gr,deps:[Un]}],gr=Q=>new dn(Q),Sn=(Q,re)=>{const z=Q.prototype;re.forEach(ce=>{Object.defineProperty(z,ce,{get(){return this.el[ce]},set(Ge){this.z.runOutsideAngular(()=>this.el[ce]=Ge)}})})},qt=(Q,re)=>{const z=Q.prototype;re.forEach(ce=>{z[ce]=function(){const Ge=arguments;return this.z.runOutsideAngular(()=>this.el[ce].apply(this.el,Ge))}})},Pr=(Q,re,z)=>{z.forEach(ce=>Q[ce]=(0,mt.R)(re,ce))};function Sr(Q){return function(z){const{defineCustomElementFn:ce,inputs:Ge,methods:Ie}=Q;return void 0!==ce&&ce(),Ge&&Sn(z,Ge),Ie&&qt(z,Ie),z}}const qn=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Jn=["present","dismiss","onDidDismiss","onWillDismiss"];let Ir=(()=>{let Q=class O0{z;template;isCmpOpen=!1;el;constructor(z,ce,Ge){this.z=Ge,this.el=ce.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,z.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,z.detectChanges()}),Pr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ce){return new(ce||O0)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))};static \u0275dir=U.FsC({type:O0,selectors:[["ion-popover"]],contentQueries:function(ce,Ge,Ie){if(1&ce&&U.wni(Ie,U.C4Q,5),2&ce){let dt;U.mGM(dt=U.lsd())&&(Ge.template=dt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return Q=(0,rn.Cg)([Sr({inputs:qn,methods:Jn})],Q),Q})();const pi=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Kn=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let oi=(()=>{let Q=class x0{z;template;isCmpOpen=!1;el;constructor(z,ce,Ge){this.z=Ge,this.el=ce.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,z.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,z.detectChanges()}),Pr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ce){return new(ce||x0)(U.rXU(U.gRc),U.rXU(U.aKT),U.rXU(U.SKi))};static \u0275dir=U.FsC({type:x0,selectors:[["ion-modal"]],contentQueries:function(ce,Ge,Ie){if(1&ce&&U.wni(Ie,U.C4Q,5),2&ce){let dt;U.mGM(dt=U.lsd())&&(Ge.template=dt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return Q=(0,rn.Cg)([Sr({inputs:pi,methods:Kn})],Q),Q})();const cr=(Q,re)=>((Q=Q.filter(z=>z.stackId!==re.stackId)).push(re),Q),Lr=(Q,re)=>{const z=Q.createUrlTree(["."],{relativeTo:re});return Q.serializeUrl(z)},ui=(Q,re)=>!re||Q.stackId!==re.stackId,Di=(Q,re)=>{if(!Q)return;const z=In(re);for(let ce=0;ce<z.length;ce++){if(ce>=Q.length)return z[ce];if(z[ce]!==Q[ce])return}},In=Q=>Q.split("/").map(re=>re.trim()).filter(re=>""!==re),Rn=Q=>{Q&&(Q.ref.destroy(),Q.unlistenEvents())};class Rt{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(re,z,ce,Ge,Ie,dt){this.containerEl=z,this.router=ce,this.navCtrl=Ge,this.zone=Ie,this.location=dt,this.tabsPrefix=void 0!==re?In(re):void 0}createView(re,z){const ce=Lr(this.router,z),Ge=re?.location?.nativeElement,Ie=pn(this.zone,re.instance,Ge);return{id:this.nextId++,stackId:Di(this.tabsPrefix,ce),unlistenEvents:Ie,element:Ge,ref:re,url:ce}}getExistingView(re){const z=Lr(this.router,re),ce=this.views.find(Ge=>Ge.url===z);return ce&&ce.ref.changeDetectorRef.reattach(),ce}setActive(re){const z=this.navCtrl.consumeTransition();let{direction:ce,animation:Ge,animationBuilder:Ie}=z;const dt=this.activeView,Vt=ui(re,dt);Vt&&(ce="back",Ge=void 0);const En=this.views.slice();let Fn;const vr=this.router;vr.getCurrentNavigation?Fn=vr.getCurrentNavigation():vr.navigations?.value&&(Fn=vr.navigations.value),Fn?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Ri=this.views.includes(re),Ur=this.insertView(re,ce);Ri||re.ref.changeDetectorRef.detectChanges();const Ui=re.animationBuilder;return void 0===Ie&&"back"===ce&&!Vt&&void 0!==Ui&&(Ie=Ui),dt&&(dt.animationBuilder=Ie),this.zone.runOutsideAngular(()=>this.wait(()=>(dt&&dt.ref.changeDetectorRef.detach(),re.ref.changeDetectorRef.reattach(),this.transition(re,dt,Ge,this.canGoBack(1),!1,Ie).then(()=>He(re,Ur,En,this.location,this.zone)).then(()=>({enteringView:re,direction:ce,animation:Ge,tabSwitch:Vt})))))}canGoBack(re,z=this.getActiveStackId()){return this.getStack(z).length>re}pop(re,z=this.getActiveStackId()){return this.zone.run(()=>{const ce=this.getStack(z);if(ce.length<=re)return Promise.resolve(!1);const Ge=ce[ce.length-re-1];let Ie=Ge.url;const dt=Ge.savedData;if(dt){const En=dt.get("primary");En?.route?._routerState?.snapshot.url&&(Ie=En.route._routerState.snapshot.url)}const{animationBuilder:Vt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ie,{...Ge.savedExtras,animation:Vt}).then(()=>!0)})}startBackTransition(){const re=this.activeView;if(re){const z=this.getStack(re.stackId),ce=z[z.length-2],Ge=ce.animationBuilder;return this.wait(()=>this.transition(ce,re,"back",this.canGoBack(2),!0,Ge))}return Promise.resolve()}endBackTransition(re){re?(this.skipTransition=!0,this.pop(1)):this.activeView&&se(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(re){const z=this.getStack(re);return z.length>0?z[z.length-1]:void 0}getRootUrl(re){const z=this.getStack(re);return z.length>0?z[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Rn),this.activeView=void 0,this.views=[]}getStack(re){return this.views.filter(z=>z.stackId===re)}insertView(re,z){return this.activeView=re,this.views=((Q,re,z)=>"root"===z?cr(Q,re):"forward"===z?((Q,re)=>(Q.indexOf(re)>=0?Q=Q.filter(ce=>ce.stackId!==re.stackId||ce.id<=re.id):Q.push(re),Q))(Q,re):((Q,re)=>Q.indexOf(re)>=0?Q.filter(ce=>ce.stackId!==re.stackId||ce.id<=re.id):cr(Q,re))(Q,re))(this.views,re,z),this.views.slice()}transition(re,z,ce,Ge,Ie,dt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(z===re)return Promise.resolve(!1);const Vt=re?re.element:void 0,En=z?z.element:void 0,Fn=this.containerEl;return Vt&&Vt!==En&&(Vt.classList.add("ion-page"),Vt.classList.add("ion-page-invisible"),Fn.commit)?Fn.commit(Vt,En,{duration:void 0===ce?0:void 0,direction:ce,showGoBack:Ge,progressAnimation:Ie,animationBuilder:dt}):Promise.resolve(!1)}wait(re){var z=this;return(0,l.A)(function*(){void 0!==z.runningTask&&(yield z.runningTask,z.runningTask=void 0);const ce=z.runningTask=re();return ce.finally(()=>z.runningTask=void 0),ce})()}}const He=(Q,re,z,ce,Ge)=>"function"==typeof requestAnimationFrame?new Promise(Ie=>{requestAnimationFrame(()=>{se(Q,re,z,ce,Ge),Ie()})}):Promise.resolve(),se=(Q,re,z,ce,Ge)=>{Ge.run(()=>z.filter(Ie=>!re.includes(Ie)).forEach(Rn)),re.forEach(Ie=>{const Vt=ce.path().split("?")[0].split("#")[0];if(Ie!==Q&&Ie.url!==Vt){const En=Ie.element;En.setAttribute("aria-hidden","true"),En.classList.add("ion-page-hidden"),Ie.ref.changeDetectorRef.detach()}})};let ve=(()=>{class Q{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new Ye.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Te.Xk;stackWillChange=new U.bkB;stackDidChange=new U.bkB;activateEvents=new U.bkB;deactivateEvents=new U.bkB;parentContexts=(0,U.WQX)(Te.Zp);location=(0,U.WQX)(U.c1b);environmentInjector=(0,U.WQX)(U.uvJ);inputBinder=(0,U.WQX)(De,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,U.WQX)(Zn);navCtrl=(0,U.WQX)(Kt);set animation(z){this.nativeEl.animation=z}set animated(z){this.nativeEl.animated=z}set swipeGesture(z){this._swipeGesture=z,this.nativeEl.swipeHandler=z?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ce=>this.stackCtrl.endBackTransition(ce)}:void 0}constructor(z,ce,Ge,Ie,dt,Vt,En,Fn){this.parentOutlet=Fn,this.nativeEl=Ie.nativeElement,this.name=z||Te.Xk,this.tabsPrefix="true"===ce?Lr(dt,En):void 0,this.stackCtrl=new Rt(this.tabsPrefix,this.nativeEl,dt,this.navCtrl,Vt,Ge),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const z=this.getContext();z?.route&&this.activateWith(z.route,z.injector)}new Promise(z=>((Q,re)=>{Q.componentOnReady?Q.componentOnReady().then(z=>re(z)):(Q=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Q):"function"==typeof requestAnimationFrame?requestAnimationFrame(Q):setTimeout(Q)})(()=>re(Q))})(this.nativeEl,z)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(z,ce){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ce=this.getContext();this.activatedView.savedData=new Map(ce.children.contexts);const Ge=this.activatedView.savedData.get("primary");if(Ge&&ce.route&&(Ge.route={...ce.route}),this.activatedView.savedExtras={},ce.route){const Ie=ce.route.snapshot;this.activatedView.savedExtras.queryParams=Ie.queryParams,this.activatedView.savedExtras.fragment=Ie.fragment}}const z=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(z)}}activateWith(z,ce){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=z;let Ge,Ie=this.stackCtrl.getExistingView(z);if(Ie){Ge=this.activated=Ie.ref;const Vt=Ie.savedData;Vt&&(this.getContext().children.contexts=Vt),this.updateActivatedRouteProxy(Ge.instance,z)}else{const Vt=z._futureSnapshot,En=this.parentContexts.getOrCreateContext(this.name).children,Fn=new Ye.t(null),vr=this.createActivatedRouteProxy(Fn,z),Ri=new ge(vr,En,this.location.injector);Ge=this.activated=this.outletContent.createComponent(Vt.routeConfig.component??Vt.component,{index:this.outletContent.length,injector:Ri,environmentInjector:ce??this.environmentInjector}),Fn.next(Ge.instance),Ie=this.stackCtrl.createView(this.activated,z),this.proxyMap.set(Ge.instance,vr),this.currentActivatedRoute$.next({component:Ge.instance,activatedRoute:z})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=Ie,this.navCtrl.setTopOutlet(this);const dt=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Ie,tabSwitch:ui(Ie,dt)}),this.stackCtrl.setActive(Ie).then(Vt=>{this.activateEvents.emit(Ge.instance),this.stackDidChange.emit(Vt)})}canGoBack(z=1,ce){return this.stackCtrl.canGoBack(z,ce)}pop(z=1,ce){return this.stackCtrl.pop(z,ce)}getLastUrl(z){const ce=this.stackCtrl.getLastUrl(z);return ce?ce.url:void 0}getLastRouteView(z){return this.stackCtrl.getLastUrl(z)}getRootView(z){return this.stackCtrl.getRootUrl(z)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(z,ce){const Ge=new Te.nX;return Ge._futureSnapshot=ce._futureSnapshot,Ge._routerState=ce._routerState,Ge.snapshot=ce.snapshot,Ge.outlet=ce.outlet,Ge.component=ce.component,Ge._paramMap=this.proxyObservable(z,"paramMap"),Ge._queryParamMap=this.proxyObservable(z,"queryParamMap"),Ge.url=this.proxyObservable(z,"url"),Ge.params=this.proxyObservable(z,"params"),Ge.queryParams=this.proxyObservable(z,"queryParams"),Ge.fragment=this.proxyObservable(z,"fragment"),Ge.data=this.proxyObservable(z,"data"),Ge}proxyObservable(z,ce){return z.pipe((0,Qe.p)(Ge=>!!Ge),(0,Ce.n)(Ge=>this.currentActivatedRoute$.pipe((0,Qe.p)(Ie=>null!==Ie&&Ie.component===Ge),(0,Ce.n)(Ie=>Ie&&Ie.activatedRoute[ce]),(0,q.F)())))}updateActivatedRouteProxy(z,ce){const Ge=this.proxyMap.get(z);if(!Ge)throw new Error("Could not find activated route proxy for view");Ge._futureSnapshot=ce._futureSnapshot,Ge._routerState=ce._routerState,Ge.snapshot=ce.snapshot,Ge.outlet=ce.outlet,Ge.component=ce.component,this.currentActivatedRoute$.next({component:z,activatedRoute:ce})}static \u0275fac=function(ce){return new(ce||Q)(U.kS0("name"),U.kS0("tabs"),U.rXU(ie.aZ),U.rXU(U.aKT),U.rXU(Te.Ix),U.rXU(U.SKi),U.rXU(Te.nX),U.rXU(Q,12))};static \u0275dir=U.FsC({type:Q,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return Q})();class ge{route;childContexts;parent;constructor(re,z,ce){this.route=re,this.childContexts=z,this.parent=ce}get(re,z){return re===Te.nX?this.route:re===Te.Zp?this.childContexts:this.parent.get(re,z)}}const De=new U.nKC("");let qe=(()=>{class Q{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(z){this.unsubscribeFromRouteData(z),this.subscribeToRouteData(z)}unsubscribeFromRouteData(z){this.outletDataSubscriptions.get(z)?.unsubscribe(),this.outletDataSubscriptions.delete(z)}subscribeToRouteData(z){const{activatedRoute:ce}=z,Ge=(0,Et.z)([ce.queryParams,ce.params,ce.data]).pipe((0,Ce.n)(([Ie,dt,Vt],En)=>(Vt={...Ie,...dt,...Vt},0===En?(0,It.of)(Vt):Promise.resolve(Vt)))).subscribe(Ie=>{if(!z.isActivated||!z.activatedComponentRef||z.activatedRoute!==ce||null===ce.component)return void this.unsubscribeFromRouteData(z);const dt=(0,U.HJs)(ce.component);if(dt)for(const{templateName:Vt}of dt.inputs)z.activatedComponentRef.setInput(Vt,Ie[Vt]);else this.unsubscribeFromRouteData(z)});this.outletDataSubscriptions.set(z,Ge)}static \u0275fac=function(ce){return new(ce||Q)};static \u0275prov=U.jDH({token:Q,factory:Q.\u0275fac})}return Q})();const Ut=()=>({provide:De,useFactory:_t,deps:[Te.Ix]});function _t(Q){return Q?.componentInputBindingEnabled?new qe:null}const mn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let Nn=(()=>{let Q=class k0{routerOutlet;navCtrl;config;r;z;el;constructor(z,ce,Ge,Ie,dt,Vt){this.routerOutlet=z,this.navCtrl=ce,this.config=Ge,this.r=Ie,this.z=dt,Vt.detach(),this.el=this.r.nativeElement}onClick(z){const ce=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),z.preventDefault()):null!=ce&&(this.navCtrl.navigateBack(ce,{animation:this.routerAnimation}),z.preventDefault())}static \u0275fac=function(ce){return new(ce||k0)(U.rXU(ve,8),U.rXU(Kt),U.rXU(Zn),U.rXU(U.aKT),U.rXU(U.SKi),U.rXU(U.gRc))};static \u0275dir=U.FsC({type:k0,hostBindings:function(ce,Ge){1&ce&&U.bIt("click",function(dt){return Ge.onClick(dt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return Q=(0,rn.Cg)([Sr({inputs:mn})],Q),Q})(),er=(()=>{class Q{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(z,ce,Ge,Ie,dt){this.locationStrategy=z,this.navCtrl=ce,this.elementRef=Ge,this.router=Ie,this.routerLink=dt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=z}}onClick(z){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),z.preventDefault()}static \u0275fac=function(ce){return new(ce||Q)(U.rXU(ie.hb),U.rXU(Kt),U.rXU(U.aKT),U.rXU(Te.Ix),U.rXU(Te.Wk,8))};static \u0275dir=U.FsC({type:Q,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ce,Ge){1&ce&&U.bIt("click",function(dt){return Ge.onClick(dt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})}return Q})(),Ii=(()=>{class Q{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(z,ce,Ge,Ie,dt){this.locationStrategy=z,this.navCtrl=ce,this.elementRef=Ge,this.router=Ie,this.routerLink=dt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=z}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(ce){return new(ce||Q)(U.rXU(ie.hb),U.rXU(Kt),U.rXU(U.aKT),U.rXU(Te.Ix),U.rXU(Te.Wk,8))};static \u0275dir=U.FsC({type:Q,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ce,Ge){1&ce&&U.bIt("click",function(){return Ge.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[U.OA$]})}return Q})();const ai=["animated","animation","root","rootParams","swipeGesture"],zr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let _r=(()=>{let Q=class L0{z;el;constructor(z,ce,Ge,Ie,dt,Vt){this.z=dt,Vt.detach(),this.el=z.nativeElement,z.nativeElement.delegate=Ie.create(ce,Ge),Pr(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(ce){return new(ce||L0)(U.rXU(U.aKT),U.rXU(U.uvJ),U.rXU(U.zZn),U.rXU(On),U.rXU(U.SKi),U.rXU(U.gRc))};static \u0275dir=U.FsC({type:L0,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return Q=(0,rn.Cg)([Sr({inputs:ai,methods:zr})],Q),Q})(),fn=(()=>{class Q{navCtrl;tabsInner;ionTabsWillChange=new U.bkB;ionTabsDidChange=new U.bkB;tabBarSlot="bottom";constructor(z){this.navCtrl=z}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:z,tabSwitch:ce}){const Ge=z.stackId;ce&&void 0!==Ge&&this.ionTabsWillChange.emit({tab:Ge})}onStackDidChange({enteringView:z,tabSwitch:ce}){const Ge=z.stackId;ce&&void 0!==Ge&&(this.tabBar&&(this.tabBar.selectedTab=Ge),this.ionTabsDidChange.emit({tab:Ge}))}select(z){const ce="string"==typeof z,Ge=ce?z:z.detail.tab,Ie=this.outlet.getActiveStackId()===Ge,dt=`${this.outlet.tabsPrefix}/${Ge}`;if(ce||z.stopPropagation(),Ie){const Vt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(Vt)?.url===dt)return;const Fn=this.outlet.getRootView(Ge);return this.navCtrl.navigateRoot(dt,{...Fn&&dt===Fn.url&&Fn.savedExtras,animated:!0,animationDirection:"back"})}{const Vt=this.outlet.getLastRouteView(Ge),En=Vt?.url||dt,Fn=Vt?.savedExtras;return this.navCtrl.navigateRoot(En,{...Fn,animated:!0,animationDirection:"back"})}}getSelected(){return this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(z=>{const ce=z.el.getAttribute("slot");ce!==this.tabBarSlot&&(this.tabBarSlot=ce,this.relocateTabBar())})}relocateTabBar(){const z=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(z):this.tabsInner.nativeElement.after(z)}static \u0275fac=function(ce){return new(ce||Q)(U.rXU(Kt))};static \u0275dir=U.FsC({type:Q,selectors:[["ion-tabs"]],viewQuery:function(ce,Ge){if(1&ce&&U.GBs(ae,7,U.aKT),2&ce){let Ie;U.mGM(Ie=U.lsd())&&(Ge.tabsInner=Ie.first)}},hostBindings:function(ce,Ge){1&ce&&U.bIt("ionTabButtonClick",function(dt){return Ge.select(dt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return Q})();const ei=Q=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(Q):"function"==typeof requestAnimationFrame?requestAnimationFrame(Q):setTimeout(Q);let ys=(()=>{class Q{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(z,ce){this.injector=z,this.elementRef=ce}writeValue(z){this.elementRef.nativeElement.value=this.lastValue=z,wr(this.elementRef)}handleValueChange(z,ce){z===this.elementRef.nativeElement&&(ce!==this.lastValue&&(this.lastValue=ce,this.onChange(ce)),wr(this.elementRef))}_handleBlurEvent(z){z===this.elementRef.nativeElement&&(this.onTouched(),wr(this.elementRef))}registerOnChange(z){this.onChange=z}registerOnTouched(z){this.onTouched=z}setDisabledState(z){this.elementRef.nativeElement.disabled=z}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let z;try{z=this.injector.get(ne.vO)}catch{}if(!z)return;z.statusChanges&&(this.statusChanges=z.statusChanges.subscribe(()=>wr(this.elementRef)));const ce=z.control;ce&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ie=>{if(typeof ce[Ie]<"u"){const dt=ce[Ie].bind(ce);ce[Ie]=(...Vt)=>{dt(...Vt),wr(this.elementRef)}}})}static \u0275fac=function(ce){return new(ce||Q)(U.rXU(U.zZn),U.rXU(U.aKT))};static \u0275dir=U.FsC({type:Q,hostBindings:function(ce,Ge){1&ce&&U.bIt("ionBlur",function(dt){return Ge._handleBlurEvent(dt.target)})}})}return Q})();const wr=Q=>{ei(()=>{const re=Q.nativeElement,z=null!=re.value&&re.value.toString().length>0,ce=xn(re);Si(re,ce);const Ge=re.closest("ion-item");Ge&&Si(Ge,z?[...ce,"item-has-value"]:ce)})},xn=Q=>{const re=Q.classList,z=[];for(let ce=0;ce<re.length;ce++){const Ge=re.item(ce);null!==Ge&&Er(Ge,"ng-")&&z.push(`ion-${Ge.substring(3)}`)}return z},Si=(Q,re)=>{const z=Q.classList;z.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),z.add(...re)},Er=(Q,re)=>Q.substring(0,re.length)===re;class Is{shouldDetach(re){return!1}shouldAttach(re){return!1}store(re,z){}retrieve(re){return null}shouldReuseRoute(re,z){if(re.routeConfig!==z.routeConfig)return!1;const ce=re.params,Ge=z.params,Ie=Object.keys(ce),dt=Object.keys(Ge);if(Ie.length!==dt.length)return!1;for(const Vt of Ie)if(Ge[Vt]!==ce[Vt])return!1;return!0}}class Mr{ctrl;constructor(re){this.ctrl=re}create(re){return this.ctrl.create(re||{})}dismiss(re,z,ce){return this.ctrl.dismiss(re,z,ce)}getTop(){return this.ctrl.getTop()}}},9465:(_n,vt,k)=>{"use strict";k.d(vt,{U1:()=>Bn,b_:()=>zt,I9:()=>kt,ME:()=>Bt,tN:()=>Un,W9:()=>qt,uz:()=>Di,he:()=>ve,Rg:()=>qr,Zx:()=>Ui,bv:()=>vo});var l=k(3953),U=k(4341),Te=k(2872),ie=k(1635),me=k(3726),Ae=k(177),Oe=k(4964),je=(k(9986),k(1331),k(9856),k(361),k(8607),k(4921)),Ue=k(464),ut=(k(6073),k(1070)),Ze=(k(8476),k(8393));k(1970),k(8669);var _e=k(467);const et=je.i,at=function(){var J=(0,_e.A)(function*(Rr,te){if(!(typeof window>"u"))return yield et(),(0,Ze.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),te)});return function(te,x){return J.apply(this,arguments)}}(),ze=["*"],Nt=["outletContent"],ne=(J,Rr)=>{const te=J.prototype;Rr.forEach(x=>{Object.defineProperty(te,x,{get(){return this.el[x]},set(we){this.z.runOutsideAngular(()=>this.el[x]=we)},configurable:!0})})},ae=(J,Rr)=>{const te=J.prototype;Rr.forEach(x=>{te[x]=function(){const we=arguments;return this.z.runOutsideAngular(()=>this.el[x].apply(this.el,we))}})};function Ne(J){return function(te){const{defineCustomElementFn:x,inputs:we,methods:Nr}=J;return void 0!==x&&x(),we&&ne(te,we),Nr&&ae(te,Nr),te}}let Bn=(()=>{let J=class $0{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||$0)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:$0,selectors:[["ion-app"]],ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({})],J),J})(),zt=(()=>{let J=class X0{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||X0)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:X0,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],J),J})(),kt=(()=>{let J=class Q0{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||Q0)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:Q0,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({inputs:["mode"]})],J),J})(),Bt=(()=>{let J=class Y0{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||Y0)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:Y0,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({inputs:["color","mode","translucent"]})],J),J})(),Un=(()=>{let J=class J0{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||J0)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:J0,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({inputs:["color","mode"]})],J),J})(),qt=(()=>{let J=class rC{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement,((J,Rr,te)=>{te.forEach(x=>J[x]=(0,me.R)(Rr,x))})(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(x){return new(x||rC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:rC,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],J),J})(),Di=(()=>{let J=class vC{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||vC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:vC,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],J),J})(),ve=(()=>{let J=class wC{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||wC)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:wC,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({inputs:["color","mode","position"]})],J),J})(),Ui=(()=>{let J=class sw{z;el;constructor(te,x,we){this.z=we,te.detach(),this.el=x.nativeElement}static \u0275fac=function(x){return new(x||sw)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi))};static \u0275cmp=l.VBU({type:sw,selectors:[["ion-thumbnail"]],ngContentSelectors:ze,decls:1,vars:0,template:function(x,we){1&x&&(l.NAR(),l.SdG(0))},encapsulation:2,changeDetection:0})};return J=(0,ie.Cg)([Ne({})],J),J})(),qr=(()=>{class J extends Te.Rg{parentOutlet;outletContent;constructor(te,x,we,Nr,gi,$i,Ls,G){super(te,x,we,Nr,gi,$i,Ls,G),this.parentOutlet=G}static \u0275fac=function(x){return new(x||J)(l.kS0("name"),l.kS0("tabs"),l.rXU(Ae.aZ),l.rXU(l.aKT),l.rXU(Oe.Ix),l.rXU(l.SKi),l.rXU(Oe.nX),l.rXU(J,12))};static \u0275cmp=l.VBU({type:J,selectors:[["ion-router-outlet"]],viewQuery:function(x,we){if(1&x&&l.GBs(Nt,7,l.c1b),2&x){let Nr;l.mGM(Nr=l.lsd())&&(we.outletContent=Nr.first)}},features:[l.Vt3],ngContentSelectors:ze,decls:3,vars:0,consts:[["outletContent",""]],template:function(x,we){1&x&&(l.NAR(),l.qex(0,null,0),l.SdG(2),l.bVm())},encapsulation:2})}return J})();const uo={provide:U.cz,useExisting:(0,l.Rfq)(()=>Li),multi:!0};let Li=(()=>{class J extends U.zX{static \u0275fac=(()=>{let te;return function(we){return(te||(te=l.xGo(J)))(we||J)}})();static \u0275dir=l.FsC({type:J,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(x,we){2&x&&l.BMQ("max",we._enabled?we.max:null)},features:[l.Jv_([uo]),l.Vt3]})}return J})();const yo={provide:U.cz,useExisting:(0,l.Rfq)(()=>hi),multi:!0};let hi=(()=>{class J extends U.VZ{static \u0275fac=(()=>{let te;return function(we){return(te||(te=l.xGo(J)))(we||J)}})();static \u0275dir=l.FsC({type:J,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(x,we){2&x&&l.BMQ("min",we._enabled?we.min:null)},features:[l.Jv_([yo]),l.Vt3]})}return J})(),vs=(()=>{class J extends Te.Kb{angularDelegate=(0,l.WQX)(Te.Yq);injector=(0,l.WQX)(l.zZn);environmentInjector=(0,l.WQX)(l.uvJ);constructor(){super(ut.m)}create(te){return super.create({...te,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(x){return new(x||J)};static \u0275prov=l.jDH({token:J,factory:J.\u0275fac})}return J})();class oa extends Te.Kb{angularDelegate=(0,l.WQX)(Te.Yq);injector=(0,l.WQX)(l.zZn);environmentInjector=(0,l.WQX)(l.uvJ);constructor(){super(ut.c)}create(Rr){return super.create({...Rr,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Do=(J,Rr,te)=>()=>{const x=Rr.defaultView;if(x&&typeof window<"u"){(0,Ue.s)({...J,_zoneGate:Nr=>te.run(Nr)});const we="__zone_symbol__addEventListener"in Rr.body?"__zone_symbol__addEventListener":"addEventListener";return function Re(){var J=[];if(typeof window<"u"){var Rr=window;(!Rr.customElements||Rr.Element&&(!Rr.Element.prototype.closest||!Rr.Element.prototype.matches||!Rr.Element.prototype.remove||!Rr.Element.prototype.getRootNode))&&J.push(k.e(7278).then(k.t.bind(k,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||Rr.NodeList&&!Rr.NodeList.prototype.forEach||!Rr.fetch||!function(){try{var x=new URL("b","http://a");return x.pathname="c%20d","http://a/c%20d"===x.href&&x.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&J.push(k.e(9329).then(k.t.bind(k,7783,23)))}return Promise.all(J)}().then(()=>at(x,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Te.er,jmp:Nr=>te.runOutsideAngular(Nr),ael(Nr,gi,$i,Ls){Nr[we](gi,$i,Ls)},rel(Nr,gi,$i,Ls){Nr.removeEventListener(gi,$i,Ls)}}))}};let vo=(()=>{class J{static forRoot(te={}){return{ngModule:J,providers:[{provide:Te.sR,useValue:te},{provide:l.hnV,useFactory:Do,multi:!0,deps:[Te.sR,Ae.qQ,l.SKi]},Te.Yq,(0,Te.YV)()]}}static \u0275fac=function(x){return new(x||J)};static \u0275mod=l.$C({type:J});static \u0275inj=l.G2t({providers:[vs,oa],imports:[Ae.MD]})}return J})()},7935:(_n,vt,k)=>{"use strict";k.d(vt,{A:()=>l.A});var l=k(3345);l.A.registerVersion("firebase","10.12.4","app-compat")},2492:(_n,vt,k)=>{"use strict";k.r(vt);var l=k(467),U=k(3345),Te=k(7852),ie=k(1076),me=k(8041),Ae=k(1635),Oe=k(1362);const Ke={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const ct=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ut=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},st=new ie.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wt=new me.Vy("@firebase/auth");function it(E,...h){wt.logLevel<=me.$b.ERROR&&wt.error(`Auth (${Te.SDK_VERSION}): ${E}`,...h)}function Re(E,...h){throw Nt(E,...h)}function _e(E,...h){return Nt(E,...h)}function et(E,h,g){const w=Object.assign(Object.assign({},ut()),{[h]:g});return new ie.FA("auth","Firebase",w).create(h,{appName:E.name})}function at(E){return et(E,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ze(E,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&Re(E,"argument-error"),et(E,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Nt(E,...h){if("string"!=typeof E){const g=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=E.name),E._errorFactory.create(g,...w)}return st.create(E,...h)}function ke(E,h,...g){if(!E)throw Nt(h,...g)}function mt(E){const h="INTERNAL ASSERTION FAILED: "+E;throw it(h),new Error(h)}function Ye(E,h){E||mt(h)}function Et(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function It(){return"http:"===rn()||"https:"===rn()}function rn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class q{constructor(h,g){this.shortDelay=h,this.longDelay=g,Ye(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,ie.jZ)()||(0,ie.lV)()}get(){return function Qe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,ie.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ne(E,h){Ye(E.emulator,"Emulator should always be set here");const{url:g}=E.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class ae{static initialize(h,g,w){this.fetchImpl=h,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const be={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tt=new q(3e4,6e4);function Ne(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function Ht(E,h,g,w){return an.apply(this,arguments)}function an(){return(an=(0,l.A)(function*(E,h,g,w,$={}){return Hn(E,$,(0,l.A)(function*(){let ue={},Je={};w&&("GET"===h?Je=w:ue={body:JSON.stringify(w)});const St=(0,ie.Am)(Object.assign({key:E.config.apiKey},Je)).slice(1),on=yield E._getAdditionalHeaders();return on["Content-Type"]="application/json",E.languageCode&&(on["X-Firebase-Locale"]=E.languageCode),ae.fetch()(Ot(E,E.config.apiHost,g,St),Object.assign({method:h,headers:on,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function Hn(E,h,g){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.A)(function*(E,h,g){E._canInitEmulator=!1;const w=Object.assign(Object.assign({},be),h);try{const $=new pr(E),ue=yield Promise.race([g(),$.promise]);$.clearNetworkTimeout();const Je=yield ue.json();if("needConfirmation"in Je)throw Gn(E,"account-exists-with-different-credential",Je);if(ue.ok&&!("errorMessage"in Je))return Je;{const St=ue.ok?Je.errorMessage:Je.error.message,[on,$n]=St.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===on)throw Gn(E,"credential-already-in-use",Je);if("EMAIL_EXISTS"===on)throw Gn(E,"email-already-in-use",Je);if("USER_DISABLED"===on)throw Gn(E,"user-disabled",Je);const lr=w[on]||on.toLowerCase().replace(/[_\s]+/g,"-");if($n)throw et(E,lr,$n);Re(E,lr)}}catch($){if($ instanceof ie.g)throw $;Re(E,"network-request-failed",{message:String($)})}})).apply(this,arguments)}function Bn(E,h,g,w){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.A)(function*(E,h,g,w,$={}){const ue=yield Ht(E,h,g,w,$);return"mfaPendingCredential"in ue&&Re(E,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Ot(E,h,g,w){const $=`${h}${g}?${w}`;return E.config.emulator?ne(E.config,$):`${E.config.apiScheme}://${$}`}function Zn(E){switch(E){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(_e(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(E,h,g){const w={appName:E.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const $=_e(E,h,w);return $.customData._tokenResponse=g,$}function dn(E){return void 0!==E&&void 0!==E.getResponse}function On(E){return void 0!==E&&void 0!==E.enterprise}class zt{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return Zn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Bt(){return(Bt=(0,l.A)(function*(E){return(yield Ht(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pn(E,h){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.A)(function*(E,h){return Ht(E,"GET","/v2/recaptchaConfig",Ne(E,h))})).apply(this,arguments)}function gr(){return(gr=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function qt(){return(qt=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Pr(E,h){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function qn(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function pi(){return(pi=(0,l.A)(function*(E,h=!1){const g=(0,ie.Ku)(E),w=yield g.getIdToken(h),$=oi(w);ke($&&$.exp&&$.auth_time&&$.iat,g.auth,"internal-error");const ue="object"==typeof $.firebase?$.firebase:void 0,Je=ue?.sign_in_provider;return{claims:$,token:w,authTime:qn(Kn($.auth_time)),issuedAtTime:qn(Kn($.iat)),expirationTime:qn(Kn($.exp)),signInProvider:Je||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function Kn(E){return 1e3*Number(E)}function oi(E){const[h,g,w]=E.split(".");if(void 0===h||void 0===g||void 0===w)return it("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,ie.u)(g);return $?JSON.parse($):(it("Failed to decode base64 JWT payload"),null)}catch($){return it("Caught error parsing JWT payload as JSON",$?.toString()),null}}function Xn(E){const h=oi(E);return ke(h,"internal-error"),ke(typeof h.exp<"u","internal-error"),ke(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function cr(E,h){return ms.apply(this,arguments)}function ms(){return(ms=(0,l.A)(function*(E,h,g=!1){if(g)return h;try{return yield h}catch(w){throw w instanceof ie.g&&function Xt({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(w)&&E.auth.currentUser===E&&(yield E.auth.signOut()),w}})).apply(this,arguments)}class Lr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const $=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,l.A)(function*(){yield g.iteration()}),w)}iteration(){var h=this;return(0,l.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&h.schedule(!0))}h.schedule()})()}}class ui{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=qn(this.lastLoginAt),this.creationTime=qn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Di(E){return In.apply(this,arguments)}function In(){return(In=(0,l.A)(function*(E){var h;const g=E.auth,w=yield E.getIdToken(),$=yield cr(E,Pr(g,{idToken:w}));ke($?.users.length,g,"internal-error");const ue=$.users[0];E._notifyReloadListener(ue);const Je=null!==(h=ue.providerUserInfo)&&void 0!==h&&h.length?se(ue.providerUserInfo):[],St=function He(E,h){return[...E.filter(w=>!h.some($=>$.providerId===w.providerId)),...h]}(E.providerData,Je),lr=!!E.isAnonymous&&!(E.email&&ue.passwordHash||St?.length),Ln={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:St,metadata:new ui(ue.createdAt,ue.lastLoginAt),isAnonymous:lr};Object.assign(E,Ln)})).apply(this,arguments)}function Rt(){return(Rt=(0,l.A)(function*(E){const h=(0,ie.Ku)(E);yield Di(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function se(E){return E.map(h=>{var{providerId:g}=h,w=(0,Ae.Tt)(h,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function ge(){return(ge=(0,l.A)(function*(E,h){const g=yield Hn(E,{},(0,l.A)(function*(){const w=(0,ie.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:$,apiKey:ue}=E.config,Je=Ot(E,$,"/v1/token",`key=${ue}`),St=yield E._getAdditionalHeaders();return St["Content-Type"]="application/x-www-form-urlencoded",ae.fetch()(Je,{method:"POST",headers:St,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function qe(){return(qe=(0,l.A)(function*(E,h){return Ht(E,"POST","/v2/accounts:revokeToken",Ne(E,h))})).apply(this,arguments)}class Ut{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ke(h.idToken,"internal-error"),ke(typeof h.idToken<"u","internal-error"),ke(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Xn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){ke(0!==h.length,"internal-error");const g=Xn(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var w=this;return(0,l.A)(function*(){return g||!w.accessToken||w.isExpired?(ke(w.refreshToken,h,"user-token-expired"),w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null):w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var w=this;return(0,l.A)(function*(){const{accessToken:$,refreshToken:ue,expiresIn:Je}=yield function ve(E,h){return ge.apply(this,arguments)}(h,g);w.updateTokensAndExpiration($,ue,Number(Je))})()}updateTokensAndExpiration(h,g,w){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,g){const{refreshToken:w,accessToken:$,expirationTime:ue}=g,Je=new Ut;return w&&(ke("string"==typeof w,"internal-error",{appName:h}),Je.refreshToken=w),$&&(ke("string"==typeof $,"internal-error",{appName:h}),Je.accessToken=$),ue&&(ke("number"==typeof ue,"internal-error",{appName:h}),Je.expirationTime=ue),Je}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ut,this.toJSON())}_performRefresh(){return mt("not implemented")}}function _t(E,h){ke("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class mn{constructor(h){var{uid:g,auth:w,stsTokenManager:$}=h,ue=(0,Ae.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new ui(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,l.A)(function*(){const w=yield cr(g,g.stsTokenManager.getToken(g.auth,h));return ke(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(h){return function Ir(E){return pi.apply(this,arguments)}(this,h)}reload(){return function Rn(E){return Rt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ke(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new mn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var w=this;return(0,l.A)(function*(){let $=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),$=!0),g&&(yield Di(w)),yield w.auth._persistUserIfCurrent(w),$&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,l.A)(function*(){if((0,Te._isFirebaseServerApp)(h.auth.app))return Promise.reject(at(h.auth));const g=yield h.getIdToken();return yield cr(h,function ri(E,h){return gr.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var w,$,ue,Je,St,on,$n,lr;const Ln=null!==(w=g.displayName)&&void 0!==w?w:void 0,is=null!==($=g.email)&&void 0!==$?$:void 0,_i=null!==(ue=g.phoneNumber)&&void 0!==ue?ue:void 0,Ah=null!==(Je=g.photoURL)&&void 0!==Je?Je:void 0,Dh=null!==(St=g.tenantId)&&void 0!==St?St:void 0,xf=null!==(on=g._redirectEventId)&&void 0!==on?on:void 0,Sh=null!==($n=g.createdAt)&&void 0!==$n?$n:void 0,kf=null!==(lr=g.lastLoginAt)&&void 0!==lr?lr:void 0,{uid:gd,emailVerified:Nu,isAnonymous:ll,providerData:jd,stsTokenManager:Ou}=g;ke(gd&&Ou,h,"internal-error");const zc=Ut.fromJSON(this.name,Ou);ke("string"==typeof gd,h,"internal-error"),_t(Ln,h.name),_t(is,h.name),ke("boolean"==typeof Nu,h,"internal-error"),ke("boolean"==typeof ll,h,"internal-error"),_t(_i,h.name),_t(Ah,h.name),_t(Dh,h.name),_t(xf,h.name),_t(Sh,h.name),_t(kf,h.name);const cl=new mn({uid:gd,auth:h,email:is,emailVerified:Nu,displayName:Ln,isAnonymous:ll,photoURL:Ah,phoneNumber:_i,tenantId:Dh,stsTokenManager:zc,createdAt:Sh,lastLoginAt:kf});return jd&&Array.isArray(jd)&&(cl.providerData=jd.map(Hd=>Object.assign({},Hd))),xf&&(cl._redirectEventId=xf),cl}static _fromIdTokenResponse(h,g,w=!1){return(0,l.A)(function*(){const $=new Ut;$.updateFromServerResponse(g);const ue=new mn({uid:g.localId,auth:h,stsTokenManager:$,isAnonymous:w});return yield Di(ue),ue})()}static _fromGetAccountInfoResponse(h,g,w){return(0,l.A)(function*(){const $=g.users[0];ke(void 0!==$.localId,"internal-error");const ue=void 0!==$.providerUserInfo?se($.providerUserInfo):[],Je=!($.email&&$.passwordHash||ue?.length),St=new Ut;St.updateFromIdToken(w);const on=new mn({uid:$.localId,auth:h,stsTokenManager:St,isAnonymous:Je}),$n={uid:$.localId,displayName:$.displayName||null,photoURL:$.photoUrl||null,email:$.email||null,emailVerified:$.emailVerified||!1,phoneNumber:$.phoneNumber||null,tenantId:$.tenantId||null,providerData:ue,metadata:new ui($.createdAt,$.lastLoginAt),isAnonymous:!($.email&&$.passwordHash||ue?.length)};return Object.assign(on,$n),on})()}}const Nn=new Map;function er(E){Ye(E instanceof Function,"Expected a class definition");let h=Nn.get(E);return h?(Ye(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,Nn.set(E,h),h)}const ai=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(g,w){var $=this;return(0,l.A)(function*(){$.storage[g]=w})()}_get(g){var w=this;return(0,l.A)(function*(){const $=w.storage[g];return void 0===$?null:$})()}_remove(g){var w=this;return(0,l.A)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return E.type="NONE",E})();function zr(E,h,g){return`firebase:${E}:${h}:${g}`}class _r{constructor(h,g,w){this.persistence=h,this.auth=g,this.userKey=w;const{config:$,name:ue}=this.auth;this.fullUserKey=zr(this.userKey,$.apiKey,ue),this.fullPersistenceKey=zr("persistence",$.apiKey,ue),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?mn._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,l.A)(function*(){if(g.persistence===h)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,w="authUser"){return(0,l.A)(function*(){if(!g.length)return new _r(er(ai),h,w);const $=(yield Promise.all(g.map(function(){var $n=(0,l.A)(function*(lr){if(yield lr._isAvailable())return lr});return function(lr){return $n.apply(this,arguments)}}()))).filter($n=>$n);let ue=$[0]||er(ai);const Je=zr(w,h.config.apiKey,h.name);let St=null;for(const $n of g)try{const lr=yield $n._get(Je);if(lr){const Ln=mn._fromJSON(h,lr);$n!==ue&&(St=Ln),ue=$n;break}}catch{}const on=$.filter($n=>$n._shouldAllowMigration);return ue._shouldAllowMigration&&on.length?(ue=on[0],St&&(yield ue._set(Je,St.toJSON())),yield Promise.all(g.map(function(){var $n=(0,l.A)(function*(lr){if(lr!==ue)try{yield lr._remove(Je)}catch{}});return function(lr){return $n.apply(this,arguments)}}())),new _r(ue,h,w)):new _r(ue,h,w)})()}}function fn(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(xn(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ei(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Er(h))return"Blackberry";if(Is(h))return"Webos";if(ys(h))return"Safari";if((h.includes("chrome/")||wr(h))&&!h.includes("edge/"))return"Chrome";if(Si(h))return"Android";{const w=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ei(E=(0,ie.ZQ)()){return/firefox\//i.test(E)}function ys(E=(0,ie.ZQ)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function wr(E=(0,ie.ZQ)()){return/crios\//i.test(E)}function xn(E=(0,ie.ZQ)()){return/iemobile/i.test(E)}function Si(E=(0,ie.ZQ)()){return/android/i.test(E)}function Er(E=(0,ie.ZQ)()){return/blackberry/i.test(E)}function Is(E=(0,ie.ZQ)()){return/webos/i.test(E)}function Mr(E=(0,ie.ZQ)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function ce(E=(0,ie.ZQ)()){return Mr(E)||Si(E)||Is(E)||Er(E)||/windows phone/i.test(E)||xn(E)}function Ie(E,h=[]){let g;switch(E){case"Browser":g=fn((0,ie.ZQ)());break;case"Worker":g=`${fn((0,ie.ZQ)())}-${E}`;break;default:g=E}const w=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${Te.SDK_VERSION}/${w}`}class dt{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const w=ue=>new Promise((Je,St)=>{try{Je(h(ue))}catch(on){St(on)}});w.onAbort=g,this.queue.push(w);const $=this.queue.length-1;return()=>{this.queue[$]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,l.A)(function*(){if(g.auth.currentUser===h)return;const w=[];try{for(const $ of g.queue)yield $(h),$.onAbort&&w.push($.onAbort)}catch($){w.reverse();for(const ue of w)try{ue()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:$?.message})}})()}}function En(){return(En=(0,l.A)(function*(E,h={}){return Ht(E,"GET","/v2/passwordPolicy",Ne(E,h))})).apply(this,arguments)}class vr{constructor(h){var g,w,$,ue;const Je=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Je.minPasswordLength)&&void 0!==g?g:6,Je.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Je.maxPasswordLength),void 0!==Je.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Je.containsLowercaseCharacter),void 0!==Je.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Je.containsUppercaseCharacter),void 0!==Je.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Je.containsNumericCharacter),void 0!==Je.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Je.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==($=null===(w=h.allowedNonAlphanumericCharacters)||void 0===w?void 0:w.join(""))&&void 0!==$?$:"",this.forceUpgradeOnSignin=null!==(ue=h.forceUpgradeOnSignin)&&void 0!==ue&&ue,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,w,$,ue,Je,St;const on={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,on),this.validatePasswordCharacterOptions(h,on),on.isValid&&(on.isValid=null===(g=on.meetsMinPasswordLength)||void 0===g||g),on.isValid&&(on.isValid=null===(w=on.meetsMaxPasswordLength)||void 0===w||w),on.isValid&&(on.isValid=null===($=on.containsLowercaseLetter)||void 0===$||$),on.isValid&&(on.isValid=null===(ue=on.containsUppercaseLetter)||void 0===ue||ue),on.isValid&&(on.isValid=null===(Je=on.containsNumericCharacter)||void 0===Je||Je),on.isValid&&(on.isValid=null===(St=on.containsNonAlphanumericCharacter)||void 0===St||St),on}validatePasswordLengthOptions(h,g){const w=this.customStrengthOptions.minPasswordLength,$=this.customStrengthOptions.maxPasswordLength;w&&(g.meetsMinPasswordLength=h.length>=w),$&&(g.meetsMaxPasswordLength=h.length<=$)}validatePasswordCharacterOptions(h,g){let w;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let $=0;$<h.length;$++)w=h.charAt($),this.updatePasswordCharacterOptionsStatuses(g,w>="a"&&w<="z",w>="A"&&w<="Z",w>="0"&&w<="9",this.allowedNonAlphanumericCharacters.includes(w))}updatePasswordCharacterOptionsStatuses(h,g,w,$,ue){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=w)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=$)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ue))}}class Ri{constructor(h,g,w,$){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=$,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ui(this),this.idTokenSubscription=new Ui(this),this.beforeStateQueue=new dt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=st,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=$.sdkClientVersion}_initializeWithPersistence(h,g){var w=this;return g&&(this._popupRedirectResolver=er(g)),this._initializationPromise=this.queue((0,l.A)(function*(){var $,ue;if(!w._deleted&&(w.persistenceManager=yield _r.create(w,h),!w._deleted)){if(null!==($=w._popupRedirectResolver)&&void 0!==$&&$._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(ue=w.currentUser)||void 0===ue?void 0:ue.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,l.A)(function*(){try{const w=yield Pr(g,{idToken:h}),$=yield mn._fromGetAccountInfoResponse(g,w,h);yield g.directlySetCurrentUser($)}catch(w){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",w),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,l.A)(function*(){var w;if((0,Te._isFirebaseServerApp)(g.app)){const St=g.app.settings.authIdToken;return St?new Promise(on=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(St).then(on,on))}):g.directlySetCurrentUser(null)}const $=yield g.assertedPersistence.getCurrentUser();let ue=$,Je=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const St=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,on=ue?._redirectEventId,$n=yield g.tryRedirectSignIn(h);(!St||St===on)&&$n?.user&&(ue=$n.user,Je=!0)}if(!ue)return g.directlySetCurrentUser(null);if(!ue._redirectEventId){if(Je)try{yield g.beforeStateQueue.runMiddleware(ue)}catch(St){ue=$,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(St))}return ue?g.reloadAndSetCurrentUserOrClear(ue):g.directlySetCurrentUser(null)}return ke(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===ue._redirectEventId?g.directlySetCurrentUser(ue):g.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(h){var g=this;return(0,l.A)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,l.A)(function*(){try{yield Di(h)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ce(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,l.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,l.A)(function*(){if((0,Te._isFirebaseServerApp)(g.app))return Promise.reject(at(g));const w=h?(0,ie.Ku)(h):null;return w&&ke(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(h,g=!1){var w=this;return(0,l.A)(function*(){if(!w._deleted)return h&&ke(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,l.A)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.A)(function*(){return(0,Te._isFirebaseServerApp)(h.app)?Promise.reject(at(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,Te._isFirebaseServerApp)(this.app)?Promise.reject(at(this)):this.queue((0,l.A)(function*(){yield g.assertedPersistence.setPersistence(er(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,l.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const w=g._getPasswordPolicyInternal();return w.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):w.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,l.A)(function*(){const g=yield function Vt(E){return En.apply(this,arguments)}(h),w=new vr(g);null===h.tenantId?h._projectPasswordPolicy=w:h._tenantPasswordPolicies[h.tenantId]=w})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ie.FA("auth","Firebase",h())}onAuthStateChanged(h,g,w){return this.registerStateListener(this.authStateSubscription,h,g,w)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,w){return this.registerStateListener(this.idTokenSubscription,h,g,w)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const w=this.onAuthStateChanged(()=>{w(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,l.A)(function*(){if(g.currentUser){const w=yield g.currentUser.getIdToken(),$={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:w};null!=g.tenantId&&($.tenantId=g.tenantId),yield function De(E,h){return qe.apply(this,arguments)}(g,$)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var w=this;return(0,l.A)(function*(){const $=yield w.getOrInitRedirectPersistenceManager(g);return null===h?$.removeCurrentUser():$.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,l.A)(function*(){if(!g.redirectPersistenceManager){const w=h&&er(h)||g._popupRedirectResolver;ke(w,g,"argument-error"),g.redirectPersistenceManager=yield _r.create(g,[er(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,l.A)(function*(){var w,$;return g._isInitialized&&(yield g.queue((0,l.A)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===h?g._currentUser:(null===($=g.redirectUser)||void 0===$?void 0:$._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,l.A)(function*(){if(h===g.currentUser)return g.queue((0,l.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,w,$){if(this._deleted)return()=>{};const ue="function"==typeof g?g:g.next.bind(g);let Je=!1;const St=this._isInitialized?Promise.resolve():this._initializationPromise;if(ke(St,this,"internal-error"),St.then(()=>{Je||ue(this.currentUser)}),"function"==typeof g){const on=h.addObserver(g,w,$);return()=>{Je=!0,on()}}{const on=h.addObserver(g);return()=>{Je=!0,on()}}}directlySetCurrentUser(h){var g=this;return(0,l.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.A)(function*(){var g;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const $=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();$&&(w["X-Firebase-Client"]=$);const ue=yield h._getAppCheckToken();return ue&&(w["X-Firebase-AppCheck"]=ue),w})()}_getAppCheckToken(){var h=this;return(0,l.A)(function*(){var g;const w=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function yt(E,...h){wt.logLevel<=me.$b.WARN&&wt.warn(`Auth (${Te.SDK_VERSION}): ${E}`,...h)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Ur(E){return(0,ie.Ku)(E)}class Ui{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ie.tD)(g=>this.observer=g)}get next(){return ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hr={loadJS:()=>(0,l.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function bt(E){return hr.loadJS(E)}function Ts(E){return`__${E}${Math.floor(1e6*Math.random())}`}class ia{constructor(h){this.type="recaptcha-enterprise",this.auth=Ur(h)}verify(h="verify",g=!1){var w=this;return(0,l.A)(function*(){function ue(){return ue=(0,l.A)(function*(St){if(!g){if(null==St.tenantId&&null!=St._agentRecaptchaConfig)return St._agentRecaptchaConfig.siteKey;if(null!=St.tenantId&&void 0!==St._tenantRecaptchaConfigs[St.tenantId])return St._tenantRecaptchaConfigs[St.tenantId].siteKey}return new Promise(function(){var on=(0,l.A)(function*($n,lr){pn(St,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ln=>{if(void 0!==Ln.recaptchaKey){const is=new zt(Ln);return null==St.tenantId?St._agentRecaptchaConfig=is:St._tenantRecaptchaConfigs[St.tenantId]=is,$n(is.siteKey)}lr(new Error("recaptcha Enterprise site key undefined"))}).catch(Ln=>{lr(Ln)})});return function($n,lr){return on.apply(this,arguments)}}())}),ue.apply(this,arguments)}function Je(St,on,$n){const lr=window.grecaptcha;On(lr)?lr.enterprise.ready(()=>{lr.enterprise.execute(St,{action:h}).then(Ln=>{on(Ln)}).catch(()=>{on("NO_RECAPTCHA")})}):$n(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((St,on)=>{(function $(St){return ue.apply(this,arguments)})(w.auth).then($n=>{if(!g&&On(window.grecaptcha))Je($n,St,on);else{if(typeof window>"u")return void on(new Error("RecaptchaVerifier is only supported in browser"));let lr=function qr(){return hr.recaptchaEnterpriseScript}();0!==lr.length&&(lr+=$n),bt(lr).then(()=>{Je($n,St,on)}).catch(Ln=>{on(Ln)})}}).catch($n=>{on($n)})})})()}}function xs(E,h,g){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.A)(function*(E,h,g,w=!1){const $=new ia(E);let ue;try{ue=yield $.verify(g)}catch{ue=yield $.verify(g,!0)}const Je=Object.assign({},h);return Object.assign(Je,w?{captchaResp:ue}:{captchaResponse:ue}),Object.assign(Je,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Je,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Je})).apply(this,arguments)}function uo(E,h,g,w){return Li.apply(this,arguments)}function Li(){return Li=(0,l.A)(function*(E,h,g,w){var $;if(null!==($=E._getRecaptchaConfig())&&void 0!==$&&$.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ue=yield xs(E,h,g,"getOobCode"===g);return w(E,ue)}return w(E,h).catch(function(){var ue=(0,l.A)(function*(Je){if("auth/missing-recaptcha-token"===Je.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const St=yield xs(E,h,g,"getOobCode"===g);return w(E,St)}return Promise.reject(Je)});return function(Je){return ue.apply(this,arguments)}}())}),Li.apply(this,arguments)}function cs(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function Ao(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class Ho{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return mt("not implemented")}_getIdTokenResponse(h){return mt("not implemented")}_linkToIdToken(h,g){return mt("not implemented")}_getReauthenticationResolver(h){return mt("not implemented")}}function oa(E,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:resetPassword",Ne(E,h))})).apply(this,arguments)}function aa(){return(aa=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Rl(E,h){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Rr(){return(Rr=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:update",Ne(E,h))})).apply(this,arguments)}function te(E,h){return x.apply(this,arguments)}function x(){return(x=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signInWithPassword",Ne(E,h))})).apply(this,arguments)}function we(E,h){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:sendOobCode",Ne(E,h))})).apply(this,arguments)}function $i(){return($i=(0,l.A)(function*(E,h){return we(E,h)})).apply(this,arguments)}function Ls(E,h){return G.apply(this,arguments)}function G(){return(G=(0,l.A)(function*(E,h){return we(E,h)})).apply(this,arguments)}function de(E,h){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.A)(function*(E,h){return we(E,h)})).apply(this,arguments)}function pt(){return(pt=(0,l.A)(function*(E,h){return we(E,h)})).apply(this,arguments)}function Yt(){return(Yt=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signInWithEmailLink",Ne(E,h))})).apply(this,arguments)}function Zt(){return(Zt=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signInWithEmailLink",Ne(E,h))})).apply(this,arguments)}class Wt extends Ho{constructor(h,g,w,$=null){super("password",w),this._email=h,this._password=g,this._tenantId=$}static _fromEmailAndPassword(h,g){return new Wt(h,g,"password")}static _fromEmailAndCode(h,g,w=null){return new Wt(h,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,l.A)(function*(){switch(g.signInMethod){case"password":return uo(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",te);case"emailLink":return function ft(E,h){return Yt.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:Re(h,"internal-error")}})()}_linkToIdToken(h,g){var w=this;return(0,l.A)(function*(){switch(w.signInMethod){case"password":return uo(h,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rl);case"emailLink":return function tn(E,h){return Zt.apply(this,arguments)}(h,{idToken:g,email:w._email,oobCode:w._password});default:Re(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Cn(E,h){return An.apply(this,arguments)}function An(){return(An=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signInWithIdp",Ne(E,h))})).apply(this,arguments)}class tr extends Ho{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new tr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):Re("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:$}=g,ue=(0,Ae.Tt)(g,["providerId","signInMethod"]);if(!w||!$)return null;const Je=new tr(w,$);return Je.idToken=ue.idToken||void 0,Je.accessToken=ue.accessToken||void 0,Je.secret=ue.secret,Je.nonce=ue.nonce,Je.pendingToken=ue.pendingToken||null,Je}_getIdTokenResponse(h){return Cn(h,this.buildRequest())}_linkToIdToken(h,g){const w=this.buildRequest();return w.idToken=g,Cn(h,w)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Cn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,ie.Am)(g)}return h}}function Fi(){return(Fi=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:sendVerificationCode",Ne(E,h))})).apply(this,arguments)}function en(){return(en=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ne(E,h))})).apply(this,arguments)}function mi(){return(mi=(0,l.A)(function*(E,h){const g=yield Bn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ne(E,h));if(g.temporaryProof)throw Gn(E,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ss={USER_NOT_FOUND:"user-not-found"};function us(){return(us=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signInWithPhoneNumber",Ne(E,Object.assign(Object.assign({},h),{operation:"REAUTH"})),ss)})).apply(this,arguments)}class Mi extends Ho{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new Mi({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new Mi({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function Or(E,h){return en.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Pi(E,h){return mi.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function la(E,h){return us.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:w,verificationCode:$}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:w,code:$}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:w,phoneNumber:$,temporaryProof:ue}=h;return w||g||$||ue?new Mi({verificationId:g,verificationCode:w,phoneNumber:$,temporaryProof:ue}):null}}class Xr{constructor(h){var g,w,$,ue,Je,St;const on=(0,ie.I9)((0,ie.hp)(h)),$n=null!==(g=on.apiKey)&&void 0!==g?g:null,lr=null!==(w=on.oobCode)&&void 0!==w?w:null,Ln=function _o(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=on.mode)&&void 0!==$?$:null);ke($n&&lr&&Ln,"argument-error"),this.apiKey=$n,this.operation=Ln,this.code=lr,this.continueUrl=null!==(ue=on.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(Je=on.languageCode)&&void 0!==Je?Je:null,this.tenantId=null!==(St=on.tenantId)&&void 0!==St?St:null}static parseLink(h){const g=function Cs(E){const h=(0,ie.I9)((0,ie.hp)(E)).link,g=h?(0,ie.I9)((0,ie.hp)(h)).deep_link_id:null,w=(0,ie.I9)((0,ie.hp)(E)).deep_link_id;return(w?(0,ie.I9)((0,ie.hp)(w)).link:null)||w||g||h||E}(h);try{return new Xr(g)}catch{return null}}}let zo=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(g,w){return Wt._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const $=Xr.parseLink(w);return ke($,"argument-error"),Wt._fromEmailAndCode(g,$.code,$.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Fs{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ds extends Fs{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Da extends ds{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return ke("providerId"in g&&"signInMethod"in g,"argument-error"),tr._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ke(h.idToken||h.accessToken,"argument-error"),tr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Da.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Da.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:$,pendingToken:ue,nonce:Je,providerId:St}=h;if(!w&&!$&&!g&&!ue||!St)return null;try{return new Da(St)._credential({idToken:g,accessToken:w,nonce:Je,pendingToken:ue})}catch{return null}}}let Ti=(()=>{class E extends ds{constructor(){super("facebook.com")}static credential(g){return tr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),_s=(()=>{class E extends ds{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return tr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:$}=g;if(!w&&!$)return null;try{return E.credential(w,$)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),So=(()=>{class E extends ds{constructor(){super("github.com")}static credential(g){return tr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return E.credential(g.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Ps extends Ho{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return Cn(h,this.buildRequest())}_linkToIdToken(h,g){const w=this.buildRequest();return w.idToken=g,Cn(h,w)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,Cn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:$,pendingToken:ue}=g;return w&&$&&ue&&w===$?new Ps(w,ue):null}static _create(h,g){return new Ps(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ws extends Fs{constructor(h){ke(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ws.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ws.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Ps.fromJSON(h);return ke(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:w}=h;if(!g||!w)return null;try{return Ps._create(w,g)}catch{return null}}}let ec=(()=>{class E extends ds{constructor(){super("twitter.com")}static credential(g,w){return tr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:$}=g;if(!w||!$)return null;try{return E.credential(w,$)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Go(E,h){return io.apply(this,arguments)}function io(){return(io=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signUp",Ne(E,h))})).apply(this,arguments)}class Qn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,w,$=!1){return(0,l.A)(function*(){const ue=yield mn._fromIdTokenResponse(h,w,$),Je=Eo(w);return new Qn({user:ue,providerId:Je,_tokenResponse:w,operationType:g})})()}static _forOperation(h,g,w){return(0,l.A)(function*(){yield h._updateTokensIfNecessary(w,!0);const $=Eo(w);return new Qn({user:h,providerId:$,_tokenResponse:w,operationType:g})})()}}function Eo(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Wa(){return(Wa=(0,l.A)(function*(E){var h;if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const g=Ur(E);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new Qn({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Go(g,{returnSecureToken:!0}),$=yield Qn._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser($.user),$})).apply(this,arguments)}class Sa extends ie.g{constructor(h,g,w,$){var ue;super(g.code,g.message),this.operationType=w,this.user=$,Object.setPrototypeOf(this,Sa.prototype),this.customData={appName:h.name,tenantId:null!==(ue=h.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,g,w,$){return new Sa(h,g,w,$)}}function Cc(E,h,g,w){return("reauthenticate"===h?g._getReauthenticationResolver(E):g._getIdTokenResponse(E)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Sa._fromErrorAndOperation(E,ue,h,w):ue})}function so(E){return new Set(E.map(({providerId:h})=>h).filter(h=>!!h))}function yi(){return yi=(0,l.A)(function*(E,h){const g=(0,ie.Ku)(E);yield Pl(!0,g,h);const{providerUserInfo:w}=yield function Sn(E,h){return qt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),$=so(w||[]);return g.providerData=g.providerData.filter(ue=>$.has(ue.providerId)),$.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),yi.apply(this,arguments)}function qa(E,h){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,l.A)(function*(E,h,g=!1){const w=yield cr(E,h._linkToIdToken(E.auth,yield E.getIdToken()),g);return Qn._forOperation(E,"link",w)})).apply(this,arguments)}function Pl(E,h,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,l.A)(function*(E,h,g){yield Di(h);const $=!1===E?"provider-already-linked":"no-such-provider";ke(so(h.providerData).has(g)===E,h.auth,$)})).apply(this,arguments)}function ir(E,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.A)(function*(E,h,g=!1){const{auth:w}=E;if((0,Te._isFirebaseServerApp)(w.app))return Promise.reject(at(w));const $="reauthenticate";try{const ue=yield cr(E,Cc(w,$,h,E),g);ke(ue.idToken,w,"internal-error");const Je=oi(ue.idToken);ke(Je,w,"internal-error");const{sub:St}=Je;return ke(E.uid===St,w,"user-mismatch"),Qn._forOperation(E,$,ue)}catch(ue){throw"auth/user-not-found"===ue?.code&&Re(w,"user-mismatch"),ue}})).apply(this,arguments)}function H(E,h){return j.apply(this,arguments)}function j(){return(j=(0,l.A)(function*(E,h,g=!1){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const w="signIn",$=yield Cc(E,w,h),ue=yield Qn._fromIdTokenResponse(E,w,$);return g||(yield E._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function O(E,h){return pe.apply(this,arguments)}function pe(){return(pe=(0,l.A)(function*(E,h){return H(Ur(E),h)})).apply(this,arguments)}function nt(E,h){return or.apply(this,arguments)}function or(){return(or=(0,l.A)(function*(E,h){const g=(0,ie.Ku)(E);return yield Pl(!1,g,h.providerId),qa(g,h)})).apply(this,arguments)}function Fr(E,h){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.A)(function*(E,h){return ir((0,ie.Ku)(E),h)})).apply(this,arguments)}function zi(){return(zi=(0,l.A)(function*(E,h){return Bn(E,"POST","/v1/accounts:signInWithCustomToken",Ne(E,h))})).apply(this,arguments)}function Xa(){return Xa=(0,l.A)(function*(E,h){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const g=Ur(E),w=yield function ti(E,h){return zi.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),$=yield Qn._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser($.user),$}),Xa.apply(this,arguments)}class ca{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Ml._fromServerResponse(h,g):"totpInfo"in g?Pa._fromServerResponse(h,g):Re(h,"internal-error")}}class Ml extends ca{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Ml(g)}}class Pa extends ca{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Pa(g)}}function dl(E,h,g){var w;ke((null===(w=g.url)||void 0===w?void 0:w.length)>0,E,"invalid-continue-uri"),ke(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ke(g.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(ke(g.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function hl(E){return fl.apply(this,arguments)}function fl(){return(fl=(0,l.A)(function*(E){const h=Ur(E);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function xr(){return(xr=(0,l.A)(function*(E,h,g){const w=Ur(E),$={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&dl(w,$,g),yield uo(w,$,"getOobCode",Ls)})).apply(this,arguments)}function Ko(){return Ko=(0,l.A)(function*(E,h,g){yield oa((0,ie.Ku)(E),{oobCode:h,newPassword:g}).catch(function(){var w=(0,l.A)(function*($){throw"auth/password-does-not-meet-requirements"===$.code&&hl(E),$});return function($){return w.apply(this,arguments)}}())}),Ko.apply(this,arguments)}function da(){return da=(0,l.A)(function*(E,h){yield function J(E,h){return Rr.apply(this,arguments)}((0,ie.Ku)(E),{oobCode:h})}),da.apply(this,arguments)}function Zu(E,h){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,l.A)(function*(E,h){const g=(0,ie.Ku)(E),w=yield oa(g,{oobCode:h}),$=w.requestType;switch(ke($,g,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ke(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ke(w.mfaInfo,g,"internal-error");default:ke(w.email,g,"internal-error")}let ue=null;return w.mfaInfo&&(ue=ca._fromServerResponse(Ur(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ue},operation:$}})).apply(this,arguments)}function Qa(){return(Qa=(0,l.A)(function*(E,h){const{data:g}=yield Zu((0,ie.Ku)(E),h);return g.email})).apply(this,arguments)}function nc(){return(nc=(0,l.A)(function*(E,h,g){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const w=Ur(E),Je=yield uo(w,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Go).catch(on=>{throw"auth/password-does-not-meet-requirements"===on.code&&hl(E),on}),St=yield Qn._fromIdTokenResponse(w,"signIn",Je);return yield w._updateCurrentUser(St.user),St})).apply(this,arguments)}function Ya(){return(Ya=(0,l.A)(function*(E,h,g){const w=Ur(E),$={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ue(Je,St){ke(St.handleCodeInApp,w,"argument-error"),St&&dl(w,Je,St)})($,g),yield uo(w,$,"getOobCode",de)})).apply(this,arguments)}function Vs(){return(Vs=(0,l.A)(function*(E,h,g){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const w=(0,ie.Ku)(E),$=zo.credentialWithLink(h,g||Et());return ke($._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),O(w,$)})).apply(this,arguments)}function gl(){return(gl=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:createAuthUri",Ne(E,h))})).apply(this,arguments)}function kr(){return kr=(0,l.A)(function*(E,h){const w={identifier:h,continueUri:It()?Et():"http://localhost"},{signinMethods:$}=yield function rc(E,h){return gl.apply(this,arguments)}((0,ie.Ku)(E),w);return $||[]}),kr.apply(this,arguments)}function Sc(){return Sc=(0,l.A)(function*(E,h){const g=(0,ie.Ku)(E),$={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&dl(g.auth,$,h);const{email:ue}=yield function gi(E,h){return $i.apply(this,arguments)}(g.auth,$);ue!==E.email&&(yield E.reload())}),Sc.apply(this,arguments)}function xl(){return xl=(0,l.A)(function*(E,h,g){const w=(0,ie.Ku)(E),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:h};g&&dl(w.auth,ue,g);const{email:Je}=yield function We(E,h){return pt.apply(this,arguments)}(w.auth,ue);Je!==E.email&&(yield E.reload())}),xl.apply(this,arguments)}function qo(){return(qo=(0,l.A)(function*(E,h){return Ht(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Xo(){return Xo=(0,l.A)(function*(E,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const w=(0,ie.Ku)(E),ue={idToken:yield w.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Je=yield cr(w,function sc(E,h){return qo.apply(this,arguments)}(w.auth,ue));w.displayName=Je.displayName||null,w.photoURL=Je.photoUrl||null;const St=w.providerData.find(({providerId:on})=>"password"===on);St&&(St.displayName=w.displayName,St.photoURL=w.photoURL),yield w._updateTokensIfNecessary(Je)}),Xo.apply(this,arguments)}function kl(E,h,g){return ha.apply(this,arguments)}function ha(){return ha=(0,l.A)(function*(E,h,g){const{auth:w}=E,ue={idToken:yield E.getIdToken(),returnSecureToken:!0};h&&(ue.email=h),g&&(ue.password=g);const Je=yield cr(E,function Do(E,h){return aa.apply(this,arguments)}(w,ue));yield E._updateTokensIfNecessary(Je,!0)}),ha.apply(this,arguments)}class Ji{constructor(h,g,w={}){this.isNewUser=h,this.providerId=g,this.profile=w}}class ac extends Ji{constructor(h,g,w,$){super(h,g,w),this.username=$}}class R extends Ji{constructor(h,g){super(h,"facebook.com",g)}}class oe extends ac{constructor(h,g){super(h,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class V extends Ji{constructor(h,g){super(h,"google.com",g)}}class Z extends ac{constructor(h,g,w){super(h,"twitter.com",g,w)}}function Ve(E){const{user:h,_tokenResponse:g}=E;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function oc(E){var h,g;if(!E)return null;const{providerId:w}=E,$=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ue=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!w&&E?.idToken){const Je=null===(g=null===(h=oi(E.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Je)return new Ji(ue,"anonymous"!==Je&&"custom"!==Je?Je:null)}if(!w)return null;switch(w){case"facebook.com":return new R(ue,$);case"github.com":return new oe(ue,$);case"google.com":return new V(ue,$);case"twitter.com":return new Z(ue,$,E.screenName||null);case"custom":case"anonymous":return new Ji(ue,null);default:return new Ji(ue,w,$)}}(g)}class fs{constructor(h,g,w){this.type=h,this.credential=g,this.user=w}static _fromIdtoken(h,g){return new fs("enroll",h,g)}static _fromMfaPendingCredential(h){return new fs("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,w;if(h?.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return fs._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(w=h.multiFactorSession)&&void 0!==w&&w.idToken)return fs._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ho{constructor(h,g,w){this.session=h,this.hints=g,this.signInResolver=w}static _fromError(h,g){const w=Ur(h),$=g.customData._serverResponse,ue=($.mfaInfo||[]).map(St=>ca._fromServerResponse(w,St));ke($.mfaPendingCredential,w,"internal-error");const Je=fs._fromMfaPendingCredential($.mfaPendingCredential);return new ho(Je,ue,function(){var St=(0,l.A)(function*(on){const $n=yield on._process(w,Je);delete $.mfaInfo,delete $.mfaPendingCredential;const lr=Object.assign(Object.assign({},$),{idToken:$n.idToken,refreshToken:$n.refreshToken});switch(g.operationType){case"signIn":const Ln=yield Qn._fromIdTokenResponse(w,g.operationType,lr);return yield w._updateCurrentUser(Ln.user),Ln;case"reauthenticate":return ke(g.user,w,"internal-error"),Qn._forOperation(g.user,g.operationType,lr);default:Re(w,"internal-error")}});return function(on){return St.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,l.A)(function*(){return g.signInResolver(h)})()}}class Ma{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>ca._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new Ma(h)}getSession(){var h=this;return(0,l.A)(function*(){return fs._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var w=this;return(0,l.A)(function*(){const $=h,ue=yield w.getSession(),Je=yield cr(w.user,$._process(w.user.auth,ue,g));return yield w.user._updateTokensIfNecessary(Je),w.user.reload()})()}unenroll(h){var g=this;return(0,l.A)(function*(){const w="string"==typeof h?h:h.uid,$=yield g.user.getIdToken();try{const ue=yield cr(g.user,function Us(E,h){return Ht(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Ne(E,h))}(g.user.auth,{idToken:$,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Je})=>Je!==w),yield g.user._updateTokensIfNecessary(ue),yield g.user.reload()}catch(ue){throw ue}})()}}const ml=new WeakMap,el="__sak";class tl{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(el,"1"),this.storage.removeItem(el),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const nl=(()=>{class E extends tl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Na(){const E=(0,ie.ZQ)();return ys(E)||Mr(E)}()&&function Ge(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ce(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const $=this.storage.getItem(w),ue=this.localCache[w];$!==ue&&g(w,ue,$)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((St,on,$n)=>{this.notifyListeners(St,$n)});const $=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const St=this.storage.getItem($);if(g.newValue!==St)null!==g.newValue?this.storage.setItem($,g.newValue):this.storage.removeItem($);else if(this.localCache[$]===g.newValue&&!w)return}const ue=()=>{const St=this.storage.getItem($);!w&&this.localCache[$]===St||this.notifyListeners($,St)},Je=this.storage.getItem($);!function z(){return(0,ie.lT)()&&10===document.documentMode}()||Je===g.newValue||g.newValue===g.oldValue?ue():setTimeout(ue,10)}notifyListeners(g,w){this.localCache[g]=w;const $=this.listeners[g];if($)for(const ue of Array.from($))ue(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var $=()=>super._set,ue=this;return(0,l.A)(function*(){yield $().call(ue,g,w),ue.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,$=this;return(0,l.A)(function*(){const ue=yield w().call($,g);return $.localCache[g]=JSON.stringify(ue),ue})()}_remove(g){var w=()=>super._remove,$=this;return(0,l.A)(function*(){yield w().call($,g),delete $.localCache[g]})()}}return E.type="LOCAL",E})(),Ks=(()=>{class E extends tl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return E.type="SESSION",E})();let Po=(()=>{class E{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(ue=>ue.isListeningto(g));if(w)return w;const $=new E(g);return this.receivers.push($),$}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,l.A)(function*(){const $=g,{eventId:ue,eventType:Je,data:St}=$.data,on=w.handlersMap[Je];if(!on?.size)return;$.ports[0].postMessage({status:"ack",eventId:ue,eventType:Je});const $n=Array.from(on).map(function(){var Ln=(0,l.A)(function*(is){return is($.origin,St)});return function(is){return Ln.apply(this,arguments)}}()),lr=yield function Ro(E){return Promise.all(E.map(function(){var h=(0,l.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return h.apply(this,arguments)}}()))}($n);$.ports[0].postMessage({status:"done",eventId:ue,eventType:Je,response:lr})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function si(E="",h=10){let g="";for(let w=0;w<h;w++)g+=Math.floor(10*Math.random());return E+g}class fo{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,w=50){var $=this;return(0,l.A)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let Je,St;return new Promise((on,$n)=>{const lr=si("",20);ue.port1.start();const Ln=setTimeout(()=>{$n(new Error("unsupported_event"))},w);St={messageChannel:ue,onMessage(is){const _i=is;if(_i.data.eventId===lr)switch(_i.data.status){case"ack":clearTimeout(Ln),Je=setTimeout(()=>{$n(new Error("timeout"))},3e3);break;case"done":clearTimeout(Je),on(_i.data.response);break;default:clearTimeout(Ln),clearTimeout(Je),$n(new Error("invalid_response"))}}},$.handlers.add(St),ue.port1.addEventListener("message",St.onMessage),$.target.postMessage({eventType:h,eventId:lr,data:g},[ue.port2])}).finally(()=>{St&&$.removeMessageHandler(St)})})()}}function os(){return window}function oo(){return typeof os().WorkerGlobalScope<"u"&&"function"==typeof os().importScripts}function Co(){return(Co=(0,l.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const di="firebaseLocalStorageDb",uc="firebaseLocalStorage",ma="fbase_key";class dc{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Rc(E,h){return E.transaction([uc],h?"readwrite":"readonly").objectStore(uc)}function Ws(){const E=indexedDB.open(di,1);return new Promise((h,g)=>{E.addEventListener("error",()=>{g(E.error)}),E.addEventListener("upgradeneeded",()=>{const w=E.result;try{w.createObjectStore(uc,{keyPath:ma})}catch($){g($)}}),E.addEventListener("success",(0,l.A)(function*(){const w=E.result;w.objectStoreNames.contains(uc)?h(w):(w.close(),yield function ed(){const E=indexedDB.deleteDatabase(di);return new dc(E).toPromise()}(),h(yield Ws()))}))})}function hc(E,h,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,l.A)(function*(E,h,g){const w=Rc(E,!0).put({[ma]:h,value:g});return new dc(w).toPromise()})).apply(this,arguments)}function Pc(){return(Pc=(0,l.A)(function*(E,h){const g=Rc(E,!1).get(h),w=yield new dc(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function tu(E,h){const g=Rc(E,!0).delete(h);return new dc(g).toPromise()}const nu=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.A)(function*(){return g.db||(g.db=yield Ws()),g.db})()}_withRetries(g){var w=this;return(0,l.A)(function*(){let $=0;for(;;)try{const ue=yield w._openDb();return yield g(ue)}catch(ue){if($++>3)throw ue;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.A)(function*(){return oo()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.A)(function*(){g.receiver=Po._getInstance(function Es(){return oo()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,l.A)(function*($,ue){return{keyProcessed:(yield g._poll()).includes(ue.key)}});return function($,ue){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,l.A)(function*($,ue){return["keyChanged"]});return function($,ue){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.A)(function*(){var w,$;if(g.activeServiceWorker=yield function ga(){return Co.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new fo(g.activeServiceWorker);const ue=yield g.sender._send("ping",{},800);ue&&null!==(w=ue[0])&&void 0!==w&&w.fulfilled&&null!==($=ue[0])&&void 0!==$&&$.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,l.A)(function*(){if(w.sender&&w.activeServiceWorker&&function yl(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const g=yield Ws();return yield hc(g,el,"1"),yield tu(g,el),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,l.A)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var $=this;return(0,l.A)(function*(){return $._withPendingWrite((0,l.A)(function*(){return yield $._withRetries(ue=>hc(ue,g,w)),$.localCache[g]=w,$.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,l.A)(function*(){const $=yield w._withRetries(ue=>function ao(E,h){return Pc.apply(this,arguments)}(ue,g));return w.localCache[g]=$,$})()}_remove(g){var w=this;return(0,l.A)(function*(){return w._withPendingWrite((0,l.A)(function*(){return yield w._withRetries($=>tu($,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.A)(function*(){const w=yield g._withRetries(Je=>{const St=Rc(Je,!1).getAll();return new dc(St).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const $=[],ue=new Set;if(0!==w.length)for(const{fbase_key:Je,value:St}of w)ue.add(Je),JSON.stringify(g.localCache[Je])!==JSON.stringify(St)&&(g.notifyListeners(Je,St),$.push(Je));for(const Je of Object.keys(g.localCache))g.localCache[Je]&&!ue.has(Je)&&(g.notifyListeners(Je,null),$.push(Je));return $})()}notifyListeners(g,w){this.localCache[g]=w;const $=this.listeners[g];if($)for(const ue of Array.from($))ue(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),fe=1e12;class Fe{constructor(h){this.auth=h,this.counter=fe,this._widgets=new Map}render(h,g){const w=this.counter;return this._widgets.set(w,new $t(h,this.auth.name,g||{})),this.counter++,w}reset(h){var g;const w=h||fe;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(h){var g;return(null===(g=this._widgets.get(h||fe))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,l.A)(function*(){var w;return null===(w=g._widgets.get(h||fe))||void 0===w||w.execute(),""})()}}class $t{constructor(h,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof h?document.getElementById(h):h;ke($,"argument-error",{appName:g}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Dt(E){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<E;w++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Dn=Ts("rcb"),Yn=new q(3e4,6e4);class Pn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=os().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return ke(function Hr(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&dn(os().grecaptcha)?Promise.resolve(os().grecaptcha):new Promise((w,$)=>{const ue=os().setTimeout(()=>{$(_e(h,"network-request-failed"))},Yn.get());os()[Dn]=()=>{os().clearTimeout(ue),delete os()[Dn];const St=os().grecaptcha;if(!St||!dn(St))return void $(_e(h,"internal-error"));const on=St.render;St.render=($n,lr)=>{const Ln=on($n,lr);return this.counter++,Ln},this.hostLanguage=g,w(St)},bt(`${function Bi(){return hr.recaptchaV2Script}()}?${(0,ie.Am)({onload:Dn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(ue),$(_e(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=os().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class qi{load(h){return(0,l.A)(function*(){return new Fe(h)})()}clearedOneInstance(){}}const Xi="recaptcha",bi={theme:"light",type:"image"};class Mo{constructor(h,g,w=Object.assign({},bi)){this.parameters=w,this.type=Xi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ur(h),this.isInvisible="invisible"===this.parameters.size,ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof g?document.getElementById(g):g;ke($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new qi:new Pn,this.validateStartingState()}verify(){var h=this;return(0,l.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(g)||new Promise(ue=>{const Je=St=>{St&&(h.tokenChangeListeners.delete(Je),ue(St))};h.tokenChangeListeners.add(Je),h.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ke(!this.parameters.sitekey,this.auth,"argument-error"),ke(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ke(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof h)h(g);else if("string"==typeof h){const w=os()[h];"function"==typeof w&&w(g)}}}assertNotDestroyed(){ke(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.A)(function*(){ke(It()&&!oo(),h.auth,"internal-error"),yield function No(){let E=null;return new Promise(h=>{"complete"!==document.readyState?(E=()=>h(),window.addEventListener("load",E)):h()}).catch(h=>{throw E&&window.removeEventListener("load",E),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function kt(E){return Bt.apply(this,arguments)}(h.auth);ke(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return ke(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oa{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=Mi._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function Mc(){return(Mc=(0,l.A)(function*(E,h,g){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const w=Ur(E),$=yield Fl(w,h,(0,ie.Ku)(g));return new Oa($,ue=>O(w,ue))})).apply(this,arguments)}function Md(){return(Md=(0,l.A)(function*(E,h,g){const w=(0,ie.Ku)(E);yield Pl(!1,w,"phone");const $=yield Fl(w.auth,h,(0,ie.Ku)(g));return new Oa($,ue=>nt(w,ue))})).apply(this,arguments)}function fc(){return(fc=(0,l.A)(function*(E,h,g){const w=(0,ie.Ku)(E);if((0,Te._isFirebaseServerApp)(w.auth.app))return Promise.reject(at(w.auth));const $=yield Fl(w.auth,h,(0,ie.Ku)(g));return new Oa($,ue=>Fr(w,ue))})).apply(this,arguments)}function Fl(E,h,g){return td.apply(this,arguments)}function td(){return td=(0,l.A)(function*(E,h,g){var w;const $=yield g.verify();try{let ue;if(ke("string"==typeof $,E,"argument-error"),ke(g.type===Xi,E,"argument-error"),ue="string"==typeof h?{phoneNumber:h}:h,"session"in ue){const Je=ue.session;if("phoneNumber"in ue)return ke("enroll"===Je.type,E,"internal-error"),(yield function Yo(E,h){return Ht(E,"POST","/v2/accounts/mfaEnrollment:start",Ne(E,h))}(E,{idToken:Je.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{ke("signin"===Je.type,E,"internal-error");const St=(null===(w=ue.multiFactorHint)||void 0===w?void 0:w.uid)||ue.multiFactorUid;return ke(St,E,"missing-multi-factor-info"),(yield function C(E,h){return Ht(E,"POST","/v2/accounts/mfaSignIn:start",Ne(E,h))}(E,{mfaPendingCredential:Je.credential,mfaEnrollmentId:St,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Je}=yield function mr(E,h){return Fi.apply(this,arguments)}(E,{phoneNumber:ue.phoneNumber,recaptchaToken:$});return Je}}finally{g._reset()}}),td.apply(this,arguments)}function Vl(){return(Vl=(0,l.A)(function*(E,h){const g=(0,ie.Ku)(E);if((0,Te._isFirebaseServerApp)(g.auth.app))return Promise.reject(at(g.auth));yield qa(g,h)})).apply(this,arguments)}let El=(()=>{class E{constructor(g){this.providerId=E.PROVIDER_ID,this.auth=Ur(g)}verifyPhoneNumber(g,w){return Fl(this.auth,g,(0,ie.Ku)(w))}static credential(g,w){return Mi._fromVerification(g,w)}static credentialFromResult(g){return E.credentialFromTaggedObject(g)}static credentialFromError(g){return E.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:$}=g;return w&&$?Mi._fromTokenResponse(w,$):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function xa(E,h){return h?er(h):(ke(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class rd extends Ho{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Cn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return Cn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return Cn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function Ul(E){return H(E.auth,new rd(E),E.bypassAuthState)}function Ef(E){const{auth:h,user:g}=E;return ke(g,h,"internal-error"),ir(g,new rd(E),E.bypassAuthState)}function id(E){return pc.apply(this,arguments)}function pc(){return(pc=(0,l.A)(function*(E){const{auth:h,user:g}=E;return ke(g,h,"internal-error"),qa(g,new rd(E),E.bypassAuthState)})).apply(this,arguments)}class Il{constructor(h,g,w,$,ue=!1){this.auth=h,this.resolver=w,this.user=$,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,l.A)(function*(w,$){h.pendingPromise={resolve:w,reject:$};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ue){h.reject(ue)}});return function(w,$){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,l.A)(function*(){const{urlResponse:w,sessionId:$,postBody:ue,tenantId:Je,error:St,type:on}=h;if(St)return void g.reject(St);const $n={auth:g.auth,requestUri:w,sessionId:$,tenantId:Je||void 0,postBody:ue||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(on)($n))}catch(lr){g.reject(lr)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ul;case"linkViaPopup":case"linkViaRedirect":return id;case"reauthViaPopup":case"reauthViaRedirect":return Ef;default:Re(this.auth,"internal-error")}}resolve(h){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ye(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nc=new q(2e3,1e4);function Oo(){return(Oo=(0,l.A)(function*(E,h,g){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(_e(E,"operation-not-supported-in-this-environment"));const w=Ur(E);ze(E,h,Fs);const $=xa(w,g);return new ru(w,"signInViaPopup",h,$).executeNotNull()})).apply(this,arguments)}function ya(){return(ya=(0,l.A)(function*(E,h,g){const w=(0,ie.Ku)(E);if((0,Te._isFirebaseServerApp)(w.auth.app))return Promise.reject(_e(w.auth,"operation-not-supported-in-this-environment"));ze(w.auth,h,Fs);const $=xa(w.auth,g);return new ru(w.auth,"reauthViaPopup",h,$,w).executeNotNull()})).apply(this,arguments)}function Od(){return(Od=(0,l.A)(function*(E,h,g){const w=(0,ie.Ku)(E);ze(w.auth,h,Fs);const $=xa(w.auth,g);return new ru(w.auth,"linkViaPopup",h,$,w).executeNotNull()})).apply(this,arguments)}let ru=(()=>{class E extends Il{constructor(g,w,$,ue,Je){super(g,w,ue,Je),this.provider=$,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.A)(function*(){const w=yield g.execute();return ke(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,l.A)(function*(){Ye(1===g.filter.length,"Popup operations only handle one event");const w=si();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch($=>{g.reject($)}),g.resolver._isIframeWebStorageSupported(g.auth,$=>{$||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,$;this.pollId=null!==($=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==$&&$.closed?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Nc.get())};g()}}return E.currentPopupAction=null,E})();const Bl="pendingRedirect",rl=new Map;class gc extends Il{constructor(h,g,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,l.A)(function*(){let w=rl.get(g.auth._key());if(!w){try{const ue=(yield function xc(E,h){return il.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;w=()=>Promise.resolve(ue)}catch($){w=()=>Promise.reject($)}rl.set(g.auth._key(),w)}return g.bypassAuthState||rl.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,w=this;return(0,l.A)(function*(){if("signInViaRedirect"===h.type)return g().call(w,h);if("unknown"!==h.type){if(h.eventId){const $=yield w.auth._redirectUserForId(h.eventId);if($)return w.user=$,g().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function il(){return(il=(0,l.A)(function*(E,h){const g=Eh(h),w=sd(E);if(!(yield w._isAvailable()))return!1;const $="true"===(yield w._get(g));return yield w._remove(g),$})).apply(this,arguments)}function Du(E,h){return iu.apply(this,arguments)}function iu(){return(iu=(0,l.A)(function*(E,h){return sd(E)._set(Eh(h),"true")})).apply(this,arguments)}function $l(E,h){rl.set(E._key(),h)}function sd(E){return er(E._redirectPersistence)}function Eh(E){return zr(Bl,E.config.apiKey,E.name)}function Ki(E,h,g){return function Su(E,h,g){return Tl.apply(this,arguments)}(E,h,g)}function Tl(){return(Tl=(0,l.A)(function*(E,h,g){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const w=Ur(E);ze(E,h,Fs),yield w._initializationPromise;const $=xa(w,g);return yield Du($,w),$._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function sl(E,h,g){return function kc(E,h,g){return xd.apply(this,arguments)}(E,h,g)}function xd(){return(xd=(0,l.A)(function*(E,h,g){const w=(0,ie.Ku)(E);if(ze(w.auth,h,Fs),(0,Te._isFirebaseServerApp)(w.auth.app))return Promise.reject(at(w.auth));yield w.auth._initializationPromise;const $=xa(w.auth,g);yield Du($,w.auth);const ue=yield Tn(w);return $._openRedirect(w.auth,h,"reauthViaRedirect",ue)})).apply(this,arguments)}function od(E,h,g){return function If(E,h,g){return kd.apply(this,arguments)}(E,h,g)}function kd(){return(kd=(0,l.A)(function*(E,h,g){const w=(0,ie.Ku)(E);ze(w.auth,h,Fs),yield w.auth._initializationPromise;const $=xa(w.auth,g);yield Pl(!1,w,h.providerId),yield Du($,w.auth);const ue=yield Tn(w);return $._openRedirect(w.auth,h,"linkViaRedirect",ue)})).apply(this,arguments)}function jl(){return(jl=(0,l.A)(function*(E,h){return yield Ur(E)._initializationPromise,Jo(E,h,!1)})).apply(this,arguments)}function Jo(E,h){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.A)(function*(E,h,g=!1){if((0,Te._isFirebaseServerApp)(E.app))return Promise.reject(at(E));const w=Ur(E),$=xa(w,h),Je=yield new gc(w,$,g).execute();return Je&&!g&&(delete Je.user._redirectEventId,yield w._persistUserIfCurrent(Je.user),yield w._setRedirectUser(null,h)),Je})).apply(this,arguments)}function Tn(E){return sr.apply(this,arguments)}function sr(){return(sr=(0,l.A)(function*(E){const h=si(`${E.uid}:::`);return E._redirectEventId=h,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),h})).apply(this,arguments)}class ka{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(g=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Lc(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qs(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var w;if(h.error&&!Qs(h)){const $=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,$))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const w=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qs(h))}saveEventToCache(h){this.cachedEventUids.add(qs(h)),this.lastProcessedEventTime=Date.now()}}function qs(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function Qs({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function Wi(E){return es.apply(this,arguments)}function es(){return(es=(0,l.A)(function*(E,h={}){return Ht(E,"GET","/v1/projects",h)})).apply(this,arguments)}const ol=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dr=/^https?/;function ou(){return(ou=(0,l.A)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield Wi(E);for(const g of h)try{if(Cl(g))return}catch{}Re(E,"unauthorized-domain")})).apply(this,arguments)}function Cl(E){const h=Et(),{protocol:g,hostname:w}=new URL(h);if(E.startsWith("chrome-extension://")){const Je=new URL(E);return""===Je.hostname&&""===w?"chrome-extension:"===g&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Je.hostname===w}if(!Dr.test(g))return!1;if(ol.test(E))return w===E;const $=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(w)}const ps=new q(3e4,6e4);function mc(){const E=os().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let g=0;g<E.CP.length;g++)E.CP[g]=null}let Ys=null;const ld=new q(5e3,15e3),Hl="__/auth/iframe",Zs="emulator/auth/iframe",va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function au(E){const h=E.config;ke(h.authDomain,E,"auth-domain-config-required");const g=h.emulator?ne(h,Zs):`https://${E.config.authDomain}/${Hl}`,w={apiKey:h.apiKey,appName:E.name,v:Te.SDK_VERSION},$=fr.get(E.config.apiHost);$&&(w.eid=$);const ue=E._getFrameworks();return ue.length&&(w.fw=ue.join(",")),`${g}?${(0,ie.Am)(w).slice(1)}`}function Js(){return Js=(0,l.A)(function*(E){const h=yield function La(E){return Ys=Ys||function wl(E){return new Promise((h,g)=>{var w,$,ue;function Je(){mc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{mc(),g(_e(E,"network-request-failed"))},timeout:ps.get()})}if(null!==($=null===(w=os().gapi)||void 0===w?void 0:w.iframes)&&void 0!==$&&$.Iframe)h(gapi.iframes.getContext());else{if(null===(ue=os().gapi)||void 0===ue||!ue.load){const St=Ts("iframefcb");return os()[St]=()=>{gapi.load?Je():g(_e(E,"network-request-failed"))},bt(`${function Rs(){return hr.gapiScript}()}?onload=${St}`).catch(on=>g(on))}Je()}}).catch(h=>{throw Ys=null,h})}(E),Ys}(E),g=os().gapi;return ke(g,E,"internal-error"),h.open({where:document.body,url:au(E),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:va,dontclear:!0},w=>new Promise(function(){var $=(0,l.A)(function*(ue,Je){yield w.restyle({setHideOnLeave:!1});const St=_e(E,"network-request-failed"),on=os().setTimeout(()=>{Je(St)},ld.get());function $n(){os().clearTimeout(on),ue(w)}w.ping($n).then($n,()=>{Je(St)})});return function(ue,Je){return $.apply(this,arguments)}}()))}),Js.apply(this,arguments)}const zl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class po{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const cd="__/auth/handler",Fa="emulator/auth/handler",Pu=encodeURIComponent("fac");function T(E,h,g,w,$,ue){return f.apply(this,arguments)}function f(){return(f=(0,l.A)(function*(E,h,g,w,$,ue){ke(E.config.authDomain,E,"auth-domain-config-required"),ke(E.config.apiKey,E,"invalid-api-key");const Je={apiKey:E.config.apiKey,appName:E.name,authType:g,redirectUrl:w,v:Te.SDK_VERSION,eventId:$};if(h instanceof Fs){h.setDefaultLanguage(E.languageCode),Je.providerId=h.providerId||"",(0,ie.Im)(h.getCustomParameters())||(Je.customParameters=JSON.stringify(h.getCustomParameters()));for(const[lr,Ln]of Object.entries(ue||{}))Je[lr]=Ln}if(h instanceof ds){const lr=h.getScopes().filter(Ln=>""!==Ln);lr.length>0&&(Je.scopes=lr.join(","))}E.tenantId&&(Je.tid=E.tenantId);const St=Je;for(const lr of Object.keys(St))void 0===St[lr]&&delete St[lr];const on=yield E._getAppCheckToken(),$n=on?`#${Pu}=${encodeURIComponent(on)}`:"";return`${function v({config:E}){return E.emulator?ne(E,Fa):`https://${E.authDomain}/${cd}`}(E)}?${(0,ie.Am)(St).slice(1)}${$n}`})).apply(this,arguments)}const A="webStorageSupport",ee=class L{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ks,this._completeRedirectFn=Jo,this._overrideRedirectResult=$l}_openPopup(h,g,w,$){var ue=this;return(0,l.A)(function*(){var Je;Ye(null===(Je=ue.eventManagers[h._key()])||void 0===Je?void 0:Je.manager,"_initialize() not called before _openPopup()");const St=yield T(h,g,w,Et(),$);return function Gl(E,h,g,w=500,$=600){const ue=Math.max((window.screen.availHeight-$)/2,0).toString(),Je=Math.max((window.screen.availWidth-w)/2,0).toString();let St="";const on=Object.assign(Object.assign({},zl),{width:w.toString(),height:$.toString(),top:ue,left:Je}),$n=(0,ie.ZQ)().toLowerCase();g&&(St=wr($n)?"_blank":g),ei($n)&&(h=h||"http://localhost",on.scrollbars="yes");const lr=Object.entries(on).reduce((is,[_i,Ah])=>`${is}${_i}=${Ah},`,"");if(function re(E=(0,ie.ZQ)()){var h;return Mr(E)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}($n)&&"_self"!==St)return function Vc(E,h){const g=document.createElement("a");g.href=E,g.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(h||"",St),new po(null);const Ln=window.open(h||"",St,lr);ke(Ln,E,"popup-blocked");try{Ln.focus()}catch{}return new po(Ln)}(h,St,si())})()}_openRedirect(h,g,w,$){var ue=this;return(0,l.A)(function*(){return yield ue._originValidation(h),function cc(E){os().location.href=E}(yield T(h,g,w,Et(),$)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:$,promise:ue}=this.eventManagers[g];return $?Promise.resolve($):(Ye(ue,"If manager is not set, promise should be"),ue)}const w=this.initAndGetManager(h);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(h){var g=this;return(0,l.A)(function*(){const w=yield function lu(E){return Js.apply(this,arguments)}(h),$=new ka(h);return w.register("authEvent",ue=>(ke(ue?.authEvent,h,"invalid-auth-event"),{status:$.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:$},g.iframes[h._key()]=w,$})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(A,{type:A},$=>{var ue;const Je=null===(ue=$?.[0])||void 0===ue?void 0:ue[A];void 0!==Je&&g(!!Je),Re(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Fc(E){return ou.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return ce()||ys()||Mr()}};class Ee{constructor(h){this.factorId=h}_process(h,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,w);case"signin":return this._finalizeSignIn(h,g.credential);default:return mt("unexpected MultiFactorSessionType")}}}class Le extends Ee{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Le(h)}_finalizeEnroll(h,g,w){return function pa(E,h){return Ht(E,"POST","/v2/accounts/mfaEnrollment:finalize",Ne(E,h))}(h,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function P(E,h){return Ht(E,"POST","/v2/accounts/mfaSignIn:finalize",Ne(E,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lt=(()=>{class E{constructor(){}static assertion(g){return Le._fromCredential(g)}}return E.FACTOR_ID="phone",E})();var ar="@firebase/auth";class Tr{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,l.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(w=>{h(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Zi(){return window}(0,ie.XA)("authIdTokenMaxAge"),function Hi(E){hr=E}({loadJS:E=>new Promise((h,g)=>{const w=document.createElement("script");w.setAttribute("src",E),w.onload=h,w.onerror=$=>{const ue=_e("internal-error");ue.customData=$,g(ue)},w.type="text/javascript",w.charset="UTF-8",function lo(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(w)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Yr(E){(0,Te._registerComponent)(new Oe.uA("auth",(h,{options:g})=>{const w=h.getProvider("app").getImmediate(),$=h.getProvider("heartbeat"),ue=h.getProvider("app-check-internal"),{apiKey:Je,authDomain:St}=w.options;ke(Je&&!Je.includes(":"),"invalid-api-key",{appName:w.name});const on={apiKey:Je,authDomain:St,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(E)},$n=new Ri(w,$,ue,on);return function no(E,h){const g=h?.persistence||[],w=(Array.isArray(g)?g:[g]).map(er);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(w,h?.popupRedirectResolver)}($n,g),$n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,w)=>{h.getProvider("auth-internal").initialize()})),(0,Te._registerComponent)(new Oe.uA("auth-internal",h=>{const g=Ur(h.getProvider("auth").getImmediate());return new Tr(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Te.registerVersion)(ar,"1.7.5",function Kr(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(E)),(0,Te.registerVersion)(ar,"1.7.5","esm2017")}("Browser");function cu(){return cu=(0,l.A)(function*(E,h,g){var w;const{BuildInfo:$}=Zi();Ye(h.sessionId,"AuthEvent did not contain a session ID");const ue=yield function Br(E){return Zr.apply(this,arguments)}(h.sessionId),Je={};return Mr()?Je.ibi=$.packageName:Si()?Je.apn=$.packageName:Re(E,"operation-not-supported-in-this-environment"),$.displayName&&(Je.appDisplayName=$.displayName),Je.sessionId=ue,T(E,g,h.type,void 0,null!==(w=h.eventId)&&void 0!==w?w:void 0,Je)}),cu.apply(this,arguments)}function Uc(){return(Uc=(0,l.A)(function*(E){const{BuildInfo:h}=Zi(),g={};Mr()?g.iosBundleId=h.packageName:Si()?g.androidPackageName=h.packageName:Re(E,"operation-not-supported-in-this-environment"),yield Wi(E,g)})).apply(this,arguments)}function ur(){return(ur=(0,l.A)(function*(E,h,g){const{cordova:w}=Zi();let $=()=>{};try{yield new Promise((ue,Je)=>{let St=null;function on(){var Ln;ue();const is=null===(Ln=w.plugins.browsertab)||void 0===Ln?void 0:Ln.close;"function"==typeof is&&is(),"function"==typeof g?.close&&g.close()}function $n(){St||(St=window.setTimeout(()=>{Je(_e(E,"redirect-cancelled-by-user"))},2e3))}function lr(){"visible"===document?.visibilityState&&$n()}h.addPassiveListener(on),document.addEventListener("resume",$n,!1),Si()&&document.addEventListener("visibilitychange",lr,!1),$=()=>{h.removePassiveListener(on),document.removeEventListener("resume",$n,!1),document.removeEventListener("visibilitychange",lr,!1),St&&window.clearTimeout(St)}})}finally{$()}})).apply(this,arguments)}function Zr(){return(Zr=(0,l.A)(function*(E){const h=function eo(E){if(Ye(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const h=new ArrayBuffer(E.length),g=new Uint8Array(h);for(let w=0;w<E.length;w++)g[w]=E.charCodeAt(w);return g}(E),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map($=>$.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Wr extends ka{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,l.A)(function*(){yield h.initPromise})()}}function co(E){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,l.A)(function*(E){const h=yield ji()._get(al(E));return h&&(yield ji()._remove(al(E))),h})).apply(this,arguments)}function _a(){const E=[];for(let g=0;g<20;g++){const w=Math.floor(62*Math.random());E.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(w))}return E.join("")}function ji(){return er(nl)}function al(E){return zr("authEvent",E.config.apiKey,E.name)}function ea(E){if(!E?.includes("?"))return{};const[h,...g]=E.split("?");return(0,ie.I9)(g.join("?"))}const Pp=class Cf{constructor(){this._redirectPersistence=Ks,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Jo,this._overrideRedirectResult=$l}_initialize(h){var g=this;return(0,l.A)(function*(){const w=h._key();let $=g.eventManagers.get(w);return $||($=new Wr(h),g.eventManagers.set(w,$),g.attachCallbackListeners(h,$)),$})()}_openPopup(h){Re(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,w,$){var ue=this;return(0,l.A)(function*(){!function Cr(E){var h,g,w,$,ue,Je,St,on,$n,lr;const Ln=Zi();ke("function"==typeof(null===(h=Ln?.universalLinks)||void 0===h?void 0:h.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ke(typeof(null===(g=Ln?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ke("function"==typeof(null===(ue=null===($=null===(w=Ln?.cordova)||void 0===w?void 0:w.plugins)||void 0===$?void 0:$.browsertab)||void 0===ue?void 0:ue.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ke("function"==typeof(null===(on=null===(St=null===(Je=Ln?.cordova)||void 0===Je?void 0:Je.plugins)||void 0===St?void 0:St.browsertab)||void 0===on?void 0:on.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ke("function"==typeof(null===(lr=null===($n=Ln?.cordova)||void 0===$n?void 0:$n.InAppBrowser)||void 0===lr?void 0:lr.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Je=yield ue._initialize(h);yield Je.initialized(),Je.resetRedirect(),function su(){rl.clear()}(),yield ue._originValidation(h);const St=function Ba(E,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:_a(),postBody:null,tenantId:E.tenantId,error:_e(E,"no-auth-event")}}(h,w,$);yield function rs(E,h){return ji()._set(al(E),h)}(h,St);const on=yield function vc(E,h,g){return cu.apply(this,arguments)}(h,St,g),$n=yield function Bc(E){const{cordova:h}=Zi();return new Promise(g=>{h.plugins.browsertab.isAvailable(w=>{let $=null;w?h.plugins.browsertab.openUrl(E):$=h.InAppBrowser.open(E,function Q(E=(0,ie.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),g($)})})}(on);return function uu(E,h,g){return ur.apply(this,arguments)}(h,Je,$n)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Kl(E){return Uc.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:w,handleOpenURL:$,BuildInfo:ue}=Zi(),Je=setTimeout((0,l.A)(function*(){yield co(h),g.onEvent(du())}),500),St=function(){var lr=(0,l.A)(function*(Ln){clearTimeout(Je);const is=yield co(h);let _i=null;is&&Ln?.url&&(_i=function Bs(E,h){var g,w;const $=function Ih(E){const h=ea(E),g=h.link?decodeURIComponent(h.link):void 0,w=ea(g).link,$=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return ea($).link||$||w||g||E}(h);if($.includes("/__/auth/callback")){const ue=ea($),Je=ue.firebaseError?function $c(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(ue.firebaseError)):null,St=null===(w=null===(g=Je?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],on=St?_e(St):null;return on?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:on,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:$,postBody:null}}return null}(is,Ln.url)),g.onEvent(_i||du())});return function(is){return lr.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,St);const on=$,$n=`${ue.packageName.toLowerCase()}://`;Zi().handleOpenURL=function(){var lr=(0,l.A)(function*(Ln){if(Ln.toLowerCase().startsWith($n)&&St({url:Ln}),"function"==typeof on)try{on(Ln)}catch(is){console.error(is)}});return function(Ln){return lr.apply(this,arguments)}}()}};function du(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function Ea(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function jc(E=(0,ie.ZQ)()){return!("file:"!==Ea()&&"ionic:"!==Ea()&&"capacitor:"!==Ea()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Af(){try{const E=self.localStorage,h=si();if(E)return E.setItem(h,"1"),E.removeItem(h),!function bf(E=(0,ie.ZQ)()){return function Ch(){return(0,ie.lT)()&&11===document?.documentMode}()||function Mp(E=(0,ie.ZQ)()){return/Edge\/\d+/.test(E)}(E)}()||(0,ie.zW)()}catch{return Df()&&(0,ie.zW)()}return!1}function Df(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Vd(){return(function $r(){return"http:"===Ea()||"https:"===Ea()}()||(0,ie.sr)()||jc())&&!function dd(){return(0,ie.lV)()||(0,ie.Ll)()}()&&Af()&&!Df()}function Wl(){return jc()&&typeof document<"u"}function Rf(){return(Rf=(0,l.A)(function*(){return!!Wl()&&new Promise(E=>{const h=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),E(!0)})})})).apply(this,arguments)}const ls={LOCAL:"local",NONE:"none",SESSION:"session"},Ud=ke,Jt="persistence";function hu(E){return hd.apply(this,arguments)}function hd(){return(hd=(0,l.A)(function*(E){yield E._initializationPromise;const h=Pf(),g=zr(Jt,E.config.apiKey,E.name);h&&h.setItem(g,E._getPersistence())})).apply(this,arguments)}function Pf(){var E;try{return(null===(E=function vm(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const Bd=ke;class wo{constructor(){this.browserResolver=er(ee),this.cordovaResolver=er(Pp),this.underlyingResolver=null,this._redirectPersistence=Ks,this._completeRedirectFn=Jo,this._overrideRedirectResult=$l}_initialize(h){var g=this;return(0,l.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,w,$){var ue=this;return(0,l.A)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(h,g,w,$)})()}_openRedirect(h,g,w,$){var ue=this;return(0,l.A)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(h,g,w,$)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Wl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,l.A)(function*(){if(h.underlyingResolver)return;const g=yield function Sf(){return Rf.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function wh(E){return E.unwrap()}function fd(E){return pd(E)}function pd(E){const{_tokenResponse:h}=E instanceof ie.g?E.customData:E;if(!h)return null;if(!(E instanceof ie.g)&&"temporaryProof"in h&&"phoneNumber"in h)return El.credentialFromResult(E);const g=h.providerId;if(!g||g===Ke.PASSWORD)return null;let w;switch(g){case Ke.GOOGLE:w=_s;break;case Ke.FACEBOOK:w=Ti;break;case Ke.GITHUB:w=So;break;case Ke.TWITTER:w=ec;break;default:const{oauthIdToken:$,oauthAccessToken:ue,oauthTokenSecret:Je,pendingToken:St,nonce:on}=h;return ue||Je||$||St?St?g.startsWith("saml.")?Ps._create(g,St):tr._fromParams({providerId:g,signInMethod:g,pendingToken:St,idToken:$,accessToken:ue}):new Da(g).credential({idToken:$,accessToken:ue,rawNonce:on}):null}return E instanceof ie.g?w.credentialFromError(E):w.credentialFromResult(E)}function ko(E,h){return h.catch(g=>{throw g instanceof ie.g&&function Np(E,h){var g;const w=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new Lo(E,function Gs(E,h){var g;const w=(0,ie.Ku)(E),$=h;return ke(h.customData.operationType,w,"argument-error"),ke(null===(g=$.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ho._fromError(w,$)}(E,h));else if(w){const $=pd(h),ue=h;$&&(ue.credential=$,ue.tenantId=w.tenantId||void 0,ue.email=w.email||void 0,ue.phoneNumber=w.phoneNumber||void 0)}}(E,g),g}).then(g=>{const $=g.user;return{operationType:g.operationType,credential:fd(g),additionalUserInfo:Ve(g),user:bo.getOrCreate($)}})}function Mu(E,h){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,l.A)(function*(E,h){const g=yield h;return{verificationId:g.verificationId,confirm:w=>ko(E,g.confirm(w))}})).apply(this,arguments)}class Lo{constructor(h,g){this.resolver=g,this.auth=function Mf(E){return E.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ko(wh(this.auth),this.resolver.resolveSignIn(h))}}class bo{constructor(h){this._delegate=h,this.multiFactor=function Gi(E){const h=(0,ie.Ku)(E);return ml.has(h)||ml.set(h,Ma._fromUser(h)),ml.get(h)}(h)}static getOrCreate(h){return bo.USER_MAP.has(h)||bo.USER_MAP.set(h,new bo(h)),bo.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,l.A)(function*(){return ko(g.auth,nt(g._delegate,h))})()}linkWithPhoneNumber(h,g){var w=this;return(0,l.A)(function*(){return Mu(w.auth,function bu(E,h,g){return Md.apply(this,arguments)}(w._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,l.A)(function*(){return ko(g.auth,function _h(E,h,g){return Od.apply(this,arguments)}(g._delegate,h,wo))})()}linkWithRedirect(h){var g=this;return(0,l.A)(function*(){return yield hu(Ur(g.auth)),od(g._delegate,h,wo)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,l.A)(function*(){return ko(g.auth,Fr(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return Mu(this.auth,function Nd(E,h,g){return fc.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return ko(this.auth,function Oc(E,h,g){return ya.apply(this,arguments)}(this._delegate,h,wo))}reauthenticateWithRedirect(h){var g=this;return(0,l.A)(function*(){return yield hu(Ur(g.auth)),sl(g._delegate,h,wo)})()}sendEmailVerification(h){return function Ju(E,h){return Sc.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,l.A)(function*(){return yield function ul(E,h){return yi.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Za(E,h){const g=(0,ie.Ku)(E);return(0,Te._isFirebaseServerApp)(g.auth.app)?Promise.reject(at(g.auth)):kl(g,h,null)}(this._delegate,h)}updatePassword(h){return function zs(E,h){return kl((0,ie.Ku)(E),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function nd(E,h){return Vl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Gr(E,h){return Xo.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function ic(E,h,g){return xl.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}bo.USER_MAP=new WeakMap;const fu=ke;let $a=(()=>{class E{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$}=g.options;fu($,"invalid-api-key",{appName:g.name}),fu($,"invalid-api-key",{appName:g.name});const ue=typeof window<"u"?wo:void 0;this._delegate=w.initialize({options:{persistence:Op($,g.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(ct),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?bo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function sa(E,h,g){const w=Ur(E);ke(w._canInitEmulator,w,"emulator-config-failed"),ke(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const $=!!g?.disableWarnings,ue=cs(h),{host:Je,port:St}=function ks(E){const h=cs(E),g=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(w);if($){const ue=$[1];return{host:ue,port:Ao(w.substr(ue.length+1))}}{const[ue,Je]=w.split(":");return{host:ue,port:Ao(Je)}}}(h);w.config.emulator={url:`${ue}//${Je}${null===St?"":`:${St}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:Je,port:St,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:$})}),$||function vs(){function E(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,g,w)}applyActionCode(g){return function ua(E,h){return da.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Zu(this._delegate,g)}confirmPasswordReset(g,w){return function bc(E,h,g){return Ko.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var $=this;return(0,l.A)(function*(){return ko($._delegate,function Ac(E,h,g){return nc.apply(this,arguments)}($._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Ar(E,h){return kr.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Wo(E,h){const g=Xr.parseLink(h);return"EMAIL_SIGNIN"===g?.operation}(0,g)}getRedirectResult(){var g=this;return(0,l.A)(function*(){fu(Vd(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function ad(E,h){return jl.apply(this,arguments)}(g._delegate,wo);return w?ko(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function wf(E,h){Ur(E)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,w,$){const{next:ue,error:Je,complete:St}=Fo(g,w,$);return this._delegate.onAuthStateChanged(ue,Je,St)}onIdTokenChanged(g,w,$){const{next:ue,error:Je,complete:St}=Fo(g,w,$);return this._delegate.onIdTokenChanged(ue,Je,St)}sendSignInLinkToEmail(g,w){return function pl(E,h,g){return Ya.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function wc(E,h,g){return xr.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,l.A)(function*(){let $;switch(function li(E,h){Ud(Object.values(ls).includes(h),E,"invalid-persistence-type"),(0,ie.lV)()?Ud(h!==ls.SESSION,E,"unsupported-persistence-type"):(0,ie.Ll)()?Ud(h===ls.NONE,E,"unsupported-persistence-type"):Df()?Ud(h===ls.NONE||h===ls.LOCAL&&(0,ie.zW)(),E,"unsupported-persistence-type"):Ud(h===ls.NONE||Af(),E,"unsupported-persistence-type")}(w._delegate,g),g){case ls.SESSION:$=Ks;break;case ls.LOCAL:$=(yield er(nu)._isAvailable())?nu:nl;break;case ls.NONE:$=ai;break;default:return Re("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence($)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ko(this._delegate,function bs(E){return Wa.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ko(this._delegate,O(this._delegate,g))}signInWithCustomToken(g){return ko(this._delegate,function Ra(E,h){return Xa.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return ko(this._delegate,function Ol(E,h,g){return(0,Te._isFirebaseServerApp)(E.app)?Promise.reject(at(E)):O((0,ie.Ku)(E),zo.credential(h,g)).catch(function(){var w=(0,l.A)(function*($){throw"auth/password-does-not-meet-requirements"===$.code&&hl(E),$});return function($){return w.apply(this,arguments)}}())}(this._delegate,g,w))}signInWithEmailLink(g,w){return ko(this._delegate,function Dc(E,h,g){return Vs.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Mu(this._delegate,function Ll(E,h,g){return Mc.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,l.A)(function*(){return fu(Vd(),w._delegate,"operation-not-supported-in-this-environment"),ko(w._delegate,function Au(E,h,g){return Oo.apply(this,arguments)}(w._delegate,g,wo))})()}signInWithRedirect(g){var w=this;return(0,l.A)(function*(){return fu(Vd(),w._delegate,"operation-not-supported-in-this-environment"),yield hu(w._delegate),Ki(w._delegate,g,wo)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function wu(E,h){return Qa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=ls,E})();function Fo(E,h,g){let w=E;"function"!=typeof E&&({next:w,error:h,complete:g}=E);const $=w;return{next:Je=>$(Je&&bo.getOrCreate(Je)),error:h,complete:g}}function Op(E,h){const g=function ts(E,h){const g=Pf();if(!g)return[];const w=zr(Jt,E,h);switch(g.getItem(w)){case ls.NONE:return[ai];case ls.LOCAL:return[nu,Ks];case ls.SESSION:return[Ks];default:return[]}}(E,h);if(typeof self<"u"&&!g.includes(nu)&&g.push(nu),typeof window<"u")for(const w of[nl,Ks])g.includes(w)||g.push(w);return g.includes(ai)||g.push(ai),g}class bh{constructor(){this.providerId="phone",this._delegate=new El(wh(U.A.auth()))}static credential(h,g){return El.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}bh.PHONE_SIGN_IN_METHOD=El.PHONE_SIGN_IN_METHOD,bh.PROVIDER_ID=El.PROVIDER_ID;const Nf=ke;class _m{constructor(h,g,w=U.A.app()){var $;Nf(null===($=w.options)||void 0===$?void 0:$.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Mo(w.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Of(E){E.INTERNAL.registerComponent(new Oe.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),w=h.getProvider("auth");return new $a(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:zo,FacebookAuthProvider:Ti,GithubAuthProvider:So,GoogleAuthProvider:_s,OAuthProvider:Da,SAMLAuthProvider:ws,PhoneAuthProvider:bh,PhoneMultiFactorGenerator:lt,RecaptchaVerifier:_m,TwitterAuthProvider:ec,Auth:$a,AuthCredential:Ho,Error:ie.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.5.10")}(U.A)},6554:(_n,vt,k)=>{"use strict";k.d(vt,{PO:()=>wt,ex:()=>ct});var l=k(3953),U=k(4412),Te=k(5964),ie=k(177);const je="primary";class Ue{constructor(Re){Object.assign(this,Re)}static create(Re){return!Re?.template&&!Re?.type&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Ue(Re)}}let ct=(()=>{class it{constructor(){this.spinnerObservable=new U.t(null)}getSpinner(_e){return this.spinnerObservable.asObservable().pipe((0,Te.p)(et=>et&&et.name===_e))}show(_e=je,et){return new Promise((at,ze)=>{setTimeout(()=>{et&&Object.keys(et).length?(et.name=_e,this.spinnerObservable.next(new Ue({...et,show:!0})),at(!0)):(this.spinnerObservable.next(new Ue({name:_e,show:!0})),at(!0))},10)})}hide(_e=je,et=10){return new Promise((at,ze)=>{setTimeout(()=>{this.spinnerObservable.next(new Ue({name:_e,show:!1})),at(!0)},et)})}static#e=this.\u0275fac=function(et){return new(et||it)};static#t=this.\u0275prov=l.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();const ut=new l.nKC("NGX_SPINNER_CONFIG");let wt=(()=>{class it{static forRoot(_e){return{ngModule:it,providers:[{provide:ut,useValue:_e}]}}static#e=this.\u0275fac=function(et){return new(et||it)};static#t=this.\u0275mod=l.$C({type:it});static#n=this.\u0275inj=l.G2t({imports:[ie.MD]})}return it})()},467:(_n,vt,k)=>{"use strict";function l(Te,ie,me,Ae,Oe,$e,Ke){try{var Me=Te[$e](Ke),le=Me.value}catch(Be){return void me(Be)}Me.done?ie(le):Promise.resolve(le).then(Ae,Oe)}function U(Te){return function(){var ie=this,me=arguments;return new Promise(function(Ae,Oe){var $e=Te.apply(ie,me);function Ke(le){l($e,Ae,Oe,Ke,Me,"next",le)}function Me(le){l($e,Ae,Oe,Ke,Me,"throw",le)}Ke(void 0)})}}k.d(vt,{A:()=>U})},1635:(_n,vt,k)=>{"use strict";function ie(q,ne){var ae={};for(var be in q)Object.prototype.hasOwnProperty.call(q,be)&&ne.indexOf(be)<0&&(ae[be]=q[be]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var Tt=0;for(be=Object.getOwnPropertySymbols(q);Tt<be.length;Tt++)ne.indexOf(be[Tt])<0&&Object.prototype.propertyIsEnumerable.call(q,be[Tt])&&(ae[be[Tt]]=q[be[Tt]])}return ae}function me(q,ne,ae,be){var Ht,Tt=arguments.length,Ne=Tt<3?ne:null===be?be=Object.getOwnPropertyDescriptor(ne,ae):be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(q,ne,ae,be);else for(var an=q.length-1;an>=0;an--)(Ht=q[an])&&(Ne=(Tt<3?Ht(Ne):Tt>3?Ht(ne,ae,Ne):Ht(ne,ae))||Ne);return Tt>3&&Ne&&Object.defineProperty(ne,ae,Ne),Ne}function Be(q,ne,ae,be){return new(ae||(ae=Promise))(function(Ne,Ht){function an(Bn){try{Kt(be.next(Bn))}catch(zn){Ht(zn)}}function Hn(Bn){try{Kt(be.throw(Bn))}catch(zn){Ht(zn)}}function Kt(Bn){Bn.done?Ne(Bn.value):function Tt(Ne){return Ne instanceof ae?Ne:new ae(function(Ht){Ht(Ne)})}(Bn.value).then(an,Hn)}Kt((be=be.apply(q,ne||[])).next())})}function it(q){return this instanceof it?(this.v=q,this):new it(q)}function Re(q,ne,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Tt,be=ae.apply(q,ne||[]),Ne=[];return Tt={},an("next"),an("throw"),an("return",function Ht(Zn){return function(pr){return Promise.resolve(pr).then(Zn,zn)}}),Tt[Symbol.asyncIterator]=function(){return this},Tt;function an(Zn,pr){be[Zn]&&(Tt[Zn]=function(Gn){return new Promise(function(dn,On){Ne.push([Zn,Gn,dn,On])>1||Hn(Zn,Gn)})},pr&&(Tt[Zn]=pr(Tt[Zn])))}function Hn(Zn,pr){try{!function Kt(Zn){Zn.value instanceof it?Promise.resolve(Zn.value.v).then(Bn,zn):Ot(Ne[0][2],Zn)}(be[Zn](pr))}catch(Gn){Ot(Ne[0][3],Gn)}}function Bn(Zn){Hn("next",Zn)}function zn(Zn){Hn("throw",Zn)}function Ot(Zn,pr){Zn(pr),Ne.shift(),Ne.length&&Hn(Ne[0][0],Ne[0][1])}}function et(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ne=q[Symbol.asyncIterator];return ne?ne.call(q):(q=function ut(q){var ne="function"==typeof Symbol&&Symbol.iterator,ae=ne&&q[ne],be=0;if(ae)return ae.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&be>=q.length&&(q=void 0),{value:q&&q[be++],done:!q}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ae={},be("next"),be("throw"),be("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function be(Ne){ae[Ne]=q[Ne]&&function(Ht){return new Promise(function(an,Hn){!function Tt(Ne,Ht,an,Hn){Promise.resolve(Hn).then(function(Kt){Ne({value:Kt,done:an})},Ht)}(an,Hn,(Ht=q[Ne](Ht)).done,Ht.value)})}}}k.d(vt,{AQ:()=>Re,Cg:()=>me,N3:()=>it,Tt:()=>ie,sH:()=>Be,xN:()=>et}),"function"==typeof SuppressedError&&SuppressedError}},_n=>{_n(_n.s=6916)}]);